import{S as e,i as t,s as n,e as s,a as l,b as o,d as a,f as i,l as r,j as u,k as c,q as d,a8 as g,p as f,v as p,x as m,t as $,E as v,o as h,F as b,I as x,z as y,B as _,G as w,C as k,H as N,D as j,W as R,J as T,P as A,R as C,O as D,M as I,N as M}from"./App-d2878029.js";import{T as P}from"./UITextField-3ed5f54d.js";import{T as S}from"./UIToolbar-db7ddf99.js";import{S as U}from"./UISegmented-fcdef262.js";function F(e,t,n){const s=e.slice();return s[7]=t[n],s[9]=n,s}function H(e){let t,n,p,m,$,v,h,b,x;function y(...t){return e[6](e[9],...t)}return{c(){t=s("div"),n=s("input"),m=l(),$=s("button"),$.innerHTML='<i class="icon ion-md-close text-xl"></i>',v=l(),o(n,"type","text"),o(n,"class","flex-grow bg-gray-100 self-center"),o(n,"placeholder",e[2]),n.value=p=e[7],o($,"class","flex-none ml-2"),o(t,"class","flex rounded-lg bg-gray-100 p-2 my-2")},m(e,s,l){a(e,t,s),i(t,n),i(t,m),i(t,$),i(t,v),b=!0,l&&x(),x=r($,"click",y)},p(t,s){e=t,(!b||4&s)&&o(n,"placeholder",e[2]),(!b||1&s&&p!==(p=e[7])&&n.value!==p)&&(n.value=p)},i(e){b||(u(()=>{h||(h=c(t,g,{duration:300,easing:d},!0)),h.run(1)}),b=!0)},o(e){h||(h=c(t,g,{duration:300,easing:d},!1)),h.run(0),b=!1},d(e){e&&f(t),e&&h&&h.end(),x()}}}function L(e){let t,n,u,c,d,g,y,_,w,k,N=e[0],j=[];for(let t=0;t<N.length;t+=1)j[t]=H(F(e,N,t));const R=e=>h(j[e],1,1,()=>{j[e]=null});return{c(){t=s("div"),n=s("div"),u=s("label"),c=p(e[1]),d=l(),g=s("button"),g.innerHTML='<i class="icon ion-md-add text-xl"></i>',y=l();for(let e=0;e<j.length;e+=1)j[e].c();o(u,"class","flex-grow self-center text-xs uppercase text-gray-500 font-semibold"),o(g,"class","flex-none"),o(n,"class","flex"),o(t,"class",_=e[3].container)},m(s,l,o){a(s,t,l),i(t,n),i(n,u),i(u,c),i(n,d),i(n,g),i(t,y);for(let e=0;e<j.length;e+=1)j[e].m(t,null);w=!0,o&&k(),k=r(g,"click",e[4])},p(e,[n]){if((!w||2&n)&&m(c,e[1]),37&n){let s;for(N=e[0],s=0;s<N.length;s+=1){const l=F(e,N,s);j[s]?(j[s].p(l,n),$(j[s],1)):(j[s]=H(l),j[s].c(),$(j[s],1),j[s].m(t,null))}for(v(),s=N.length;s<j.length;s+=1)R(s);b()}(!w||8&n&&_!==(_=e[3].container))&&o(t,"class",_)},i(e){if(!w){for(let e=0;e<N.length;e+=1)$(j[e]);w=!0}},o(e){j=j.filter(Boolean);for(let e=0;e<j.length;e+=1)h(j[e]);w=!1},d(e){e&&f(t),x(j,e),k()}}}function O(e,t,n){let{value:s=[]}=t,{label:l=""}=t,{placeholder:o=""}=t,{style:a={}}=t;function i(e){n(0,s=[...s.slice(0,e),...s.slice(e+1,s.length)])}return e.$set=e=>{"value"in e&&n(0,s=e.value),"label"in e&&n(1,l=e.label),"placeholder"in e&&n(2,o=e.placeholder),"style"in e&&n(3,a=e.style)},[s,l,o,a,function(){n(0,s=[...s,""])},i,e=>i(e)]}class B extends e{constructor(e){super(),t(this,e,O,L,n,{value:0,label:1,placeholder:2,style:3})}}function q(e){let t,n,r,u,c,d,g,v,b,x,N,j,R,T,D,I,M,S,F,H,L,O,q,z,E,G,J,W,K,Q,V,X,Y,Z=e[0].settings.short_id+"";function ee(t){e[6].call(null,t)}let te={style:e[3],label:"Name"};void 0!==e[0].settings.name&&(te.value=e[0].settings.name);const ne=new P({props:te});function se(t){e[7].call(null,t)}A.push(()=>C(ne,"value",ee));let le={style:e[3],label:"Identifier"};void 0!==e[0].settings.short_id&&(le.value=e[0].settings.short_id);const oe=new P({props:le});function ae(t){e[8].call(null,t)}A.push(()=>C(oe,"value",se));let ie={style:e[3],label:"Delivery Fees"};void 0!==e[0].settings.delivery_fees&&(ie.value=e[0].settings.delivery_fees);const re=new P({props:ie});function ue(t){e[9].call(null,t)}A.push(()=>C(re,"value",ae));let ce={style:e[3],label:"Phone Number"};void 0!==e[0].settings.phone&&(ce.value=e[0].settings.phone);const de=new P({props:ce});function ge(t){e[10].call(null,t)}A.push(()=>C(de,"value",ue));let fe={style:e[3],label:"Checkout Notes"};void 0!==e[0].settings.checkout_notes&&(fe.value=e[0].settings.checkout_notes);const pe=new P({props:fe});function me(t){e[11].call(null,t)}A.push(()=>C(pe,"value",ge));let $e={style:e[3],label:"Order Methods",segments:[{name:"All",value:""},{name:"No Delivery",value:"no_delivery"}]};void 0!==e[0].settings.order_methods&&($e.value=e[0].settings.order_methods);const ve=new U({props:$e});function he(t){e[12].call(null,t)}A.push(()=>C(ve,"value",me));let be={style:e[3],label:"Multiplier"};void 0!==e[0].settings.multiplier&&(be.value=e[0].settings.multiplier);const xe=new P({props:be});function ye(t){e[13].call(null,t)}A.push(()=>C(xe,"value",he));let _e={style:e[3],label:"Rounding",segments:[{name:"No Rounding",value:""},{name:"Round Down",value:"round_down"},{name:"Round Up",value:"round_up"}]};void 0!==e[0].settings.rounding&&(_e.value=e[0].settings.rounding);const we=new U({props:_e});function ke(t){e[14].call(null,t)}A.push(()=>C(we,"value",ye));let Ne={style:e[3],label:"Deduction Presets",placeholder:"e.g : 100"};void 0!==e[0].settings.deduct_presets&&(Ne.value=e[0].settings.deduct_presets);const je=new B({props:Ne});return A.push(()=>C(je,"value",ke)),{c(){t=s("p"),t.textContent="Account",n=l(),r=s("div"),y(ne.$$.fragment),c=l(),d=s("p"),d.textContent="Orders",g=l(),v=s("div"),y(oe.$$.fragment),x=l(),N=s("p"),j=s("a"),R=p("https://instant.getorders.app/?m="),T=p(Z),I=l(),y(re.$$.fragment),S=l(),y(de.$$.fragment),H=l(),y(pe.$$.fragment),O=l(),y(ve.$$.fragment),z=l(),E=s("p"),E.textContent="Loyalty",G=l(),J=s("div"),y(xe.$$.fragment),K=l(),y(we.$$.fragment),V=l(),y(je.$$.fragment),o(t,"class","text-xl font-bold mt-3"),o(r,"class","flex"),o(d,"class","text-xl font-bold mt-3"),o(j,"href",D="https://instant.getorders.app/?m="+e[0].settings.short_id),o(j,"target","_blank"),o(N,"class","text-xs px-3 mb-3 font-semibold"),o(E,"class","text-xl font-bold mt-3")},m(e,s){a(e,t,s),a(e,n,s),a(e,r,s),_(ne,r,null),a(e,c,s),a(e,d,s),a(e,g,s),a(e,v,s),_(oe,v,null),i(v,x),i(v,N),i(N,j),i(j,R),i(j,T),i(v,I),_(re,v,null),i(v,S),_(de,v,null),i(v,H),_(pe,v,null),i(v,O),_(ve,v,null),a(e,z,s),a(e,E,s),a(e,G,s),a(e,J,s),_(xe,J,null),i(J,K),_(we,J,null),i(J,V),_(je,J,null),Y=!0},p(e,t){const n={};!u&&1&t&&(u=!0,n.value=e[0].settings.name,w(()=>u=!1)),ne.$set(n);const s={};!b&&1&t&&(b=!0,s.value=e[0].settings.short_id,w(()=>b=!1)),oe.$set(s),(!Y||1&t)&&Z!==(Z=e[0].settings.short_id+"")&&m(T,Z),(!Y||1&t&&D!==(D="https://instant.getorders.app/?m="+e[0].settings.short_id))&&o(j,"href",D);const l={};!M&&1&t&&(M=!0,l.value=e[0].settings.delivery_fees,w(()=>M=!1)),re.$set(l);const a={};!F&&1&t&&(F=!0,a.value=e[0].settings.phone,w(()=>F=!1)),de.$set(a);const i={};!L&&1&t&&(L=!0,i.value=e[0].settings.checkout_notes,w(()=>L=!1)),pe.$set(i);const r={};!q&&1&t&&(q=!0,r.value=e[0].settings.order_methods,w(()=>q=!1)),ve.$set(r);const c={};!W&&1&t&&(W=!0,c.value=e[0].settings.multiplier,w(()=>W=!1)),xe.$set(c);const d={};!Q&&1&t&&(Q=!0,d.value=e[0].settings.rounding,w(()=>Q=!1)),we.$set(d);const g={};!X&&1&t&&(X=!0,g.value=e[0].settings.deduct_presets,w(()=>X=!1)),je.$set(g)},i(e){Y||($(ne.$$.fragment,e),$(oe.$$.fragment,e),$(re.$$.fragment,e),$(de.$$.fragment,e),$(pe.$$.fragment,e),$(ve.$$.fragment,e),$(xe.$$.fragment,e),$(we.$$.fragment,e),$(je.$$.fragment,e),Y=!0)},o(e){h(ne.$$.fragment,e),h(oe.$$.fragment,e),h(re.$$.fragment,e),h(de.$$.fragment,e),h(pe.$$.fragment,e),h(ve.$$.fragment,e),h(xe.$$.fragment,e),h(we.$$.fragment,e),h(je.$$.fragment,e),Y=!1},d(e){e&&f(t),e&&f(n),e&&f(r),k(ne),e&&f(c),e&&f(d),e&&f(g),e&&f(v),k(oe),k(re),k(de),k(pe),k(ve),e&&f(z),e&&f(E),e&&f(G),e&&f(J),k(xe),k(we),k(je)}}}function z(e){let t,n,s;const o=new S({props:{class:"border-b border-gray-300",tools:e[1]}});o.$on("selected",e[2]);let i=e[0].settings&&q(e);return{c(){y(o.$$.fragment),t=l(),i&&i.c(),n=N()},m(e,l){_(o,e,l),a(e,t,l),i&&i.m(e,l),a(e,n,l),s=!0},p(e,[t]){e[0].settings?i?(i.p(e,t),$(i,1)):(i=q(e),i.c(),$(i,1),i.m(n.parentNode,n)):i&&(v(),h(i,1,1,()=>{i=null}),b())},i(e){s||($(o.$$.fragment,e),$(i),s=!0)},o(e){h(o.$$.fragment,e),h(i),s=!1},d(e){k(o,e),e&&f(t),i&&i.d(e),e&&f(n)}}}function E(e,t,n){let s,l;j(e,R,e=>n(4,s=e)),j(e,T,e=>n(0,l=e));return[l,[{name:"Save",icon:"cloud-done",function:"save"}],function(e){switch(e.detail.function){case"save":D(R,s=!0),fetch(I("/settings"),M(l.settings)).then(e=>e.json()).then(e=>{D(T,l=e),D(R,s=!1)}).catch(e=>{})}},{container:"p-2 w-1/2 flex-none",label:"w-32"},s,{Account:{name:{desc:"Account name",value:"",key:"name"}},Points:{multiplier:{desc:"Points awarded per spending",value:1,key:"multiplier"},rounding:{desc:"Rounding for spending amount",value:["no_rounding","round_down","round_up"],key:"rounding"}}},function(e){l.settings.name=e,T.set(l)},function(e){l.settings.short_id=e,T.set(l)},function(e){l.settings.delivery_fees=e,T.set(l)},function(e){l.settings.phone=e,T.set(l)},function(e){l.settings.checkout_notes=e,T.set(l)},function(e){l.settings.order_methods=e,T.set(l)},function(e){l.settings.multiplier=e,T.set(l)},function(e){l.settings.rounding=e,T.set(l)},function(e){l.settings.deduct_presets=e,T.set(l)}]}export default class extends e{constructor(e){super(),t(this,e,E,z,n,{})}}
//# sourceMappingURL=Settings-e89a11d7.js.map
