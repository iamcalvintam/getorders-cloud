import{S as e,i as t,s as n,e as s,a as l,b as o,c as a,d as i,l as r,P as c,aa as u,ab as g,ac as d,h as f,t as m,g as p,k as $,r as v,o as h,u as b,y as x,j as y,ad as w,m as _,v as k,Z as C,_ as T,Q as S,n as L,w as N,p as I,x as j,q as A,U as D,z as P,F as R,G as U,C as M,D as B,E as F,T as O}from"./Web-f665e459.js";import{T as E}from"./UITextField-17a4870d.js";import{T as z}from"./UIToolbar-18ac6b84.js";import{S as G}from"./UISegmented-60ba4dbf.js";import"./dayjs.min-056200c8.js";function H(e,t,n){const s=e.slice();return s[7]=t[n],s[9]=n,s}function q(e){let t,n,m,p,$,v,h,b,x,y;function w(...t){return e[6](e[9],...t)}return{c(){t=s("div"),n=s("input"),p=l(),$=s("button"),$.innerHTML='<i class="icon ion-md-close text-xl"></i>',v=l(),o(n,"type","text"),o(n,"class","flex-grow bg-gray-100 self-center"),o(n,"placeholder",e[2]),n.value=m=e[7],o($,"class","flex-none ml-2"),o(t,"class","flex rounded-lg bg-gray-100 p-2 my-2")},m(e,s){a(e,t,s),i(t,n),i(t,p),i(t,$),i(t,v),b=!0,x||(y=r($,"click",w),x=!0)},p(t,s){e=t,(!b||4&s)&&o(n,"placeholder",e[2]),(!b||1&s&&m!==(m=e[7])&&n.value!==m)&&(n.value=m)},i(e){b||(c(()=>{h||(h=u(t,d,{duration:300,easing:g},!0)),h.run(1)}),b=!0)},o(e){h||(h=u(t,d,{duration:300,easing:g},!1)),h.run(0),b=!1},d(e){e&&f(t),e&&h&&h.end(),x=!1,y()}}}function Q(e){let t,n,c,u,g,d,y,w,_,k,C,T=e[0],S=[];for(let t=0;t<T.length;t+=1)S[t]=q(H(e,T,t));const L=e=>h(S[e],1,1,()=>{S[e]=null});return{c(){t=s("div"),n=s("div"),c=s("label"),u=m(e[1]),g=l(),d=s("button"),d.innerHTML='<i class="icon ion-md-add text-xl"></i>',y=l();for(let e=0;e<S.length;e+=1)S[e].c();o(c,"class","flex-grow self-center text-xs uppercase text-gray-500 font-semibold"),o(d,"class","flex-none"),o(n,"class","flex"),o(t,"class",w=e[3].container)},m(s,l){a(s,t,l),i(t,n),i(n,c),i(c,u),i(n,g),i(n,d),i(t,y);for(let e=0;e<S.length;e+=1)S[e].m(t,null);_=!0,k||(C=r(d,"click",e[4]),k=!0)},p(e,[n]){if((!_||2&n)&&p(u,e[1]),37&n){let s;for(T=e[0],s=0;s<T.length;s+=1){const l=H(e,T,s);S[s]?(S[s].p(l,n),$(S[s],1)):(S[s]=q(l),S[s].c(),$(S[s],1),S[s].m(t,null))}for(v(),s=T.length;s<S.length;s+=1)L(s);b()}(!_||8&n&&w!==(w=e[3].container))&&o(t,"class",w)},i(e){if(!_){for(let e=0;e<T.length;e+=1)$(S[e]);_=!0}},o(e){S=S.filter(Boolean);for(let e=0;e<S.length;e+=1)h(S[e]);_=!1},d(e){e&&f(t),x(S,e),k=!1,C()}}}function W(e,t,n){let{value:s=[]}=t,{label:l=""}=t,{placeholder:o=""}=t,{style:a={}}=t;function i(e){n(0,s=[...s.slice(0,e),...s.slice(e+1,s.length)])}return e.$$set=e=>{"value"in e&&n(0,s=e.value),"label"in e&&n(1,l=e.label),"placeholder"in e&&n(2,o=e.placeholder),"style"in e&&n(3,a=e.style)},[s,l,o,a,function(){n(0,s=[...s,""])},i,e=>i(e)]}class Y extends e{constructor(e){super(),t(this,e,W,Q,n,{value:0,label:1,placeholder:2,style:3})}}function Z(e,t,n){const s=e.slice();return s[37]=t[n],s}function J(e,t,n){const s=e.slice();return s[40]=t[n],s}function K(e){let t,n,c,u,g,d,v,b,x,C,T,S,L,N,j,A,D,P,M,B,F,O,z,H,q,Q,W,Z,J,K,se,oe,ae,ie,re,ce,ue,ge,de,fe,me,pe,$e,ve,he,be,xe,ye,we,_e,ke,Ce,Te,Se,Le,Ne,Ie,je,Ae,De,Pe,Re,Ue,Me,Be,Fe,Oe,Ee,ze,Ge,He,qe,Qe,We,Ye,Ze,Je,Ke,Ve,Xe,et,tt,nt,st,lt,ot,at,it,rt,ct,ut=e[2].settings.short_id+"";function gt(t){e[10].call(null,t)}let dt={style:e[8],label:"Business Name"};function ft(e,t){return e[2].settings.logo_raw?V:X}void 0!==e[2].settings.name&&(dt.value=e[2].settings.name),c=new E({props:dt}),R.push(()=>U(c,"value",gt));let mt=ft(e),pt=mt(e),$t=e[2].settings.logo&&ee(e);function vt(e,t){return e[2].settings.timeslots.length>0?ne:te}let ht=vt(e),bt=ht(e),xt=e[2].settings.timeslots.length>0&&le(e);function yt(t){e[18].call(null,t)}let wt={style:e[8],label:"Address"};function _t(t){e[19].call(null,t)}void 0!==e[2].settings.address&&(wt.value=e[2].settings.address),W=new E({props:wt}),R.push(()=>U(W,"value",yt));let kt={style:e[8],label:"Address 2"};function Ct(t){e[20].call(null,t)}void 0!==e[2].settings.address2&&(kt.value=e[2].settings.address2),K=new E({props:kt}),R.push(()=>U(K,"value",_t));let Tt={style:e[8],label:"Postcode"};function St(t){e[21].call(null,t)}void 0!==e[2].settings.postcode&&(Tt.value=e[2].settings.postcode),ae=new E({props:Tt}),R.push(()=>U(ae,"value",Ct));let Lt={style:e[8],label:"Coordinates",placeholder:"3.123123,4.123231"};function Nt(t){e[22].call(null,t)}void 0!==e[2].settings.coordinates&&(Lt.value=e[2].settings.coordinates),ce=new E({props:Lt}),R.push(()=>U(ce,"value",St));let It={style:e[8],label:"Status",segments:[{name:"Online",value:!1},{name:"Offline",value:!0}]};function jt(t){e[23].call(null,t)}void 0!==e[2].settings.offline&&(It.value=e[2].settings.offline),ve=new G({props:It}),R.push(()=>U(ve,"value",Nt));let At={style:e[8],label:"Identifier"};function Dt(t){e[24].call(null,t)}void 0!==e[2].settings.short_id&&(At.value=e[2].settings.short_id),xe=new E({props:At}),R.push(()=>U(xe,"value",jt));let Pt={style:e[8],label:"SST Tax (%)"};function Rt(t){e[25].call(null,t)}void 0!==e[2].settings.tax&&(Pt.value=e[2].settings.tax),Ne=new E({props:Pt}),R.push(()=>U(Ne,"value",Dt));let Ut={style:e[8],label:"Delivery Fees"};function Mt(t){e[26].call(null,t)}void 0!==e[2].settings.delivery_fees&&(Ut.value=e[2].settings.delivery_fees),Ae=new E({props:Ut}),R.push(()=>U(Ae,"value",Rt));let Bt={style:e[8],label:"Phone Number"};function Ft(t){e[27].call(null,t)}void 0!==e[2].settings.phone&&(Bt.value=e[2].settings.phone),Re=new E({props:Bt}),R.push(()=>U(Re,"value",Mt));let Ot={style:e[8],label:"Announcement"};function Et(t){e[28].call(null,t)}void 0!==e[2].settings.announcement&&(Ot.value=e[2].settings.announcement),Be=new E({props:Ot}),R.push(()=>U(Be,"value",Ft));let zt={style:e[8],label:"Checkout Notes"};function Gt(t){e[29].call(null,t)}void 0!==e[2].settings.checkout_notes&&(zt.value=e[2].settings.checkout_notes),Ee=new E({props:zt}),R.push(()=>U(Ee,"value",Et));let Ht={style:e[8],label:"Order Methods",segments:[{name:"All",value:""},{name:"No Delivery",value:"no_delivery"},{name:"No Pickup",value:"no_pickup"}]};function qt(t){e[30].call(null,t)}void 0!==e[2].settings.order_methods&&(Ht.value=e[2].settings.order_methods),He=new G({props:Ht}),R.push(()=>U(He,"value",Gt));let Qt={style:e[8],label:"List Layout",segments:[{name:"Grid",value:""},{name:"List",value:"list"}]};function Wt(t){e[31].call(null,t)}void 0!==e[2].settings.list_style&&(Qt.value=e[2].settings.list_style),We=new G({props:Qt}),R.push(()=>U(We,"value",qt));let Yt={style:e[8],label:"Multiplier"};function Zt(t){e[32].call(null,t)}void 0!==e[2].settings.multiplier&&(Yt.value=e[2].settings.multiplier),Xe=new E({props:Yt}),R.push(()=>U(Xe,"value",Wt));let Jt={style:e[8],label:"Rounding",segments:[{name:"No Rounding",value:""},{name:"Round Down",value:"round_down"},{name:"Round Up",value:"round_up"}]};function Kt(t){e[33].call(null,t)}void 0!==e[2].settings.rounding&&(Jt.value=e[2].settings.rounding),nt=new G({props:Jt}),R.push(()=>U(nt,"value",Zt));let Vt={style:e[8],label:"Deduction Presets",placeholder:"e.g : 100"};return void 0!==e[2].settings.deduct_presets&&(Vt.value=e[2].settings.deduct_presets),ot=new Y({props:Vt}),R.push(()=>U(ot,"value",Kt)),{c(){t=s("p"),t.textContent="Your Details",n=l(),y(c.$$.fragment),g=l(),d=s("div"),v=s("label"),v.textContent="Business Logo",b=l(),x=s("label"),pt.c(),C=l(),T=s("input"),L=l(),$t&&$t.c(),j=l(),A=s("div"),D=s("label"),P=m("Time Slots"),B=l(),F=s("div"),bt.c(),O=l(),xt&&xt.c(),H=l(),q=s("p"),q.textContent="Pickup Location",Q=l(),y(W.$$.fragment),J=l(),y(K.$$.fragment),oe=l(),y(ae.$$.fragment),re=l(),y(ce.$$.fragment),ge=l(),de=s("p"),de.textContent="Ensure that the details above is correct, as price estimation and riders depend on the accuracy of this information.",fe=l(),me=s("p"),me.textContent="Orders",pe=l(),$e=s("div"),y(ve.$$.fragment),be=l(),y(xe.$$.fragment),we=l(),_e=s("p"),ke=s("a"),Ce=m("https://getorders.app/#"),Te=m(ut),Le=l(),y(Ne.$$.fragment),je=l(),y(Ae.$$.fragment),Pe=l(),y(Re.$$.fragment),Me=l(),y(Be.$$.fragment),Oe=l(),y(Ee.$$.fragment),Ge=l(),y(He.$$.fragment),Qe=l(),y(We.$$.fragment),Ze=l(),Je=s("p"),Je.textContent="Loyalty",Ke=l(),Ve=s("div"),y(Xe.$$.fragment),tt=l(),y(nt.$$.fragment),lt=l(),y(ot.$$.fragment),o(t,"class","sect text-theme svelte-1cgd9p3"),o(v,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),o(T,"type","file"),o(T,"class","hidden"),o(x,"class",S="p-2 block rounded cursor-pointer border shadow-sm "+(e[2].settings.logo_raw?"bg-theme text-white":"")),o(d,"class",N=w(e[8].container)+" svelte-1cgd9p3"),o(D,"class",M="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 "+e[8].label+" svelte-1cgd9p3"),o(F,"class","border rounded shadow-sm p-2 w-full flex flex-wrap mb-2"),o(A,"class",z=w(e[8].container)+" svelte-1cgd9p3"),o(q,"class","sect text-theme svelte-1cgd9p3"),o(de,"class","text-xs px-3 mb-3 font-semibold"),o(me,"class","sect text-theme svelte-1cgd9p3"),o(ke,"href",Se="https://getorders.app/#"+e[2].settings.short_id),o(ke,"target","_blank"),o(_e,"class","text-xs px-3 mb-3 font-semibold"),o(Je,"class","sect text-theme svelte-1cgd9p3")},m(s,l){a(s,t,l),a(s,n,l),_(c,s,l),a(s,g,l),a(s,d,l),i(d,v),i(d,b),i(d,x),pt.m(x,null),i(x,C),i(x,T),e[11](T),i(d,L),$t&&$t.m(d,null),a(s,j,l),a(s,A,l),i(A,D),i(D,P),i(A,B),i(A,F),bt.m(F,null),i(A,O),xt&&xt.m(A,null),a(s,H,l),a(s,q,l),a(s,Q,l),_(W,s,l),a(s,J,l),_(K,s,l),a(s,oe,l),_(ae,s,l),a(s,re,l),_(ce,s,l),a(s,ge,l),a(s,de,l),a(s,fe,l),a(s,me,l),a(s,pe,l),a(s,$e,l),_(ve,$e,null),i($e,be),_(xe,$e,null),i($e,we),i($e,_e),i(_e,ke),i(ke,Ce),i(ke,Te),i($e,Le),_(Ne,$e,null),i($e,je),_(Ae,$e,null),i($e,Pe),_(Re,$e,null),i($e,Me),_(Be,$e,null),i($e,Oe),_(Ee,$e,null),i($e,Ge),_(He,$e,null),i($e,Qe),_(We,$e,null),a(s,Ze,l),a(s,Je,l),a(s,Ke,l),a(s,Ve,l),_(Xe,Ve,null),i(Ve,tt),_(nt,Ve,null),i(Ve,lt),_(ot,Ve,null),it=!0,rt||(ct=r(T,"change",e[9]),rt=!0)},p(e,t){const n={};!u&&4&t[0]&&(u=!0,n.value=e[2].settings.name,k(()=>u=!1)),c.$set(n),mt!==(mt=ft(e))&&(pt.d(1),pt=mt(e),pt&&(pt.c(),pt.m(x,C))),(!it||4&t[0]&&S!==(S="p-2 block rounded cursor-pointer border shadow-sm "+(e[2].settings.logo_raw?"bg-theme text-white":"")))&&o(x,"class",S),e[2].settings.logo?$t?$t.p(e,t):($t=ee(e),$t.c(),$t.m(d,null)):$t&&($t.d(1),$t=null),ht===(ht=vt(e))&&bt?bt.p(e,t):(bt.d(1),bt=ht(e),bt&&(bt.c(),bt.m(F,null))),e[2].settings.timeslots.length>0?xt?xt.p(e,t):(xt=le(e),xt.c(),xt.m(A,null)):xt&&(xt.d(1),xt=null);const s={};!Z&&4&t[0]&&(Z=!0,s.value=e[2].settings.address,k(()=>Z=!1)),W.$set(s);const l={};!se&&4&t[0]&&(se=!0,l.value=e[2].settings.address2,k(()=>se=!1)),K.$set(l);const a={};!ie&&4&t[0]&&(ie=!0,a.value=e[2].settings.postcode,k(()=>ie=!1)),ae.$set(a);const i={};!ue&&4&t[0]&&(ue=!0,i.value=e[2].settings.coordinates,k(()=>ue=!1)),ce.$set(i);const r={};!he&&4&t[0]&&(he=!0,r.value=e[2].settings.offline,k(()=>he=!1)),ve.$set(r);const g={};!ye&&4&t[0]&&(ye=!0,g.value=e[2].settings.short_id,k(()=>ye=!1)),xe.$set(g),(!it||4&t[0])&&ut!==(ut=e[2].settings.short_id+"")&&p(Te,ut),(!it||4&t[0]&&Se!==(Se="https://getorders.app/#"+e[2].settings.short_id))&&o(ke,"href",Se);const f={};!Ie&&4&t[0]&&(Ie=!0,f.value=e[2].settings.tax,k(()=>Ie=!1)),Ne.$set(f);const m={};!De&&4&t[0]&&(De=!0,m.value=e[2].settings.delivery_fees,k(()=>De=!1)),Ae.$set(m);const $={};!Ue&&4&t[0]&&(Ue=!0,$.value=e[2].settings.phone,k(()=>Ue=!1)),Re.$set($);const v={};!Fe&&4&t[0]&&(Fe=!0,v.value=e[2].settings.announcement,k(()=>Fe=!1)),Be.$set(v);const h={};!ze&&4&t[0]&&(ze=!0,h.value=e[2].settings.checkout_notes,k(()=>ze=!1)),Ee.$set(h);const b={};!qe&&4&t[0]&&(qe=!0,b.value=e[2].settings.order_methods,k(()=>qe=!1)),He.$set(b);const y={};!Ye&&4&t[0]&&(Ye=!0,y.value=e[2].settings.list_style,k(()=>Ye=!1)),We.$set(y);const w={};!et&&4&t[0]&&(et=!0,w.value=e[2].settings.multiplier,k(()=>et=!1)),Xe.$set(w);const _={};!st&&4&t[0]&&(st=!0,_.value=e[2].settings.rounding,k(()=>st=!1)),nt.$set(_);const T={};!at&&4&t[0]&&(at=!0,T.value=e[2].settings.deduct_presets,k(()=>at=!1)),ot.$set(T)},i(e){it||($(c.$$.fragment,e),$(W.$$.fragment,e),$(K.$$.fragment,e),$(ae.$$.fragment,e),$(ce.$$.fragment,e),$(ve.$$.fragment,e),$(xe.$$.fragment,e),$(Ne.$$.fragment,e),$(Ae.$$.fragment,e),$(Re.$$.fragment,e),$(Be.$$.fragment,e),$(Ee.$$.fragment,e),$(He.$$.fragment,e),$(We.$$.fragment,e),$(Xe.$$.fragment,e),$(nt.$$.fragment,e),$(ot.$$.fragment,e),it=!0)},o(e){h(c.$$.fragment,e),h(W.$$.fragment,e),h(K.$$.fragment,e),h(ae.$$.fragment,e),h(ce.$$.fragment,e),h(ve.$$.fragment,e),h(xe.$$.fragment,e),h(Ne.$$.fragment,e),h(Ae.$$.fragment,e),h(Re.$$.fragment,e),h(Be.$$.fragment,e),h(Ee.$$.fragment,e),h(He.$$.fragment,e),h(We.$$.fragment,e),h(Xe.$$.fragment,e),h(nt.$$.fragment,e),h(ot.$$.fragment,e),it=!1},d(s){s&&f(t),s&&f(n),I(c,s),s&&f(g),s&&f(d),pt.d(),e[11](null),$t&&$t.d(),s&&f(j),s&&f(A),bt.d(),xt&&xt.d(),s&&f(H),s&&f(q),s&&f(Q),I(W,s),s&&f(J),I(K,s),s&&f(oe),I(ae,s),s&&f(re),I(ce,s),s&&f(ge),s&&f(de),s&&f(fe),s&&f(me),s&&f(pe),s&&f($e),I(ve),I(xe),I(Ne),I(Ae),I(Re),I(Be),I(Ee),I(He),I(We),s&&f(Ze),s&&f(Je),s&&f(Ke),s&&f(Ve),I(Xe),I(nt),I(ot),rt=!1,ct()}}}function V(e){let t,n,i;return{c(){t=s("i"),n=l(),i=s("span"),i.textContent="Image Selected",o(t,"class","icon ion-md-cloud-done px-1"),o(i,"class","mt-2 text-base leading-normal")},m(e,s){a(e,t,s),a(e,n,s),a(e,i,s)},d(e){e&&f(t),e&&f(n),e&&f(i)}}}function X(e){let t,n,i;return{c(){t=s("i"),n=l(),i=s("span"),i.textContent="Upload Image",o(t,"class","icon ion-md-cloud-upload px-1"),o(i,"class","mt-2 text-base leading-normal")},m(e,s){a(e,t,s),a(e,n,s),a(e,i,s)},d(e){e&&f(t),e&&f(n),e&&f(i)}}}function ee(e){let t;return{c(){t=s("div"),o(t,"class","w-16 h-16 m-1 border bg-cover bg-center"),C(t,"background-image","url("+T+e[2].settings.logo+")")},m(e,n){a(e,t,n)},p(e,n){4&n[0]&&C(t,"background-image","url("+T+e[2].settings.logo+")")},d(e){e&&f(t)}}}function te(e){let t,n,l;return{c(){t=s("p"),t.textContent="No Time Slots Specified. Tap To Add Time Slots.",o(t,"class","text-gray-500 cursor-pointer")},m(s,o){a(s,t,o),n||(l=r(t,"click",e[13]),n=!0)},p:L,d(e){e&&f(t),n=!1,l()}}}function ne(e){let t,n=e[2].settings.timeslots,s=[];for(let t=0;t<n.length;t+=1)s[t]=se(J(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=j()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);a(e,t,n)},p(e,l){if(68&l[0]){let o;for(n=e[2].settings.timeslots,o=0;o<n.length;o+=1){const a=J(e,n,o);s[o]?s[o].p(a,l):(s[o]=se(a),s[o].c(),s[o].m(t.parentNode,t))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(e){x(s,e),e&&f(t)}}}function se(e){let t,n,l,c,u,g=ie(e[40])+"";function d(...t){return e[12](e[40],...t)}return{c(){t=s("span"),n=m(g),l=s("i"),o(l,"class","icon ion-md-close pl-2 font-semibold"),o(t,"class","inline-block p-2 rounded-lg text-xs bg-theme text-white m-1")},m(e,s){a(e,t,s),i(t,n),i(t,l),c||(u=r(t,"click",d),c=!0)},p(t,s){e=t,4&s[0]&&g!==(g=ie(e[40])+"")&&p(n,g)},d(e){e&&f(t),c=!1,u()}}}function le(e){let t,n,i,u,g,d,m,p=e[3],$=[];for(let t=0;t<p.length;t+=1)$[t]=oe(Z(e,p,t));return{c(){t=s("button"),t.textContent="Clear",n=l(),i=s("button"),i.textContent="Reset",u=l(),g=s("select");for(let e=0;e<$.length;e+=1)$[e].c();o(t,"class","p-1 px-2 bg-theme rounded-lg text-sm text-white mr-2"),o(i,"class","p-1 px-2 bg-theme rounded-lg text-sm text-white mr-2"),void 0===e[0]&&c(()=>e[16].call(g))},m(s,l){a(s,t,l),a(s,n,l),a(s,i,l),a(s,u,l),a(s,g,l);for(let e=0;e<$.length;e+=1)$[e].m(g,null);S(g,e[0]),d||(m=[r(t,"click",e[14]),r(i,"click",e[15]),r(g,"change",e[16]),r(g,"change",e[17])],d=!0)},p(e,t){if(8&t[0]){let n;for(p=e[3],n=0;n<p.length;n+=1){const s=Z(e,p,n);$[n]?$[n].p(s,t):($[n]=oe(s),$[n].c(),$[n].m(g,null))}for(;n<$.length;n+=1)$[n].d(1);$.length=p.length}9&t[0]&&S(g,e[0])},d(e){e&&f(t),e&&f(n),e&&f(i),e&&f(u),e&&f(g),x($,e),d=!1,N(m)}}}function oe(e){let t,n,l,o,r=e[37]+"";return{c(){t=s("option"),n=m(r),l=m(" minutes"),t.__value=o=e[37],t.value=t.__value},m(e,s){a(e,t,s),i(t,n),i(t,l)},p:L,d(e){e&&f(t)}}}function ae(e){let t,n,s,o;t=new z({props:{class:"border-b border-gray-300",tools:e[4]}}),t.$on("selected",e[5]);let i=e[2].settings&&K(e);return{c(){y(t.$$.fragment),n=l(),i&&i.c(),s=j()},m(e,l){_(t,e,l),a(e,n,l),i&&i.m(e,l),a(e,s,l),o=!0},p(e,t){e[2].settings?i?(i.p(e,t),4&t[0]&&$(i,1)):(i=K(e),i.c(),$(i,1),i.m(s.parentNode,s)):i&&(v(),h(i,1,1,()=>{i=null}),b())},i(e){o||($(t.$$.fragment,e),$(i),o=!0)},o(e){h(t.$$.fragment,e),h(i),o=!1},d(e){I(t,e),e&&f(n),i&&i.d(e),e&&f(s)}}}function ie(e){var t=e.split(":"),n="AM",s=parseInt(t);return s>12&&(s-=12,n="PM"),`${s}:${t[1]}${n}`}function re(e){var t=""+e[1];return e[1]<10&&(t="0"+t),`${e[0]}:${t}`}function ce(e,t,n){let s,l;A(e,D,e=>n(34,s=e)),A(e,P,e=>n(2,l=e));let o,a=[45,30,15,10,5],i=30,r=[8,0],c=[23,30];function u(e){M(P,l.settings.timeslots=l.settings.timeslots.filter(t=>t!=e),l)}function g(e){var t=r.slice();let n=[re(t)];for(var s=1;s<60&&!(t[0]>=c[0]&&t[1]>=c[1]);s++)t[1]+=e,t[1]>=60&&(t[0]+=1,t[1]=t[1]-60),n=[...n,re(t)];M(P,l.settings.timeslots=n,l)}return[i,o,l,a,[{name:"Save",icon:"cloud-done",function:"save"}],function(e){switch(e.detail.function){case"save":M(D,s=!0),B(F("/settings"),l.settings).then(e=>{M(P,l=e),M(D,s=!1)}).catch(e=>{})}},u,g,{container:"p-2 md:w-1/2 flex-none",label:"w-32"},function(){let e=new FileReader;e.readAsDataURL(o.files[0]),e.onload=()=>{let t=e.result;M(P,l.settings.logo_raw=t,l)}},function(e){l.settings.name=e,P.set(l)},function(e){R[e?"unshift":"push"](()=>{o=e,n(1,o)})},e=>u(e),()=>g(i),()=>M(P,l.settings.timeslots=[],l),()=>g(i),function(){i=O(this),n(0,i),n(3,a)},()=>g(i),function(e){l.settings.address=e,P.set(l)},function(e){l.settings.address2=e,P.set(l)},function(e){l.settings.postcode=e,P.set(l)},function(e){l.settings.coordinates=e,P.set(l)},function(e){l.settings.offline=e,P.set(l)},function(e){l.settings.short_id=e,P.set(l)},function(e){l.settings.tax=e,P.set(l)},function(e){l.settings.delivery_fees=e,P.set(l)},function(e){l.settings.phone=e,P.set(l)},function(e){l.settings.announcement=e,P.set(l)},function(e){l.settings.checkout_notes=e,P.set(l)},function(e){l.settings.order_methods=e,P.set(l)},function(e){l.settings.list_style=e,P.set(l)},function(e){l.settings.multiplier=e,P.set(l)},function(e){l.settings.rounding=e,P.set(l)},function(e){l.settings.deduct_presets=e,P.set(l)}]}export default class extends e{constructor(e){var l;super(),document.getElementById("svelte-1cgd9p3-style")||((l=s("style")).id="svelte-1cgd9p3-style",l.textContent=".sect.svelte-1cgd9p3{font-size:1.25rem;font-weight:700;margin-top:0.75rem}",i(document.head,l)),t(this,e,ce,ae,n,{},[-1,-1])}}
//# sourceMappingURL=Settings-1bd5e220.js.map
