import{S as e,i as t,s as n,e as s,a as l,b as a,d as o,f as i,l as r,j as u,k as c,q as g,a8 as d,p as f,v as p,x as m,t as $,E as v,o as h,F as y,I as _,z as b,B as x,G as w,C as k,H as N,D as j,W as L,J as R,P as T,R as A,O as C,M as D,N as I}from"./App-3cb31a88.js";import{T as M}from"./UITextField-0e13e764.js";import{T as P}from"./UIToolbar-66456870.js";import{S}from"./UISegmented-ed205d43.js";function U(e,t,n){const s=e.slice();return s[7]=t[n],s[9]=n,s}function F(e){let t,n,p,m,$,v,h,y,_;function b(...t){return e[6](e[9],...t)}return{c(){t=s("div"),n=s("input"),m=l(),$=s("button"),$.innerHTML='<i class="icon ion-md-close text-xl"></i>',v=l(),a(n,"type","text"),a(n,"class","flex-grow bg-gray-100 self-center"),a(n,"placeholder",e[2]),n.value=p=e[7],a($,"class","flex-none ml-2"),a(t,"class","flex rounded-lg bg-gray-100 p-2 my-2")},m(e,s,l){o(e,t,s),i(t,n),i(t,m),i(t,$),i(t,v),y=!0,l&&_(),_=r($,"click",b)},p(t,s){e=t,(!y||4&s)&&a(n,"placeholder",e[2]),(!y||1&s&&p!==(p=e[7])&&n.value!==p)&&(n.value=p)},i(e){y||(u(()=>{h||(h=c(t,d,{duration:300,easing:g},!0)),h.run(1)}),y=!0)},o(e){h||(h=c(t,d,{duration:300,easing:g},!1)),h.run(0),y=!1},d(e){e&&f(t),e&&h&&h.end(),_()}}}function H(e){let t,n,u,c,g,d,b,x,w,k,N=e[0],j=[];for(let t=0;t<N.length;t+=1)j[t]=F(U(e,N,t));const L=e=>h(j[e],1,1,()=>{j[e]=null});return{c(){t=s("div"),n=s("div"),u=s("label"),c=p(e[1]),g=l(),d=s("button"),d.innerHTML='<i class="icon ion-md-add text-xl"></i>',b=l();for(let e=0;e<j.length;e+=1)j[e].c();a(u,"class","flex-grow self-center text-xs uppercase text-gray-500 font-semibold"),a(d,"class","flex-none"),a(n,"class","flex"),a(t,"class",x=e[3].container)},m(s,l,a){o(s,t,l),i(t,n),i(n,u),i(u,c),i(n,g),i(n,d),i(t,b);for(let e=0;e<j.length;e+=1)j[e].m(t,null);w=!0,a&&k(),k=r(d,"click",e[4])},p(e,[n]){if((!w||2&n)&&m(c,e[1]),37&n){let s;for(N=e[0],s=0;s<N.length;s+=1){const l=U(e,N,s);j[s]?(j[s].p(l,n),$(j[s],1)):(j[s]=F(l),j[s].c(),$(j[s],1),j[s].m(t,null))}for(v(),s=N.length;s<j.length;s+=1)L(s);y()}(!w||8&n&&x!==(x=e[3].container))&&a(t,"class",x)},i(e){if(!w){for(let e=0;e<N.length;e+=1)$(j[e]);w=!0}},o(e){j=j.filter(Boolean);for(let e=0;e<j.length;e+=1)h(j[e]);w=!1},d(e){e&&f(t),_(j,e),k()}}}function O(e,t,n){let{value:s=[]}=t,{label:l=""}=t,{placeholder:a=""}=t,{style:o={}}=t;function i(e){n(0,s=[...s.slice(0,e),...s.slice(e+1,s.length)])}return e.$set=e=>{"value"in e&&n(0,s=e.value),"label"in e&&n(1,l=e.label),"placeholder"in e&&n(2,a=e.placeholder),"style"in e&&n(3,o=e.style)},[s,l,a,o,function(){n(0,s=[...s,""])},i,e=>i(e)]}class B extends e{constructor(e){super(),t(this,e,O,H,n,{value:0,label:1,placeholder:2,style:3})}}function G(e){let t,n,r,u,c,g,d,v,y,_,N,j,L,R,C,D,I,P,U,F,H,O,G,q,z,E,J,W,K,Q,V,X,Y,Z,ee,te=e[0].settings.short_id+"";function ne(t){e[6].call(null,t)}let se={style:e[3],label:"Name"};void 0!==e[0].settings.name&&(se.value=e[0].settings.name);const le=new M({props:se});function ae(t){e[7].call(null,t)}T.push(()=>A(le,"value",ne));let oe={style:e[3],label:"Identifier"};void 0!==e[0].settings.short_id&&(oe.value=e[0].settings.short_id);const ie=new M({props:oe});function re(t){e[8].call(null,t)}T.push(()=>A(ie,"value",ae));let ue={style:e[3],label:"Delivery Fees"};void 0!==e[0].settings.delivery_fees&&(ue.value=e[0].settings.delivery_fees);const ce=new M({props:ue});function ge(t){e[9].call(null,t)}T.push(()=>A(ce,"value",re));let de={style:e[3],label:"Phone Number"};void 0!==e[0].settings.phone&&(de.value=e[0].settings.phone);const fe=new M({props:de});function pe(t){e[10].call(null,t)}T.push(()=>A(fe,"value",ge));let me={style:e[3],label:"Checkout Notes"};void 0!==e[0].settings.checkout_notes&&(me.value=e[0].settings.checkout_notes);const $e=new M({props:me});function ve(t){e[11].call(null,t)}T.push(()=>A($e,"value",pe));let he={style:e[3],label:"Order Methods",segments:[{name:"All",value:""},{name:"No Delivery",value:"no_delivery"}]};void 0!==e[0].settings.order_methods&&(he.value=e[0].settings.order_methods);const ye=new S({props:he});function _e(t){e[12].call(null,t)}T.push(()=>A(ye,"value",ve));let be={style:e[3],label:"List Layout",segments:[{name:"Grid",value:""},{name:"List",value:"list"}]};void 0!==e[0].settings.list_style&&(be.value=e[0].settings.list_style);const xe=new S({props:be});function we(t){e[13].call(null,t)}T.push(()=>A(xe,"value",_e));let ke={style:e[3],label:"Multiplier"};void 0!==e[0].settings.multiplier&&(ke.value=e[0].settings.multiplier);const Ne=new M({props:ke});function je(t){e[14].call(null,t)}T.push(()=>A(Ne,"value",we));let Le={style:e[3],label:"Rounding",segments:[{name:"No Rounding",value:""},{name:"Round Down",value:"round_down"},{name:"Round Up",value:"round_up"}]};void 0!==e[0].settings.rounding&&(Le.value=e[0].settings.rounding);const Re=new S({props:Le});function Te(t){e[15].call(null,t)}T.push(()=>A(Re,"value",je));let Ae={style:e[3],label:"Deduction Presets",placeholder:"e.g : 100"};void 0!==e[0].settings.deduct_presets&&(Ae.value=e[0].settings.deduct_presets);const Ce=new B({props:Ae});return T.push(()=>A(Ce,"value",Te)),{c(){t=s("p"),t.textContent="Account",n=l(),r=s("div"),b(le.$$.fragment),c=l(),g=s("p"),g.textContent="Orders",d=l(),v=s("div"),b(ie.$$.fragment),_=l(),N=s("p"),j=s("a"),L=p("https://instant.getorders.app/?m="),R=p(te),D=l(),b(ce.$$.fragment),P=l(),b(fe.$$.fragment),F=l(),b($e.$$.fragment),O=l(),b(ye.$$.fragment),q=l(),b(xe.$$.fragment),E=l(),J=s("p"),J.textContent="Loyalty",W=l(),K=s("div"),b(Ne.$$.fragment),V=l(),b(Re.$$.fragment),Y=l(),b(Ce.$$.fragment),a(t,"class","text-xl font-bold mt-3"),a(r,"class","flex"),a(g,"class","text-xl font-bold mt-3"),a(j,"href",C="https://instant.getorders.app/?m="+e[0].settings.short_id),a(j,"target","_blank"),a(N,"class","text-xs px-3 mb-3 font-semibold"),a(J,"class","text-xl font-bold mt-3")},m(e,s){o(e,t,s),o(e,n,s),o(e,r,s),x(le,r,null),o(e,c,s),o(e,g,s),o(e,d,s),o(e,v,s),x(ie,v,null),i(v,_),i(v,N),i(N,j),i(j,L),i(j,R),i(v,D),x(ce,v,null),i(v,P),x(fe,v,null),i(v,F),x($e,v,null),i(v,O),x(ye,v,null),i(v,q),x(xe,v,null),o(e,E,s),o(e,J,s),o(e,W,s),o(e,K,s),x(Ne,K,null),i(K,V),x(Re,K,null),i(K,Y),x(Ce,K,null),ee=!0},p(e,t){const n={};!u&&1&t&&(u=!0,n.value=e[0].settings.name,w(()=>u=!1)),le.$set(n);const s={};!y&&1&t&&(y=!0,s.value=e[0].settings.short_id,w(()=>y=!1)),ie.$set(s),(!ee||1&t)&&te!==(te=e[0].settings.short_id+"")&&m(R,te),(!ee||1&t&&C!==(C="https://instant.getorders.app/?m="+e[0].settings.short_id))&&a(j,"href",C);const l={};!I&&1&t&&(I=!0,l.value=e[0].settings.delivery_fees,w(()=>I=!1)),ce.$set(l);const o={};!U&&1&t&&(U=!0,o.value=e[0].settings.phone,w(()=>U=!1)),fe.$set(o);const i={};!H&&1&t&&(H=!0,i.value=e[0].settings.checkout_notes,w(()=>H=!1)),$e.$set(i);const r={};!G&&1&t&&(G=!0,r.value=e[0].settings.order_methods,w(()=>G=!1)),ye.$set(r);const c={};!z&&1&t&&(z=!0,c.value=e[0].settings.list_style,w(()=>z=!1)),xe.$set(c);const g={};!Q&&1&t&&(Q=!0,g.value=e[0].settings.multiplier,w(()=>Q=!1)),Ne.$set(g);const d={};!X&&1&t&&(X=!0,d.value=e[0].settings.rounding,w(()=>X=!1)),Re.$set(d);const f={};!Z&&1&t&&(Z=!0,f.value=e[0].settings.deduct_presets,w(()=>Z=!1)),Ce.$set(f)},i(e){ee||($(le.$$.fragment,e),$(ie.$$.fragment,e),$(ce.$$.fragment,e),$(fe.$$.fragment,e),$($e.$$.fragment,e),$(ye.$$.fragment,e),$(xe.$$.fragment,e),$(Ne.$$.fragment,e),$(Re.$$.fragment,e),$(Ce.$$.fragment,e),ee=!0)},o(e){h(le.$$.fragment,e),h(ie.$$.fragment,e),h(ce.$$.fragment,e),h(fe.$$.fragment,e),h($e.$$.fragment,e),h(ye.$$.fragment,e),h(xe.$$.fragment,e),h(Ne.$$.fragment,e),h(Re.$$.fragment,e),h(Ce.$$.fragment,e),ee=!1},d(e){e&&f(t),e&&f(n),e&&f(r),k(le),e&&f(c),e&&f(g),e&&f(d),e&&f(v),k(ie),k(ce),k(fe),k($e),k(ye),k(xe),e&&f(E),e&&f(J),e&&f(W),e&&f(K),k(Ne),k(Re),k(Ce)}}}function q(e){let t,n,s;const a=new P({props:{class:"border-b border-gray-300",tools:e[1]}});a.$on("selected",e[2]);let i=e[0].settings&&G(e);return{c(){b(a.$$.fragment),t=l(),i&&i.c(),n=N()},m(e,l){x(a,e,l),o(e,t,l),i&&i.m(e,l),o(e,n,l),s=!0},p(e,[t]){e[0].settings?i?(i.p(e,t),$(i,1)):(i=G(e),i.c(),$(i,1),i.m(n.parentNode,n)):i&&(v(),h(i,1,1,()=>{i=null}),y())},i(e){s||($(a.$$.fragment,e),$(i),s=!0)},o(e){h(a.$$.fragment,e),h(i),s=!1},d(e){k(a,e),e&&f(t),i&&i.d(e),e&&f(n)}}}function z(e,t,n){let s,l;j(e,L,e=>n(4,s=e)),j(e,R,e=>n(0,l=e));return[l,[{name:"Save",icon:"cloud-done",function:"save"}],function(e){switch(e.detail.function){case"save":C(L,s=!0),fetch(D("/settings"),I(l.settings)).then(e=>e.json()).then(e=>{C(R,l=e),C(L,s=!1)}).catch(e=>{})}},{container:"p-2 w-1/2 flex-none",label:"w-32"},s,{Account:{name:{desc:"Account name",value:"",key:"name"}},Points:{multiplier:{desc:"Points awarded per spending",value:1,key:"multiplier"},rounding:{desc:"Rounding for spending amount",value:["no_rounding","round_down","round_up"],key:"rounding"}}},function(e){l.settings.name=e,R.set(l)},function(e){l.settings.short_id=e,R.set(l)},function(e){l.settings.delivery_fees=e,R.set(l)},function(e){l.settings.phone=e,R.set(l)},function(e){l.settings.checkout_notes=e,R.set(l)},function(e){l.settings.order_methods=e,R.set(l)},function(e){l.settings.list_style=e,R.set(l)},function(e){l.settings.multiplier=e,R.set(l)},function(e){l.settings.rounding=e,R.set(l)},function(e){l.settings.deduct_presets=e,R.set(l)}]}export default class extends e{constructor(e){super(),t(this,e,z,q,n,{})}}
//# sourceMappingURL=Settings-cba2fa78.js.map
