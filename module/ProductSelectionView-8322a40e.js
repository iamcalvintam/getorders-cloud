import{S as t,i as e,s as n,M as s,j as o,m as c,k as l,o as a,p as r,q as i,U as f,e as d,b as u,c as p,h as m,r as $,u as g,y as h,n as x,a as b,Q as _,F as v,t as y,d as j,l as k,g as w}from"./App-b2a4afcd.js";import"./UITextField-8b9d1fff.js";import{T as q}from"./UIToolbar-db7a75c2.js";import{U}from"./UIItem-bcb0abb5.js";function I(t,e,n){const s=t.slice();return s[12]=e[n],s}function S(t){let e;return{c(){e=d("div"),e.textContent="Select Products",u(e,"slot","title"),u(e,"class","font-semibold text-xl text-gray-600 pb-3")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function T(t){let e,n,s,o,c,l,a,r=t[12].name+"";function i(...e){return t[11](t[12],...e)}return{c(){e=d("div"),n=d("i"),o=b(),c=y(r),l=b(),u(n,"class",s="pr-3 self-center fas "+(t[5](t[12])?"fa-check-square":"fa-square")),u(e,"class","flex w-full m-3")},m(t,s,r){p(t,e,s),j(e,n),j(e,o),j(e,c),p(t,l,s),r&&a(),a=k(e,"click",i)},p(e,o){t=e,1&o&&s!==(s="pr-3 self-center fas "+(t[5](t[12])?"fa-check-square":"fa-square"))&&u(n,"class",s),1&o&&r!==(r=t[12].name+"")&&w(c,r)},d(t){t&&m(e),t&&m(l),a()}}}function C(t){let e;const n=new U({props:{$$slots:{default:[T]},$$scope:{ctx:t}}});return{c(){o(n.$$.fragment)},m(t,s){c(n,t,s),e=!0},p(t,e){const s={};32769&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(l(n.$$.fragment,t),e=!0)},o(t){a(n.$$.fragment,t),e=!1},d(t){r(n,t)}}}function F(t){let e,n,s=t[0],o=[];for(let e=0;e<s.length;e+=1)o[e]=C(I(t,s,e));const c=t=>a(o[t],1,1,()=>{o[t]=null});return{c(){e=d("div");for(let t=0;t<o.length;t+=1)o[t].c();u(e,"slot","content"),u(e,"class","p-2")},m(t,s){p(t,e,s);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,n){if(97&n){let a;for(s=t[0],a=0;a<s.length;a+=1){const c=I(t,s,a);o[a]?(o[a].p(c,n),l(o[a],1)):(o[a]=C(c),o[a].c(),l(o[a],1),o[a].m(e,null))}for($(),a=s.length;a<o.length;a+=1)c(a);g()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)l(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)a(o[t]);n=!1},d(t){t&&m(e),h(o,t)}}}function P(t){let e,n;const s=new q({props:{tools:t[2],style:t[3]}});return s.$on("selected",t[4]),{c(){e=d("div"),o(s.$$.fragment),u(e,"slot","toolbar")},m(t,o){p(t,e,o),c(s,e,null),n=!0},p:x,i(t){n||(l(s.$$.fragment,t),n=!0)},o(t){a(s.$$.fragment,t),n=!1},d(t){t&&m(e),r(s)}}}function A(t){let e,n;return{c(){e=b(),n=b()},m(t,s){p(t,e,s),p(t,n,s)},p:x,i:x,o:x,d(t){t&&m(e),t&&m(n)}}}function B(t){let e;const n=new s({props:{style:t[1],$$slots:{default:[A],toolbar:[P],content:[F],title:[S]},$$scope:{ctx:t}}});return{c(){o(n.$$.fragment)},m(t,s){c(n,t,s),e=!0},p(t,[e]){const s={};32769&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(l(n.$$.fragment,t),e=!0)},o(t){a(n.$$.fragment,t),e=!1},d(t){r(n,t)}}}function M(t,e,n){let s;i(t,f,t=>n(9,s=t));let{products:o=[]}=e,{selected_prods:c=[]}=e,{max_selection:l=0}=e;function a(t){let e=c.length;n(7,c=c.filter(e=>e.id!=t.id)),c.length==e&&n(7,c=[...c,{id:""+t.id,name:t.name,variants:t.variants||[]}]),n(0,o)}return t.$set=t=>{"products"in t&&n(0,o=t.products),"selected_prods"in t&&n(7,c=t.selected_prods),"max_selection"in t&&n(8,l=t.max_selection)},[o,{body:"screen-height-xs",content:"overflow-y-scroll scrolling-touch"},[{name:"Close",icon:"close-circle",function:"pop_modal"},{name:"Save",icon:"checkmark-circle",function:"save"}],{container:"justify-end"},function(t){"pop_modal"==t.detail.function&&_(),"save"==t.detail.function&&(v(f,s={selected_prods:c}),_())},function(t){return c.find(e=>e.id==t.id)},a,c,l,s,{container:"w-full"},t=>{a(t)}]}class Q extends t{constructor(t){super(),e(this,t,M,B,n,{products:0,selected_prods:7,max_selection:8})}}export{Q as P};
//# sourceMappingURL=ProductSelectionView-8322a40e.js.map
