{"version":3,"file":"Settings-68411f0e.js","sources":["../../src/UI/UIList.html","../../src/Settings.html"],"sourcesContent":["<script>\n  import { slide } from 'svelte/transition';\n  import { quintInOut } from 'svelte/easing';\n  export let value = [], label = \"\", placeholder = \"\", style = {}\n  function add(){\n    value = [...value, \"\"]\n  }\n  function remove(index){\n    value = [...value.slice(0,index), ...value.slice(index+1,value.length)];\n  }\n</script>\n<div class=\"{style.container}\">\n    <div class=\"flex\">\n      <label class=\"flex-grow self-center text-xs uppercase text-gray-500 font-semibold\">{label}</label>\n      <button class=\"flex-none\" on:click=\"{add}\">\n        <i class=\"icon ion-md-add text-xl\"></i>\n      </button>\n    </div>\n  {#each value as field, i}\n    <div class=\"flex rounded-lg bg-gray-100 p-2 my-2\" transition:slide=\"{{ duration: 300, easing: quintInOut }}\">\n      <input type=\"text\" class=\"flex-grow bg-gray-100 self-center\" placeholder=\"{placeholder}\" value=\"{field}\"/>\n      <button class=\"flex-none ml-2\" on:click=\"{ ()=>remove(i)}\">\n        <i class=\"icon ion-md-close text-xl\"></i>\n      </button>\n    </div>\n  {/each}\n</div>","<script>\n  import Segmented from './UI/UISegmented.html';\n  import TextField from './UI/UITextField.html';\n  import Toolbar from './UI/UIToolbar.html';\n  import List from './UI/UIList.html';\n  import { onMount } from 'svelte';\n  import { session, loading, api, alert, accounts, account, trigger, headers, settings } from './CTStore.js';\n  let tools = [{ name: \"Save\", icon: \"cloud-done\", function: \"save\" }]\n  function selected(e) {\n    switch (e.detail.function) {\n      case \"save\":\n        $loading = true;\n        fetch(api('/settings'), headers($settings.settings)).then(r => r.json()).then(o => {\n          $settings = o;\n          $loading = false;\n        }).catch(e => { });\n        break;\n    }\n  }\n  let params = {\n    Account: { name: { desc: \"Account name\", value: \"\", key: \"name\" } },\n    Points: {\n      multiplier: { desc: \"Points awarded per spending\", value: 1, key: \"multiplier\" },\n      rounding: { desc: \"Rounding for spending amount\", value: [\"no_rounding\", \"round_down\", \"round_up\"], key: \"rounding\" }\n    }\n  };\n\n  let field_style = { container: \"p-2 w-1/2 flex-none\", label: \"w-32\" }\n</script>\n<Toolbar class=\"border-b border-gray-300\" on:selected=\"{selected}\" tools=\"{tools}\" />\n\n{#if $settings.settings}\n<p class=\"text-xl font-bold mt-3\">\n  Account\n</p>\n<div class=\"flex\">\n  <TextField style=\"{field_style}\" label=\"Name\" bind:value=\"{$settings.settings.name}\" />\n</div>\n<p class=\"text-xl font-bold mt-3\">\n  Orders\n</p>\n<div>\n  <TextField style=\"{field_style}\" label=\"Identifier\" bind:value=\"{$settings.settings.short_id}\" />\n  <p class=\"text-xs px-3 mb-3 font-semibold\">\n    <a href=\"https://instant.getorders.app/?m={$settings.settings.short_id}\" target=\"_blank\">https://instant.getorders.app/?m={$settings.settings.short_id}</a>\n  </p>\n  <TextField style=\"{field_style}\" label=\"Delivery Fees\" bind:value=\"{$settings.settings.delivery_fees}\" />\n  <TextField style=\"{field_style}\" label=\"Phone Number\" bind:value=\"{$settings.settings.phone}\" />\n  <TextField style=\"{field_style}\" label=\"Checkout Notes\" bind:value=\"{$settings.settings.checkout_notes}\" />\n  <Segmented style=\"{field_style}\" label=\"Order Methods\"\n    segments=\"{[{ name : 'All', value : ''}, { name : 'No Delivery', value : 'no_delivery'}]}\"\n    bind:value=\"{$settings.settings.order_methods}\" />\n  <Segmented style=\"{field_style}\" label=\"List Layout\"\n    segments=\"{[{ name : 'Grid', value : ''}, { name : 'List', value : 'list'}]}\"\n    bind:value=\"{$settings.settings.list_style}\" />\n</div>\n<p class=\"text-xl font-bold mt-3\">\n  Loyalty\n</p>\n<div>\n  <TextField style=\"{field_style}\" label=\"Multiplier\" bind:value=\"{$settings.settings.multiplier}\" />\n  <Segmented style=\"{field_style}\" label=\"Rounding\" segments=\"{[{ name : 'No Rounding', value : ''}, { name : 'Round Down', value : 'round_down'}, { name : 'Round Up', value : 'round_up'}]}\" bind:value=\"{$settings.settings.rounding}\" />\n  <List style=\"{field_style}\" label=\"Deduction Presets\" placeholder=\"e.g : 100\" bind:value=\"{$settings.settings.deduct_presets}\" />\n</div>\n{/if}"],"names":["ctx","duration","easing","quintInOut","length","container","value","label","placeholder","style","remove","index","slice","i","settings","short_id","name","delivery_fees","phone","checkout_notes","order_methods","list_style","multiplier","rounding","deduct_presets","icon","function","e","detail","$loading","fetch","api","headers","$settings","then","r","json","o","catch","Account","desc","key","Points"],"mappings":"suBAoBiFA,gBAAsBA,4MAAtBA,uBAAsBA,+DAD5BC,SAAU,IAAKC,OAAQC,4CAAvBF,SAAU,IAAKC,OAAQC,gGADzFH,0BAALI,sHALsFJ,yQAF7EA,KAAMK,6IAGwBL,kCAD+CA,wBAKjFA,aAALI,qHAAAA,iDAPSJ,KAAMK,yDAOfD,oJAfSE,eAAYC,EAAQ,mBAAIC,EAAc,aAAIC,iBAI5CC,EAAOC,OACdL,MAAYA,EAAMM,MAAM,EAAED,MAAWL,EAAMM,MAAMD,EAAM,EAAEL,EAAMF,iLAH/DE,MAAYA,EAAO,WAgB8BI,EAAOG,kMCuBmEb,KAAUc,SAASC,2DAR7Hf,4BAAwCA,KAAUc,SAASE,gBAAnBhB,KAAUc,SAASE,6GAM3DhB,kCAA8CA,KAAUc,SAASC,oBAAnBf,KAAUc,SAASC,iHAIjEf,qCAAiDA,KAAUc,SAASG,yBAAnBjB,KAAUc,SAASG,sHACpEjB,oCAAgDA,KAAUc,SAASI,iBAAnBlB,KAAUc,SAASI,+GACnElB,sCAAkDA,KAAUc,SAASK,0BAAnBnB,KAAUc,SAASK,wHACrEnB,sCACHgB,KAAO,MAAOV,MAAQ,KAAOU,KAAO,cAAeV,MAAQ,0BAC5DN,KAAUc,SAASM,yBAAnBpB,KAAUc,SAASM,uHACfpB,oCACHgB,KAAO,OAAQV,MAAQ,KAAOU,KAAO,OAAQV,MAAQ,mBACtDN,KAAUc,SAASO,sBAAnBrB,KAAUc,SAASO,oHAMfrB,kCAA8CA,KAAUc,SAASQ,sBAAnBtB,KAAUc,SAASQ,oHACjEtB,iCAA6CgB,KAAO,cAAeV,MAAQ,KAAOU,KAAO,aAAcV,MAAQ,eAAiBU,KAAO,WAAYV,MAAQ,uBAA4BN,KAAUc,SAASS,oBAAnBvB,KAAUc,SAASS,kHAC/MvB,iEAA6EA,KAAUc,SAASU,0BAAnBxB,KAAUc,SAASU,6qBAlBjExB,KAAUc,SAASC,ueARLf,KAAUc,SAASE,+DAMbhB,KAAUc,SAASC,sDAEyCf,KAAUc,SAASC,4EAAnGf,KAAUc,SAASC,4DAEIf,KAAUc,SAASG,wEACpBjB,KAAUc,SAASI,gEACjBlB,KAAUc,SAASK,yEAGzEnB,KAAUc,SAASM,wEAGnBpB,KAAUc,SAASO,qEAM+BrB,KAAUc,SAASQ,qEACsHtB,KAAUc,SAASS,mEAClIvB,KAAUc,SAASU,ssBAjCrCxB,yBAAnBA,YAEnDA,KAAUc,8HAAVd,KAAUc,ySAxBEE,KAAM,OAAQS,KAAM,aAAcC,SAAU,kBACzCC,UACRA,EAAEC,OAAOF,cACV,WACHG,GAAW,GACXC,MAAMC,EAAI,aAAcC,EAAQC,EAAUnB,WAAWoB,KAAKC,GAAKA,EAAEC,QAAQF,KAAKG,QAC5EJ,EAAYI,OACZR,GAAW,KACVS,MAAMX,UAYKtB,UAAW,sBAAuBE,MAAO,WAP3DgC,SAAWvB,MAAQwB,KAAM,eAAgBlC,MAAO,GAAImC,IAAK,SACzDC,QACEpB,YAAckB,KAAM,8BAA+BlC,MAAO,EAAGmC,IAAK,cAClElB,UAAYiB,KAAM,+BAAgClC,OAAQ,cAAe,aAAc,YAAamC,IAAK,0BAalDR,EAAUnB,SAASE,6BAMbiB,EAAUnB,SAASC,iCAIhBkB,EAAUnB,SAASG,sCACpBgB,EAAUnB,SAASI,8BACjBe,EAAUnB,SAASK,uCAGzEc,EAAUnB,SAASM,sCAGnBa,EAAUnB,SAASO,mCAM+BY,EAAUnB,SAASQ,mCACsHW,EAAUnB,SAASS,iCAClIU,EAAUnB,SAASU"}