import{S as e,i as t,s as n,e as l,t as s,b as o,c as r,d as i,l as a,g as c,h as f,a as d,w as u,Q as g,aa as x,ab as h,ae as m,af as b,y as p,q as v,z as w,V as y,ag as k,F as C,E as z,a1 as S,n as _,f as $,W as j,G as M}from"./App-f22176fd.js";import"./dayjs.min-d290c2ff.js";function T(e,t,n){const l=e.slice();return l[17]=t[n],l}function H(e,t,n){const l=e.slice();return l[20]=t[n],l}function I(e){let t,n=e[0],s=[];for(let t=0;t<n.length;t+=1)s[t]=B(H(e,n,t));return{c(){t=l("div");for(let e=0;e<s.length;e+=1)s[e].c();o(t,"class","flex flex-wrap m-3 overflow-y-auto h-64")},m(e,n){r(e,t,n);for(let e=0;e<s.length;e+=1)s[e].m(t,null)},p(e,l){if(33&l){let o;for(n=e[0],o=0;o<n.length;o+=1){const r=H(e,n,o);s[o]?s[o].p(r,l):(s[o]=B(r),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(e){e&&f(t),p(s,e)}}}function L(e){let t;return{c(){t=l("div"),t.innerHTML='<div class="flex-grow"></div> \n  <div class="text-gray-600 text-xl"><p>No time slots added. Select an interval to generate time slots.</p></div> \n  <div class="flex-grow"></div>',o(t,"class","flex flex-col w-full text-center h-64")},m(e,n){r(e,t,n)},p:_,d(e){e&&f(t)}}}function B(e){let t,n,u,g,x,h,m=P(e[20])+"";function b(...t){return e[13](e[20],...t)}return{c(){t=l("button"),n=s(m),u=d(),g=l("i"),x=d(),o(g,"class","far fa-times-circle pl-2"),o(t,"class","border-orange-400 border-2 p-2 m-2 rounded-lg text-orange-400")},m(e,l,s){r(e,t,l),i(t,n),i(t,u),i(t,g),i(t,x),s&&h(),h=a(t,"click",b)},p(t,l){e=t,1&l&&m!==(m=P(e[20])+"")&&c(n,m)},d(e){e&&f(t),h()}}}function q(e){let t,n,d,u,g,x=e[17]+"";function h(...t){return e[14](e[17],...t)}return{c(){t=l("div"),n=s(x),d=s(" min\n    "),o(t,"class",u="flex-none bg-blue-"+(e[2]==e[17]?"500":"300")+" text-white p-2 mx-2 rounded text-sm float-left")},m(e,l,s){r(e,t,l),i(t,n),i(t,d),s&&g(),g=a(t,"click",h)},p(l,s){e=l,2&s&&x!==(x=e[17]+"")&&c(n,x),6&s&&u!==(u="flex-none bg-blue-"+(e[2]==e[17]?"500":"300")+" text-white p-2 mx-2 rounded text-sm float-left")&&o(t,"class",u)},d(e){e&&f(t),g()}}}function A(e){let t,n,s,c,v,w,y,k,C,z,S,_,$,j,M,H,B,A,P,V,D,E,F,G;function N(e,t){return 0==e[0].length?L:I}let O=N(e),Q=O(e),R=e[1],W=[];for(let t=0;t<R.length;t+=1)W[t]=q(T(e,R,t));return{c(){t=l("div"),n=l("div"),s=d(),c=l("div"),v=l("p"),v.textContent="Time Slots",w=d(),Q.c(),y=d(),k=l("div"),C=l("div"),C.textContent="Interval",z=d(),S=l("div");for(let e=0;e<W.length;e+=1)W[e].c();_=d(),$=l("div"),j=l("button"),j.textContent="Save",M=d(),H=l("button"),H.textContent="Cancel",A=d(),P=l("div"),V=d(),D=l("div"),o(n,"class","flex-none md:flex-grow"),o(v,"class","text-center font-semibold text-2xl text-gray-600 m-2"),o(C,"class","text-sm text-gray-500 font-semibold"),o(S,"class","p-2 overflow-x-auto w-full flex flex-no-wrap"),o(k,"class","shadow-inner p-2"),o(j,"class","w-1/3 m-2 px-2 bg-green-400 rounded-lg font-bold h-10 text-white"),o(H,"class","w-1/3 m-2 px-2 bg-gray-400 rounded-lg font-bold h-10 text-white"),o($,"class","border-t border-gray-200 flex flex-row-reverse"),o(c,"class","rounded-t-lg md:rounded-lg flex-none bg-white w-full self-center md:w-1/2"),o(P,"class","flex-none md:flex-grow"),o(t,"class","flex flex-col-reverse absolute w-full h-full z-50 antialiased"),o(D,"class","bg-dark fixed h-full z-40 w-full")},m(l,o,f){r(l,t,o),i(t,n),i(t,s),i(t,c),i(c,v),i(c,w),Q.m(c,null),i(c,y),i(c,k),i(k,C),i(k,z),i(k,S);for(let e=0;e<W.length;e+=1)W[e].m(S,null);i(c,_),i(c,$),i($,j),i($,M),i($,H),i(t,A),i(t,P),r(l,V,o),r(l,D,o),F=!0,f&&u(G),G=[a(j,"click",e[6]),a(H,"click",e[15]),a(D,"click",e[16])]},p(e,[t]){if(O===(O=N(e))&&Q?Q.p(e,t):(Q.d(1),Q=O(e),Q&&(Q.c(),Q.m(c,y))),22&t){let n;for(R=e[1],n=0;n<R.length;n+=1){const l=T(e,R,n);W[n]?W[n].p(l,t):(W[n]=q(l),W[n].c(),W[n].m(S,null))}for(;n<W.length;n+=1)W[n].d(1);W.length=R.length}},i(e){F||(g(()=>{B||(B=x(c,m,{y:300,easing:h},!0)),B.run(1)}),g(()=>{E||(E=x(D,b,{easing:h},!0)),E.run(1)}),F=!0)},o(e){B||(B=x(c,m,{y:300,easing:h},!1)),B.run(0),E||(E=x(D,b,{easing:h},!1)),E.run(0),F=!1},d(e){e&&f(t),Q.d(),p(W,e),e&&B&&B.end(),e&&f(V),e&&f(D),e&&E&&E.end(),u(G)}}}function P(e){var t=e.split(":"),n="AM",l=parseInt(t);return l>12&&(l-=12,n="PM"),`${l}:${t[1]}${n}`}function V(e){var t=`${e[1]}`;return e[1]<10&&(t=`0${t}`),`${e[0]}:${t}`}function D(e,t,n){let l,s,o;v(e,w,e=>n(8,l=e)),v(e,y,e=>n(9,s=e)),v(e,k,e=>n(3,o=e));let r=l.settings.time_slots||[],i=[],a=0,c=[8,30],f=[21,30];for(var d=1;d<60;d++){var u=5*d;if(i=[...i,u],u>=60)break}function g(e){n(2,a=e);var t=c.slice();n(0,r=[V(t)]);for(var l=1;l<60&&!(t[0]>=f[0]&&t[1]>=f[1]);l++)t[1]+=e,t[1]>=60&&(t[0]+=1,t[1]=t[1]-60),n(0,r=[...r,V(t)])}function x(e){n(0,r=r.filter(t=>t!=e))}return[r,i,a,o,g,x,function(){C(y,s=!0),C(w,l.settings.time_slots=r,l),fetch(z("/settings"),S(l.settings)).then(e=>e.json()).then(e=>{C(w,l=e),C(y,s=!1),C(k,o=void 0)}).catch(e=>{})},d,l,s,c,f,u,e=>x(e),e=>g(e),()=>C(k,o=void 0),()=>C(k,o=void 0)]}class E extends e{constructor(e){super(),t(this,e,D,A,n,{})}}function F(e,t,n){const l=e.slice();return l[18]=t[n],l}function G(e,t,n){const l=e.slice();return l[21]=t[n],l[6]=n,l}function N(e){let t,n,u,g,x,h=e[21]+"",m=e[6];const b=()=>e[12](t,m),p=()=>e[12](null,m);function v(...t){return e[13](e[21],...t)}return{c(){t=l("button"),n=s(h),u=d(),o(t,"class",g="flex-none w-20 bg-blue-"+(e[2]==e[21]?"500":"300")+" text-white p-2 mx-2 rounded text-sm float-left")},m(e,l,s){r(e,t,l),i(t,n),i(t,u),b(),s&&x(),x=a(t,"click",v)},p(l,s){e=l,1&s&&h!==(h=e[21]+"")&&c(n,h),5&s&&g!==(g="flex-none w-20 bg-blue-"+(e[2]==e[21]?"500":"300")+" text-white p-2 mx-2 rounded text-sm float-left")&&o(t,"class",g),m!==e[6]&&(p(),m=e[6],b())},d(e){e&&f(t),p(),x()}}}function O(e){let t,n,c,u,g,x,h=e[18]+"";function m(...t){return e[14](e[18],...t)}return{c(){t=l("button"),n=l("i"),u=s(h),g=d(),o(n,"class",c="far fa"+(e[3].includes(e[18])?"-check":"")+"-circle pr-2"),o(t,"class","border-blue-400 border-2 p-2 m-2 w-32 rounded-lg text-blue-400 bounce capitalize")},m(e,l,s){r(e,t,l),i(t,n),i(t,u),i(t,g),s&&x(),x=a(t,"click",m)},p(t,l){e=t,8&l&&c!==(c="far fa"+(e[3].includes(e[18])?"-check":"")+"-circle pr-2")&&o(n,"class",c)},d(e){e&&f(t),x()}}}function Q(e){let t,n,s,c,v,w,y,k,C,z,S,_,j,M,T,H,I,L,B,q,A,P,V,D,E,Q,R,W,J,K,U,X,Y,Z=e[0],ee=[];for(let t=0;t<Z.length;t+=1)ee[t]=N(G(e,Z,t));let te=e[7],ne=[];for(let t=0;t<te.length;t+=1)ne[t]=O(F(e,te,t));return{c(){t=l("div"),n=l("div"),s=d(),c=l("div"),v=l("p"),v.textContent="Bookings",w=d(),y=l("div"),k=l("div"),k.textContent="Open Bookings Per Time Slot",C=d(),z=l("div");for(let e=0;e<ee.length;e+=1)ee[e].c();S=d(),_=l("div"),j=l("div"),j.textContent="Required Information",M=d(),T=l("div");for(let e=0;e<ne.length;e+=1)ne[e].c();H=d(),I=l("div"),I.textContent="Display Message",L=d(),B=l("div"),q=l("input"),A=d(),P=l("div"),V=l("button"),V.textContent="Save",D=d(),E=l("button"),E.textContent="Cancel",R=d(),W=l("div"),J=d(),K=l("div"),o(n,"class","flex-none md:flex-grow"),o(v,"class","text-center font-semibold text-2xl text-gray-600 m-2"),o(k,"class","text-sm text-gray-500 font-semibold"),o(z,"class","p-2 overflow-x-auto w-full flex flex-no-wrap"),o(y,"class","shadow-lg p-3"),o(j,"class","text-sm text-gray-500 font-semibold"),o(T,"class","p-2 overflow-x-auto w-full flex flex-no-wrap"),o(I,"class","text-sm text-gray-500 font-semibold"),o(q,"class","flex-grow focus:outline-none"),o(q,"type","text"),o(q,"placeholder","Hello, we are open daily from 9-5. Book an hour before."),o(B,"class","border border-gray-300 focus-within:border-teal-500 rounded-lg p-2 my-2 bg-white flex"),o(_,"class","shadow-lg p-3"),o(V,"class","w-1/3 m-2 px-2 bg-green-400 rounded-lg font-bold h-10 text-white"),o(E,"class","w-1/3 m-2 px-2 bg-gray-400 rounded-lg font-bold h-10 text-white"),o(P,"class","border-t border-gray-200 flex flex-row-reverse"),o(c,"class","rounded-t-lg md:rounded-lg flex-none bg-white w-full self-center md:w-1/2"),o(W,"class","flex-none md:flex-grow"),o(t,"class","flex flex-col-reverse absolute w-full h-full z-50 antialiased"),o(K,"class","bg-dark fixed h-full z-40 w-full")},m(l,o,f){r(l,t,o),i(t,n),i(t,s),i(t,c),i(c,v),i(c,w),i(c,y),i(y,k),i(y,C),i(y,z);for(let e=0;e<ee.length;e+=1)ee[e].m(z,null);i(c,S),i(c,_),i(_,j),i(_,M),i(_,T);for(let e=0;e<ne.length;e+=1)ne[e].m(T,null);i(_,H),i(_,I),i(_,L),i(_,B),i(B,q),$(q,e[4]),i(c,A),i(c,P),i(P,V),i(P,D),i(P,E),i(t,R),i(t,W),r(l,J,o),r(l,K,o),X=!0,f&&u(Y),Y=[a(q,"input",e[15]),a(V,"click",e[9]),a(E,"click",e[16]),a(K,"click",e[17])]},p(e,[t]){if(7&t){let n;for(Z=e[0],n=0;n<Z.length;n+=1){const l=G(e,Z,n);ee[n]?ee[n].p(l,t):(ee[n]=N(l),ee[n].c(),ee[n].m(z,null))}for(;n<ee.length;n+=1)ee[n].d(1);ee.length=Z.length}if(392&t){let n;for(te=e[7],n=0;n<te.length;n+=1){const l=F(e,te,n);ne[n]?ne[n].p(l,t):(ne[n]=O(l),ne[n].c(),ne[n].m(T,null))}for(;n<ne.length;n+=1)ne[n].d(1);ne.length=te.length}16&t&&q.value!==e[4]&&$(q,e[4])},i(e){X||(g(()=>{Q||(Q=x(c,m,{y:300,easing:h},!0)),Q.run(1)}),g(()=>{U||(U=x(K,b,{easing:h},!0)),U.run(1)}),X=!0)},o(e){Q||(Q=x(c,m,{y:300,easing:h},!1)),Q.run(0),U||(U=x(K,b,{easing:h},!1)),U.run(0),X=!1},d(e){e&&f(t),p(ee,e),p(ne,e),e&&Q&&Q.end(),e&&f(J),e&&f(K),e&&U&&U.end(),u(Y)}}}function R(e,t,n){let l,s,o;v(e,w,e=>n(10,l=e)),v(e,y,e=>n(11,s=e)),v(e,k,e=>n(5,o=e));let r=[],i=[],a=l.settings.booking_slots||0,c=l.settings.booking_fields||[],f=l.settings.booking_message||"";for(var d=1;d<60;d++)r=[...r,d];function u(e){var t=c.length;n(3,c=c.filter(t=>t!=e)),c.length==t&&n(3,c=[...c,e])}j(()=>{i[a].scrollIntoView()});return[r,i,a,c,f,o,d,["name","email","phone"],u,function(){C(y,s=!0);let e={booking_fields:c,booking_slots:a,booking_message:f};fetch(z("/settings"),S(e)).then(e=>e.json()).then(e=>{C(w,l=e),C(y,s=!1),C(k,o=void 0)}).catch(e=>{})},l,s,function(e,t){i[t]!==e&&M[e?"unshift":"push"](()=>{i[t]=e,n(1,i)})},e=>n(2,a=e),e=>u(e),function(){f=this.value,n(4,f)},()=>C(k,o=void 0),()=>C(k,o=void 0)]}class W extends e{constructor(e){super(),t(this,e,R,Q,n,{})}}function J(e){let t,n,c,u,g,x,h,m;return{c(){t=l("div"),n=l("button"),c=l("div"),u=s("o"),x=d(),h=l("p"),h.textContent="Live",o(c,"class",g="w-1/2 rounded-lg h-6 "+(1==e[0].settings.reservations?"float-right bg-green-300 text-green-300":"bg-gray-500 text-gray-500")),o(n,"class","bg-gray-300 w-16 px-2 h-10 rounded-lg clearfix"),o(h,"class","inline-block text-gray-500 pl-1"),o(t,"class","float-right")},m(l,s,o){r(l,t,s),i(t,n),i(n,c),i(c,u),i(t,x),i(t,h),o&&m(),m=a(n,"click",e[2])},p(e,t){1&t&&g!==(g="w-1/2 rounded-lg h-6 "+(1==e[0].settings.reservations?"float-right bg-green-300 text-green-300":"bg-gray-500 text-gray-500"))&&o(c,"class",g)},d(e){e&&f(t),m()}}}function K(e){let t,n,s,c,g,x,h=e[0].settings&&J(e);return{c(){t=l("div"),n=l("button"),n.innerHTML='<i class="fas fa-clock pr-2"></i> Slots\n  ',s=d(),c=l("button"),c.innerHTML='<i class="fas fa-book pr-2"></i> Settings\n  ',g=d(),h&&h.c(),o(n,"class","float-left mr-2 px-2 bg-gray-600 rounded-lg capitalize font-bold h-10 text-white"),o(c,"class","float-left px-2 bg-gray-600 rounded-lg capitalize font-bold h-10 text-white"),o(t,"class","border-b border-gray-300 p-3 m-0 clearfix")},m(l,o,f){r(l,t,o),i(t,n),i(t,s),i(t,c),i(t,g),h&&h.m(t,null),f&&u(x),x=[a(n,"click",e[4]),a(c,"click",e[5])]},p(e,[n]){e[0].settings?h?h.p(e,n):(h=J(e),h.c(),h.m(t,null)):h&&(h.d(1),h=null)},i:_,o:_,d(e){e&&f(t),h&&h.d(),u(x)}}}function U(e,t,n){let l,s,o;v(e,y,e=>n(3,l=e)),v(e,w,e=>n(0,s=e)),v(e,k,e=>n(1,o=e));return[s,o,function(){C(y,l=!0);let e=1!=s.settings.reservations;C(w,s.settings.reservations=e,s),fetch(z("/settings"),S(s.settings)).then(e=>e.json()).then(e=>{C(w,s=e),C(y,l=!1),C(k,o=void 0)}).catch(e=>{})},l,()=>C(k,o={class:E}),()=>C(k,o={class:W})]}export default class extends e{constructor(e){super(),t(this,e,U,K,n,{})}}
//# sourceMappingURL=Reservations-f76e230e.js.map
