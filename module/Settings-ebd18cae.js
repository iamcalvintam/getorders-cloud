import{S as e,i as t,s,e as n,a as l,b as o,c as a,d as i,l as r,a4 as u,a5 as c,a6 as g,a7 as d,h as f,t as m,g as p,k as v,r as $,o as h,u as b,y,j as x,a8 as _,m as w,v as k,p as z,x as T,q as N,R as j,z as C,G as S,H as A,n as L,F as D,D as I,E as M}from"./App-ffc8060a.js";import{T as P}from"./UITextField-164d4e07.js";import{T as R}from"./UIToolbar-45338174.js";import{S as U}from"./UISegmented-7e5b39bc.js";import"./dayjs.min-366cf409.js";function B(e,t,s){const n=e.slice();return n[7]=t[s],n[9]=s,n}function E(e){let t,s,m,p,v,$,h,b,y;function x(...t){return e[6](e[9],...t)}return{c(){t=n("div"),s=n("input"),p=l(),v=n("button"),v.innerHTML='<i class="icon ion-md-close text-xl"></i>',$=l(),o(s,"type","text"),o(s,"class","flex-grow bg-gray-100 self-center"),o(s,"placeholder",e[2]),s.value=m=e[7],o(v,"class","flex-none ml-2"),o(t,"class","flex rounded-lg bg-gray-100 p-2 my-2")},m(e,n,l){a(e,t,n),i(t,s),i(t,p),i(t,v),i(t,$),b=!0,l&&y(),y=r(v,"click",x)},p(t,n){e=t,(!b||4&n)&&o(s,"placeholder",e[2]),(!b||1&n&&m!==(m=e[7])&&s.value!==m)&&(s.value=m)},i(e){b||(u(()=>{h||(h=c(t,d,{duration:300,easing:g},!0)),h.run(1)}),b=!0)},o(e){h||(h=c(t,d,{duration:300,easing:g},!1)),h.run(0),b=!1},d(e){e&&f(t),e&&h&&h.end(),y()}}}function F(e){let t,s,u,c,g,d,x,_,w,k,z=e[0],T=[];for(let t=0;t<z.length;t+=1)T[t]=E(B(e,z,t));const N=e=>h(T[e],1,1,()=>{T[e]=null});return{c(){t=n("div"),s=n("div"),u=n("label"),c=m(e[1]),g=l(),d=n("button"),d.innerHTML='<i class="icon ion-md-add text-xl"></i>',x=l();for(let e=0;e<T.length;e+=1)T[e].c();o(u,"class","flex-grow self-center text-xs uppercase text-gray-500 font-semibold"),o(d,"class","flex-none"),o(s,"class","flex"),o(t,"class",_=e[3].container)},m(n,l,o){a(n,t,l),i(t,s),i(s,u),i(u,c),i(s,g),i(s,d),i(t,x);for(let e=0;e<T.length;e+=1)T[e].m(t,null);w=!0,o&&k(),k=r(d,"click",e[4])},p(e,[s]){if((!w||2&s)&&p(c,e[1]),37&s){let n;for(z=e[0],n=0;n<z.length;n+=1){const l=B(e,z,n);T[n]?(T[n].p(l,s),v(T[n],1)):(T[n]=E(l),T[n].c(),v(T[n],1),T[n].m(t,null))}for($(),n=z.length;n<T.length;n+=1)N(n);b()}(!w||8&s&&_!==(_=e[3].container))&&o(t,"class",_)},i(e){if(!w){for(let e=0;e<z.length;e+=1)v(T[e]);w=!0}},o(e){T=T.filter(Boolean);for(let e=0;e<T.length;e+=1)h(T[e]);w=!1},d(e){e&&f(t),y(T,e),k()}}}function H(e,t,s){let{value:n=[]}=t,{label:l=""}=t,{placeholder:o=""}=t,{style:a={}}=t;function i(e){s(0,n=[...n.slice(0,e),...n.slice(e+1,n.length)])}return e.$set=e=>{"value"in e&&s(0,n=e.value),"label"in e&&s(1,l=e.label),"placeholder"in e&&s(2,o=e.placeholder),"style"in e&&s(3,a=e.style)},[n,l,o,a,function(){s(0,n=[...n,""])},i,e=>i(e)]}class G extends e{constructor(e){super(),t(this,e,H,F,s,{value:0,label:1,placeholder:2,style:3})}}function O(e,t,s){const n=e.slice();return n[25]=t[s],n}function q(e){let t,s,r,u,c,g,d,$,b,y,T,N,j,C,L,D,I,M,R,B,E,F,H,O,q,K,Q,V,W,X,Z,ee,te,se,ne,le,oe,ae,ie,re,ue,ce,ge,de,fe,me,pe,ve,$e,he,be,ye,xe,_e,we=e[0].settings.short_id+"";function ke(t){e[9].call(null,t)}let ze={style:e[5],label:"Business Name"};void 0!==e[0].settings.name&&(ze.value=e[0].settings.name);const Te=new P({props:ze});function Ne(e,t){return e[0].settings.timeslots.length>0?J:Y}S.push(()=>A(Te,"value",ke));let je=Ne(e),Ce=je(e);function Se(t){e[12].call(null,t)}let Ae={style:e[5],label:"Address"};void 0!==e[0].settings.address&&(Ae.value=e[0].settings.address);const Le=new P({props:Ae});function De(t){e[13].call(null,t)}S.push(()=>A(Le,"value",Se));let Ie={style:e[5],label:"Address 2"};void 0!==e[0].settings.address2&&(Ie.value=e[0].settings.address2);const Me=new P({props:Ie});function Pe(t){e[14].call(null,t)}S.push(()=>A(Me,"value",De));let Re={style:e[5],label:"Postcode"};void 0!==e[0].settings.postcode&&(Re.value=e[0].settings.postcode);const Ue=new P({props:Re});function Be(t){e[15].call(null,t)}S.push(()=>A(Ue,"value",Pe));let Ee={style:e[5],label:"Identifier"};void 0!==e[0].settings.short_id&&(Ee.value=e[0].settings.short_id);const Fe=new P({props:Ee});function He(t){e[16].call(null,t)}S.push(()=>A(Fe,"value",Be));let Ge={style:e[5],label:"Delivery Fees"};void 0!==e[0].settings.delivery_fees&&(Ge.value=e[0].settings.delivery_fees);const Oe=new P({props:Ge});function qe(t){e[17].call(null,t)}S.push(()=>A(Oe,"value",He));let Ye={style:e[5],label:"Phone Number"};void 0!==e[0].settings.phone&&(Ye.value=e[0].settings.phone);const Je=new P({props:Ye});function Ke(t){e[18].call(null,t)}S.push(()=>A(Je,"value",qe));let Qe={style:e[5],label:"Announcement"};void 0!==e[0].settings.announcement&&(Qe.value=e[0].settings.announcement);const Ve=new P({props:Qe});function We(t){e[19].call(null,t)}S.push(()=>A(Ve,"value",Ke));let Xe={style:e[5],label:"Checkout Notes"};void 0!==e[0].settings.checkout_notes&&(Xe.value=e[0].settings.checkout_notes);const Ze=new P({props:Xe});function et(t){e[20].call(null,t)}S.push(()=>A(Ze,"value",We));let tt={style:e[5],label:"Order Methods",segments:[{name:"All",value:""},{name:"No Delivery",value:"no_delivery"},{name:"No Pickup",value:"no_pickup"}]};void 0!==e[0].settings.order_methods&&(tt.value=e[0].settings.order_methods);const st=new U({props:tt});function nt(t){e[21].call(null,t)}S.push(()=>A(st,"value",et));let lt={style:e[5],label:"List Layout",segments:[{name:"Grid",value:""},{name:"List",value:"list"}]};void 0!==e[0].settings.list_style&&(lt.value=e[0].settings.list_style);const ot=new U({props:lt});function at(t){e[22].call(null,t)}S.push(()=>A(ot,"value",nt));let it={style:e[5],label:"Multiplier"};void 0!==e[0].settings.multiplier&&(it.value=e[0].settings.multiplier);const rt=new P({props:it});function ut(t){e[23].call(null,t)}S.push(()=>A(rt,"value",at));let ct={style:e[5],label:"Rounding",segments:[{name:"No Rounding",value:""},{name:"Round Down",value:"round_down"},{name:"Round Up",value:"round_up"}]};void 0!==e[0].settings.rounding&&(ct.value=e[0].settings.rounding);const gt=new U({props:ct});function dt(t){e[24].call(null,t)}S.push(()=>A(gt,"value",ut));let ft={style:e[5],label:"Deduction Presets",placeholder:"e.g : 100"};void 0!==e[0].settings.deduct_presets&&(ft.value=e[0].settings.deduct_presets);const mt=new G({props:ft});return S.push(()=>A(mt,"value",dt)),{c(){t=n("p"),t.textContent="Your Details",s=l(),x(Te.$$.fragment),u=l(),c=n("div"),g=n("label"),d=m("Time Slots"),b=l(),y=n("div"),Ce.c(),N=l(),j=n("p"),j.textContent="Pickup Location",C=l(),x(Le.$$.fragment),D=l(),x(Me.$$.fragment),M=l(),x(Ue.$$.fragment),B=l(),E=n("p"),E.textContent="Ensure that the details above is correct, as price estimation and riders depend on the accuracy of this information.",F=l(),H=n("p"),H.textContent="Orders",O=l(),q=n("div"),x(Fe.$$.fragment),Q=l(),V=n("p"),W=n("a"),X=m("https://instant.getorders.app/?m="),Z=m(we),te=l(),x(Oe.$$.fragment),ne=l(),x(Je.$$.fragment),oe=l(),x(Ve.$$.fragment),ie=l(),x(Ze.$$.fragment),ue=l(),x(st.$$.fragment),ge=l(),x(ot.$$.fragment),fe=l(),me=n("p"),me.textContent="Loyalty",pe=l(),ve=n("div"),x(rt.$$.fragment),he=l(),x(gt.$$.fragment),ye=l(),x(mt.$$.fragment),o(t,"class","sect text-theme svelte-12rzu9v"),o(g,"class",$="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 "+e[5].label+" svelte-12rzu9v"),o(y,"class","border rounded shadow-sm p-2 w-full flex flex-wrap"),o(c,"class",T=_(e[5].container)+" svelte-12rzu9v"),o(j,"class","sect text-theme svelte-12rzu9v"),o(E,"class","text-xs px-3 mb-3 font-semibold"),o(H,"class","sect text-theme svelte-12rzu9v"),o(W,"href",ee="https://instant.getorders.app/?m="+e[0].settings.short_id),o(W,"target","_blank"),o(V,"class","text-xs px-3 mb-3 font-semibold"),o(me,"class","sect text-theme svelte-12rzu9v")},m(e,n){a(e,t,n),a(e,s,n),w(Te,e,n),a(e,u,n),a(e,c,n),i(c,g),i(g,d),i(c,b),i(c,y),Ce.m(y,null),a(e,N,n),a(e,j,n),a(e,C,n),w(Le,e,n),a(e,D,n),w(Me,e,n),a(e,M,n),w(Ue,e,n),a(e,B,n),a(e,E,n),a(e,F,n),a(e,H,n),a(e,O,n),a(e,q,n),w(Fe,q,null),i(q,Q),i(q,V),i(V,W),i(W,X),i(W,Z),i(q,te),w(Oe,q,null),i(q,ne),w(Je,q,null),i(q,oe),w(Ve,q,null),i(q,ie),w(Ze,q,null),i(q,ue),w(st,q,null),i(q,ge),w(ot,q,null),a(e,fe,n),a(e,me,n),a(e,pe,n),a(e,ve,n),w(rt,ve,null),i(ve,he),w(gt,ve,null),i(ve,ye),w(mt,ve,null),_e=!0},p(e,t){const s={};!r&&1&t&&(r=!0,s.value=e[0].settings.name,k(()=>r=!1)),Te.$set(s),je===(je=Ne(e))&&Ce?Ce.p(e,t):(Ce.d(1),Ce=je(e),Ce&&(Ce.c(),Ce.m(y,null)));const n={};!L&&1&t&&(L=!0,n.value=e[0].settings.address,k(()=>L=!1)),Le.$set(n);const l={};!I&&1&t&&(I=!0,l.value=e[0].settings.address2,k(()=>I=!1)),Me.$set(l);const a={};!R&&1&t&&(R=!0,a.value=e[0].settings.postcode,k(()=>R=!1)),Ue.$set(a);const i={};!K&&1&t&&(K=!0,i.value=e[0].settings.short_id,k(()=>K=!1)),Fe.$set(i),(!_e||1&t)&&we!==(we=e[0].settings.short_id+"")&&p(Z,we),(!_e||1&t&&ee!==(ee="https://instant.getorders.app/?m="+e[0].settings.short_id))&&o(W,"href",ee);const u={};!se&&1&t&&(se=!0,u.value=e[0].settings.delivery_fees,k(()=>se=!1)),Oe.$set(u);const c={};!le&&1&t&&(le=!0,c.value=e[0].settings.phone,k(()=>le=!1)),Je.$set(c);const g={};!ae&&1&t&&(ae=!0,g.value=e[0].settings.announcement,k(()=>ae=!1)),Ve.$set(g);const d={};!re&&1&t&&(re=!0,d.value=e[0].settings.checkout_notes,k(()=>re=!1)),Ze.$set(d);const f={};!ce&&1&t&&(ce=!0,f.value=e[0].settings.order_methods,k(()=>ce=!1)),st.$set(f);const m={};!de&&1&t&&(de=!0,m.value=e[0].settings.list_style,k(()=>de=!1)),ot.$set(m);const v={};!$e&&1&t&&($e=!0,v.value=e[0].settings.multiplier,k(()=>$e=!1)),rt.$set(v);const $={};!be&&1&t&&(be=!0,$.value=e[0].settings.rounding,k(()=>be=!1)),gt.$set($);const h={};!xe&&1&t&&(xe=!0,h.value=e[0].settings.deduct_presets,k(()=>xe=!1)),mt.$set(h)},i(e){_e||(v(Te.$$.fragment,e),v(Le.$$.fragment,e),v(Me.$$.fragment,e),v(Ue.$$.fragment,e),v(Fe.$$.fragment,e),v(Oe.$$.fragment,e),v(Je.$$.fragment,e),v(Ve.$$.fragment,e),v(Ze.$$.fragment,e),v(st.$$.fragment,e),v(ot.$$.fragment,e),v(rt.$$.fragment,e),v(gt.$$.fragment,e),v(mt.$$.fragment,e),_e=!0)},o(e){h(Te.$$.fragment,e),h(Le.$$.fragment,e),h(Me.$$.fragment,e),h(Ue.$$.fragment,e),h(Fe.$$.fragment,e),h(Oe.$$.fragment,e),h(Je.$$.fragment,e),h(Ve.$$.fragment,e),h(Ze.$$.fragment,e),h(st.$$.fragment,e),h(ot.$$.fragment,e),h(rt.$$.fragment,e),h(gt.$$.fragment,e),h(mt.$$.fragment,e),_e=!1},d(e){e&&f(t),e&&f(s),z(Te,e),e&&f(u),e&&f(c),Ce.d(),e&&f(N),e&&f(j),e&&f(C),z(Le,e),e&&f(D),z(Me,e),e&&f(M),z(Ue,e),e&&f(B),e&&f(E),e&&f(F),e&&f(H),e&&f(O),e&&f(q),z(Fe),z(Oe),z(Je),z(Ve),z(Ze),z(st),z(ot),e&&f(fe),e&&f(me),e&&f(pe),e&&f(ve),z(rt),z(gt),z(mt)}}}function Y(e){let t,s;return{c(){t=n("p"),t.textContent="No Time Slots Specified. Tap To Add Time Slots.",o(t,"class","text-gray-500 cursor-pointer")},m(n,l,o){a(n,t,l),o&&s(),s=r(t,"click",e[11])},p:L,d(e){e&&f(t),s()}}}function J(e){let t,s=e[0].settings.timeslots,n=[];for(let t=0;t<s.length;t+=1)n[t]=K(O(e,s,t));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=T()},m(e,s){for(let t=0;t<n.length;t+=1)n[t].m(e,s);a(e,t,s)},p(e,l){if(9&l){let o;for(s=e[0].settings.timeslots,o=0;o<s.length;o+=1){const a=O(e,s,o);n[o]?n[o].p(a,l):(n[o]=K(a),n[o].c(),n[o].m(t.parentNode,t))}for(;o<n.length;o+=1)n[o].d(1);n.length=s.length}},d(e){y(n,e),e&&f(t)}}}function K(e){let t,s,l,u,c=V(e[25])+"";function g(...t){return e[10](e[25],...t)}return{c(){t=n("span"),s=m(c),l=n("i"),o(l,"class","icon ion-md-close pl-2 font-semibold"),o(t,"class","inline-block p-2 rounded-lg text-xs bg-theme text-white m-1")},m(e,n,o){a(e,t,n),i(t,s),i(t,l),o&&u(),u=r(t,"click",g)},p(t,n){e=t,1&n&&c!==(c=V(e[25])+"")&&p(s,c)},d(e){e&&f(t),u()}}}function Q(e){let t,s,n;const o=new R({props:{class:"border-b border-gray-300",tools:e[1]}});o.$on("selected",e[2]);let i=e[0].settings&&q(e);return{c(){x(o.$$.fragment),t=l(),i&&i.c(),s=T()},m(e,l){w(o,e,l),a(e,t,l),i&&i.m(e,l),a(e,s,l),n=!0},p(e,[t]){e[0].settings?i?(i.p(e,t),v(i,1)):(i=q(e),i.c(),v(i,1),i.m(s.parentNode,s)):i&&($(),h(i,1,1,()=>{i=null}),b())},i(e){n||(v(o.$$.fragment,e),v(i),n=!0)},o(e){h(o.$$.fragment,e),h(i),n=!1},d(e){z(o,e),e&&f(t),i&&i.d(e),e&&f(s)}}}function V(e){var t=e.split(":"),s="AM",n=parseInt(t);return n>12&&(n-=12,s="PM"),`${n}:${t[1]}${s}`}function W(e){var t=`${e[1]}`;return e[1]<10&&(t=`0${t}`),`${e[0]}:${t}`}function X(e,t,s){let n,l;N(e,j,e=>s(6,n=e)),N(e,C,e=>s(0,l=e));let o=[8,30],a=[21,30];function i(e){D(C,l.settings.timeslots=l.settings.timeslots.filter(t=>t!=e),l)}function r(e){var t=o.slice();let s=[W(t)];for(var n=1;n<60&&!(t[0]>=a[0]&&t[1]>=a[1]);n++)t[1]+=e,t[1]>=60&&(t[0]+=1,t[1]=t[1]-60),s=[...s,W(t)];D(C,l.settings.timeslots=s,l)}return[l,[{name:"Save",icon:"cloud-done",function:"save"}],function(e){switch(e.detail.function){case"save":D(j,n=!0),fetch(I("/settings"),M(l.settings)).then(e=>e.json()).then(e=>{D(C,l=e),D(j,n=!1)}).catch(e=>{})}},i,r,{container:"p-2 md:w-1/2 flex-none",label:"w-32"},n,o,a,function(e){l.settings.name=e,C.set(l)},e=>i(e),()=>r(30),function(e){l.settings.address=e,C.set(l)},function(e){l.settings.address2=e,C.set(l)},function(e){l.settings.postcode=e,C.set(l)},function(e){l.settings.short_id=e,C.set(l)},function(e){l.settings.delivery_fees=e,C.set(l)},function(e){l.settings.phone=e,C.set(l)},function(e){l.settings.announcement=e,C.set(l)},function(e){l.settings.checkout_notes=e,C.set(l)},function(e){l.settings.order_methods=e,C.set(l)},function(e){l.settings.list_style=e,C.set(l)},function(e){l.settings.multiplier=e,C.set(l)},function(e){l.settings.rounding=e,C.set(l)},function(e){l.settings.deduct_presets=e,C.set(l)}]}export default class extends e{constructor(e){var l;super(),document.getElementById("svelte-12rzu9v-style")||((l=n("style")).id="svelte-12rzu9v-style",l.textContent=".sect.svelte-12rzu9v{font-size:1.25rem;font-weight:700;margin-top:0.75rem}",i(document.head,l)),t(this,e,X,Q,s,{})}}
//# sourceMappingURL=Settings-ebd18cae.js.map
