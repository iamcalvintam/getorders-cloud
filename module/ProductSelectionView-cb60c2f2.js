import{S as t,i as e,s,M as n,j as o,m as l,k as c,o as r,p as a,q as i,Y as f,e as d,b as u,c as m,h as p,r as $,u as g,y as h,n as x,a as _,Q as b,C as v,t as y,d as j,l as k,g as q}from"./Web-0e753209.js";import"./UITextField-626a62ba.js";import{T as w}from"./UIToolbar-40511b9d.js";import{U as I}from"./UIItem-0dd40481.js";function U(t,e,s){const n=t.slice();return n[12]=e[s],n}function C(t){let e;return{c(){e=d("div"),e.textContent="Select Products",u(e,"slot","title"),u(e,"class","font-semibold text-xl text-gray-600 pb-3")},m(t,s){m(t,e,s)},d(t){t&&p(e)}}}function S(t){let e,s,n,o,l,c,r,a,i=t[12].name+"";function f(...e){return t[9](t[12],...e)}return{c(){e=d("div"),s=d("i"),o=_(),l=y(i),c=_(),u(s,"class",n="pr-3 self-center fas "+(t[5](t[12])?"fa-check-square":"fa-square")),u(e,"class","flex w-full m-3")},m(t,n){m(t,e,n),j(e,s),j(e,o),j(e,l),m(t,c,n),r||(a=k(e,"click",f),r=!0)},p(e,o){t=e,1&o&&n!==(n="pr-3 self-center fas "+(t[5](t[12])?"fa-check-square":"fa-square"))&&u(s,"class",n),1&o&&i!==(i=t[12].name+"")&&q(l,i)},d(t){t&&p(e),t&&p(c),r=!1,a()}}}function T(t){let e,s;return e=new I({props:{$$slots:{default:[S]},$$scope:{ctx:t}}}),{c(){o(e.$$.fragment)},m(t,n){l(e,t,n),s=!0},p(t,s){const n={};32769&s&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){s||(c(e.$$.fragment,t),s=!0)},o(t){r(e.$$.fragment,t),s=!1},d(t){a(e,t)}}}function P(t){let e,s,n=t[0],o=[];for(let e=0;e<n.length;e+=1)o[e]=T(U(t,n,e));const l=t=>r(o[t],1,1,()=>{o[t]=null});return{c(){e=d("div");for(let t=0;t<o.length;t+=1)o[t].c();u(e,"slot","content"),u(e,"class","p-2")},m(t,n){m(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null);s=!0},p(t,s){if(97&s){let r;for(n=t[0],r=0;r<n.length;r+=1){const l=U(t,n,r);o[r]?(o[r].p(l,s),c(o[r],1)):(o[r]=T(l),o[r].c(),c(o[r],1),o[r].m(e,null))}for($(),r=n.length;r<o.length;r+=1)l(r);g()}},i(t){if(!s){for(let t=0;t<n.length;t+=1)c(o[t]);s=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)r(o[t]);s=!1},d(t){t&&p(e),h(o,t)}}}function B(t){let e,s,n;return s=new w({props:{tools:t[2],style:t[3]}}),s.$on("selected",t[4]),{c(){e=d("div"),o(s.$$.fragment),u(e,"slot","toolbar")},m(t,o){m(t,e,o),l(s,e,null),n=!0},p:x,i(t){n||(c(s.$$.fragment,t),n=!0)},o(t){r(s.$$.fragment,t),n=!1},d(t){t&&p(e),a(s)}}}function F(t){let e,s;return{c(){e=_(),s=_()},m(t,n){m(t,e,n),m(t,s,n)},p:x,i:x,o:x,d(t){t&&p(e),t&&p(s)}}}function M(t){let e,s;return e=new n({props:{style:t[1],$$slots:{default:[F],toolbar:[B],content:[P],title:[C]},$$scope:{ctx:t}}}),{c(){o(e.$$.fragment)},m(t,n){l(e,t,n),s=!0},p(t,[s]){const n={};32769&s&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){s||(c(e.$$.fragment,t),s=!0)},o(t){r(e.$$.fragment,t),s=!1},d(t){a(e,t)}}}function Q(t,e,s){let n;i(t,f,t=>s(10,n=t));let{products:o=[]}=e,{selected_prods:l=[]}=e,{max_selection:c=0}=e;function r(t){let e=l.length;s(7,l=l.filter(e=>e.id!=t.id)),l.length==e&&s(7,l=[...l,{id:""+t.id,name:t.name,variants:t.variants||[]}]),s(0,o)}return t.$$set=t=>{"products"in t&&s(0,o=t.products),"selected_prods"in t&&s(7,l=t.selected_prods),"max_selection"in t&&s(8,c=t.max_selection)},[o,{body:"screen-height-xs",content:"overflow-y-scroll scrolling-touch"},[{name:"Close",icon:"close-circle",function:"pop_modal"},{name:"Save",icon:"checkmark-circle",function:"save"}],{container:"justify-end"},function(t){"pop_modal"==t.detail.function&&b(),"save"==t.detail.function&&(v(f,n={selected_prods:l}),b())},function(t){return l.find(e=>e.id==t.id)},r,l,c,t=>{r(t)}]}class W extends t{constructor(t){super(),e(this,t,Q,M,s,{products:0,selected_prods:7,max_selection:8})}}export{W as P};
//# sourceMappingURL=ProductSelectionView-cb60c2f2.js.map
