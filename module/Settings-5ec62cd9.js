import{S as e,i as t,s as n,e as s,a as l,b as o,c as i,d as a,l as u,P as r,aa as c,ab as g,ac as d,h as f,t as m,g as p,k as $,r as v,o as h,u as b,y,j as _,ad as x,m as k,v as w,Z as C,_ as S,Q as I,n as T,w as D,p as M,x as L,q as N,z as A,U as B,C as P,F as j,G as R,T as U}from"./Web-70c43e3b.js";import{T as F}from"./UITextField-a64fc3c1.js";import{T as O}from"./UIToolbar-2d01579c.js";import{S as G}from"./UISegmented-f12f74ef.js";import"./dayjs.min-056200c8.js";function z(e,t,n){const s=e.slice();return s[7]=t[n],s[9]=n,s}function E(e){let t,n,m,p,$,v,h,b,y,_;function x(...t){return e[6](e[9],...t)}return{c(){t=s("div"),n=s("input"),p=l(),$=s("button"),$.innerHTML='<i class="icon ion-md-close text-xl"></i>',v=l(),o(n,"type","text"),o(n,"class","flex-grow bg-gray-100 self-center"),o(n,"placeholder",e[2]),n.value=m=e[7],o($,"class","flex-none ml-2"),o(t,"class","flex rounded-lg bg-gray-100 p-2 my-2")},m(e,s){i(e,t,s),a(t,n),a(t,p),a(t,$),a(t,v),b=!0,y||(_=u($,"click",x),y=!0)},p(t,s){e=t,(!b||4&s)&&o(n,"placeholder",e[2]),(!b||1&s&&m!==(m=e[7])&&n.value!==m)&&(n.value=m)},i(e){b||(r(()=>{h||(h=c(t,d,{duration:300,easing:g},!0)),h.run(1)}),b=!0)},o(e){h||(h=c(t,d,{duration:300,easing:g},!1)),h.run(0),b=!1},d(e){e&&f(t),e&&h&&h.end(),y=!1,_()}}}function H(e){let t,n,r,c,g,d,_,x,k,w,C,S=e[0],I=[];for(let t=0;t<S.length;t+=1)I[t]=E(z(e,S,t));const T=e=>h(I[e],1,1,()=>{I[e]=null});return{c(){t=s("div"),n=s("div"),r=s("label"),c=m(e[1]),g=l(),d=s("button"),d.innerHTML='<i class="icon ion-md-add text-xl"></i>',_=l();for(let e=0;e<I.length;e+=1)I[e].c();o(r,"class","flex-grow self-center text-xs uppercase text-gray-500 font-semibold"),o(d,"class","flex-none"),o(n,"class","flex"),o(t,"class",x=e[3].container)},m(s,l){i(s,t,l),a(t,n),a(n,r),a(r,c),a(n,g),a(n,d),a(t,_);for(let e=0;e<I.length;e+=1)I[e].m(t,null);k=!0,w||(C=u(d,"click",e[4]),w=!0)},p(e,[n]){if((!k||2&n)&&p(c,e[1]),37&n){let s;for(S=e[0],s=0;s<S.length;s+=1){const l=z(e,S,s);I[s]?(I[s].p(l,n),$(I[s],1)):(I[s]=E(l),I[s].c(),$(I[s],1),I[s].m(t,null))}for(v(),s=S.length;s<I.length;s+=1)T(s);b()}(!k||8&n&&x!==(x=e[3].container))&&o(t,"class",x)},i(e){if(!k){for(let e=0;e<S.length;e+=1)$(I[e]);k=!0}},o(e){I=I.filter(Boolean);for(let e=0;e<I.length;e+=1)h(I[e]);k=!1},d(e){e&&f(t),y(I,e),w=!1,C()}}}function W(e,t,n){let{value:s=[]}=t,{label:l=""}=t,{placeholder:o=""}=t,{style:i={}}=t;function a(e){n(0,s=[...s.slice(0,e),...s.slice(e+1,s.length)])}return e.$$set=e=>{"value"in e&&n(0,s=e.value),"label"in e&&n(1,l=e.label),"placeholder"in e&&n(2,o=e.placeholder),"style"in e&&n(3,i=e.style)},[s,l,o,i,function(){n(0,s=[...s,""])},a,e=>a(e)]}class q extends e{constructor(e){super(),t(this,e,W,H,n,{value:0,label:1,placeholder:2,style:3})}}function K(e,t,n){const s=e.slice();return s[43]=t[n],s}function Q(e,t,n){const s=e.slice();return s[46]=t[n],s}function Y(e){let t,n,r,c,g,d,y,C,S,I,T,D,L,N,A,B,P,U,O,z,E,H,W,K,Q,Y,te,se,oe,ie,ae,ue,re,ce,ge,de,fe,me,pe,$e,ve,he,be,ye,_e,xe,ke,we,Ce,Se,Ie,Te,De,Me,Le,Ne,Ae,Be,Pe,je,Re,Ue,Fe,Oe,Ge,ze,Ee,He,We,qe,Ke,Qe,Ye,Ze,Je,Ve,Xe,et,tt,nt,st,lt,ot,it,at,ut,rt,ct,gt,dt,ft,mt,pt,$t,vt,ht,bt,yt,_t,xt,kt,wt,Ct,St=e[2].settings.short_id+"";function It(t){e[10].call(null,t)}let Tt={style:e[8],label:"Business Name"};function Dt(e,t){return e[2].settings.logo_raw?Z:J}void 0!==e[2].settings.name&&(Tt.value=e[2].settings.name),r=new F({props:Tt}),j.push(()=>R(r,"value",It));let Mt=Dt(e),Lt=Mt(e),Nt=e[2].settings.logo&&V(e);function At(e,t){return e[2].settings.timeslots.length>0?ee:X}let Bt=At(e),Pt=Bt(e),jt=e[2].settings.timeslots.length>0&&ne(e);function Rt(t){e[18].call(null,t)}let Ut={style:e[8],label:"Address"};function Ft(t){e[19].call(null,t)}void 0!==e[2].settings.address&&(Ut.value=e[2].settings.address),te=new F({props:Ut}),j.push(()=>R(te,"value",Rt));let Ot={style:e[8],label:"Address 2"};function Gt(t){e[20].call(null,t)}void 0!==e[2].settings.address2&&(Ot.value=e[2].settings.address2),ie=new F({props:Ot}),j.push(()=>R(ie,"value",Ft));let zt={style:e[8],label:"Postcode"};function Et(t){e[21].call(null,t)}void 0!==e[2].settings.postcode&&(zt.value=e[2].settings.postcode),re=new F({props:zt}),j.push(()=>R(re,"value",Gt));let Ht={style:e[8],label:"Coordinates",placeholder:"3.123123,4.123231"};function Wt(t){e[22].call(null,t)}void 0!==e[2].settings.coordinates&&(Ht.value=e[2].settings.coordinates),de=new F({props:Ht}),j.push(()=>R(de,"value",Et));let qt={style:e[8],label:"Status",segments:[{name:"Online",value:!1},{name:"Offline",value:!0}]};function Kt(t){e[23].call(null,t)}void 0!==e[2].settings.offline&&(qt.value=e[2].settings.offline),ye=new G({props:qt}),j.push(()=>R(ye,"value",Wt));let Qt={style:e[8],label:"Identifier"};function Yt(t){e[24].call(null,t)}void 0!==e[2].settings.short_id&&(Qt.value=e[2].settings.short_id),ke=new F({props:Qt}),j.push(()=>R(ke,"value",Kt));let Zt={style:e[8],label:"SST Tax (%)"};function Jt(t){e[25].call(null,t)}void 0!==e[2].settings.tax&&(Zt.value=e[2].settings.tax),Ne=new F({props:Zt}),j.push(()=>R(Ne,"value",Yt));let Vt={style:e[8],label:"Delivery Fees"};function Xt(t){e[26].call(null,t)}void 0!==e[2].settings.delivery_fees&&(Vt.value=e[2].settings.delivery_fees),Pe=new F({props:Vt}),j.push(()=>R(Pe,"value",Jt));let en={style:e[8],label:"Phone Number"};function tn(t){e[27].call(null,t)}void 0!==e[2].settings.phone&&(en.value=e[2].settings.phone),Ue=new F({props:en}),j.push(()=>R(Ue,"value",Xt));let nn={style:e[8],label:"Announcement"};function sn(t){e[28].call(null,t)}void 0!==e[2].settings.announcement&&(nn.value=e[2].settings.announcement),Ge=new F({props:nn}),j.push(()=>R(Ge,"value",tn));let ln={style:e[8],label:"Checkout Notes"};void 0!==e[2].settings.checkout_notes&&(ln.value=e[2].settings.checkout_notes),He=new F({props:ln}),j.push(()=>R(He,"value",sn));let on="no_delivery"!=e[2].settings.order_methods&&le(e);function an(t){e[32].call(null,t)}let un={style:e[8],label:"Delivery Methods",segments:[{name:"MrSpeedy",value:0,hidden:!0},{name:"Bungkusit",value:1,hidden:!e[2].settings.bungkusit_id}]};function rn(t){e[33].call(null,t)}void 0!==e[2].settings.delivery_method&&(un.value=e[2].settings.delivery_method),Qe=new G({props:un}),j.push(()=>R(Qe,"value",an));let cn={style:e[8],label:"Order Methods",segments:[{name:"All",value:""},{name:"No Delivery",value:"no_delivery"},{name:"No Pickup",value:"no_pickup"}]};function gn(t){e[34].call(null,t)}void 0!==e[2].settings.order_methods&&(cn.value=e[2].settings.order_methods),Je=new G({props:cn}),j.push(()=>R(Je,"value",rn));let dn={style:e[8],label:"List Layout",segments:[{name:"Grid",value:""},{name:"List",value:"list"}]};function fn(t){e[35].call(null,t)}void 0!==e[2].settings.list_style&&(dn.value=e[2].settings.list_style),et=new G({props:dn}),j.push(()=>R(et,"value",gn));let mn={style:e[8],label:"Multiplier"};function pn(t){e[36].call(null,t)}void 0!==e[2].settings.multiplier&&(mn.value=e[2].settings.multiplier),it=new F({props:mn}),j.push(()=>R(it,"value",fn));let $n={style:e[8],label:"Rounding",segments:[{name:"No Rounding",value:""},{name:"Round Down",value:"round_down"},{name:"Round Up",value:"round_up"}]};function vn(t){e[37].call(null,t)}void 0!==e[2].settings.rounding&&($n.value=e[2].settings.rounding),rt=new G({props:$n}),j.push(()=>R(rt,"value",pn));let hn={style:e[8],label:"Deduction Presets",placeholder:"e.g : 100"};function bn(t){e[38].call(null,t)}void 0!==e[2].settings.deduct_presets&&(hn.value=e[2].settings.deduct_presets),dt=new q({props:hn}),j.push(()=>R(dt,"value",vn));let yn={style:e[8],label:"Google Analytic ID"};function _n(t){e[39].call(null,t)}void 0!==e[2].settings.google_analytic_id&&(yn.value=e[2].settings.google_analytic_id),ht=new F({props:yn}),j.push(()=>R(ht,"value",bn));let xn={style:e[8],label:"Facebook Pixel ID"};return void 0!==e[2].settings.facebook_pixel_id&&(xn.value=e[2].settings.facebook_pixel_id),_t=new F({props:xn}),j.push(()=>R(_t,"value",_n)),{c(){t=s("p"),t.textContent="Your Details",n=l(),_(r.$$.fragment),g=l(),d=s("div"),y=s("label"),y.textContent="Business Logo",C=l(),S=s("label"),Lt.c(),I=l(),T=s("input"),L=l(),Nt&&Nt.c(),A=l(),B=s("div"),P=s("label"),U=m("Time Slots"),z=l(),E=s("div"),Pt.c(),H=l(),jt&&jt.c(),K=l(),Q=s("p"),Q.textContent="Pickup Location",Y=l(),_(te.$$.fragment),oe=l(),_(ie.$$.fragment),ue=l(),_(re.$$.fragment),ge=l(),_(de.$$.fragment),me=l(),pe=s("p"),pe.textContent="Ensure that the details above is correct, as price estimation and riders\n  depend on the accuracy of this information.",$e=l(),ve=s("p"),ve.textContent="Orders",he=l(),be=s("div"),_(ye.$$.fragment),xe=l(),_(ke.$$.fragment),Ce=l(),Se=s("p"),Ie=s("a"),Te=m("https://getorders.app/#"),De=m(St),Le=l(),_(Ne.$$.fragment),Be=l(),_(Pe.$$.fragment),Re=l(),_(Ue.$$.fragment),Oe=l(),_(Ge.$$.fragment),Ee=l(),_(He.$$.fragment),qe=l(),on&&on.c(),Ke=l(),_(Qe.$$.fragment),Ze=l(),_(Je.$$.fragment),Xe=l(),_(et.$$.fragment),nt=l(),st=s("p"),st.textContent="Loyalty",lt=l(),ot=s("div"),_(it.$$.fragment),ut=l(),_(rt.$$.fragment),gt=l(),_(dt.$$.fragment),mt=l(),pt=s("p"),pt.textContent="Website",$t=l(),vt=s("div"),_(ht.$$.fragment),yt=l(),_(_t.$$.fragment),o(t,"class","sect text-theme svelte-1cgd9p3"),o(y,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),o(T,"type","file"),o(T,"class","hidden"),o(S,"class",D="p-2 block rounded cursor-pointer border shadow-sm "+(e[2].settings.logo_raw?"bg-theme text-white":"")),o(d,"class",N=x(e[8].container)+" svelte-1cgd9p3"),o(P,"class",O="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 "+e[8].label+" svelte-1cgd9p3"),o(E,"class","border rounded shadow-sm p-2 w-full flex flex-wrap mb-2"),o(B,"class",W=x(e[8].container)+" svelte-1cgd9p3"),o(Q,"class","sect text-theme svelte-1cgd9p3"),o(pe,"class","text-xs px-3 mb-3 font-semibold"),o(ve,"class","sect text-theme svelte-1cgd9p3"),o(Ie,"href",Me="https://getorders.app/#"+e[2].settings.short_id),o(Ie,"target","_blank"),o(Se,"class","text-xs px-3 mb-3 font-semibold"),o(st,"class","sect text-theme svelte-1cgd9p3"),o(pt,"class","sect text-theme svelte-1cgd9p3")},m(s,l){i(s,t,l),i(s,n,l),k(r,s,l),i(s,g,l),i(s,d,l),a(d,y),a(d,C),a(d,S),Lt.m(S,null),a(S,I),a(S,T),e[11](T),a(d,L),Nt&&Nt.m(d,null),i(s,A,l),i(s,B,l),a(B,P),a(P,U),a(B,z),a(B,E),Pt.m(E,null),a(B,H),jt&&jt.m(B,null),i(s,K,l),i(s,Q,l),i(s,Y,l),k(te,s,l),i(s,oe,l),k(ie,s,l),i(s,ue,l),k(re,s,l),i(s,ge,l),k(de,s,l),i(s,me,l),i(s,pe,l),i(s,$e,l),i(s,ve,l),i(s,he,l),i(s,be,l),k(ye,be,null),a(be,xe),k(ke,be,null),a(be,Ce),a(be,Se),a(Se,Ie),a(Ie,Te),a(Ie,De),a(be,Le),k(Ne,be,null),a(be,Be),k(Pe,be,null),a(be,Re),k(Ue,be,null),a(be,Oe),k(Ge,be,null),a(be,Ee),k(He,be,null),a(be,qe),on&&on.m(be,null),a(be,Ke),k(Qe,be,null),a(be,Ze),k(Je,be,null),a(be,Xe),k(et,be,null),i(s,nt,l),i(s,st,l),i(s,lt,l),i(s,ot,l),k(it,ot,null),a(ot,ut),k(rt,ot,null),a(ot,gt),k(dt,ot,null),i(s,mt,l),i(s,pt,l),i(s,$t,l),i(s,vt,l),k(ht,vt,null),a(vt,yt),k(_t,vt,null),kt=!0,wt||(Ct=u(T,"change",e[9]),wt=!0)},p(e,t){const n={};!c&&4&t[0]&&(c=!0,n.value=e[2].settings.name,w(()=>c=!1)),r.$set(n),Mt!==(Mt=Dt(e))&&(Lt.d(1),Lt=Mt(e),Lt&&(Lt.c(),Lt.m(S,I))),(!kt||4&t[0]&&D!==(D="p-2 block rounded cursor-pointer border shadow-sm "+(e[2].settings.logo_raw?"bg-theme text-white":"")))&&o(S,"class",D),e[2].settings.logo?Nt?Nt.p(e,t):(Nt=V(e),Nt.c(),Nt.m(d,null)):Nt&&(Nt.d(1),Nt=null),Bt===(Bt=At(e))&&Pt?Pt.p(e,t):(Pt.d(1),Pt=Bt(e),Pt&&(Pt.c(),Pt.m(E,null))),e[2].settings.timeslots.length>0?jt?jt.p(e,t):(jt=ne(e),jt.c(),jt.m(B,null)):jt&&(jt.d(1),jt=null);const s={};!se&&4&t[0]&&(se=!0,s.value=e[2].settings.address,w(()=>se=!1)),te.$set(s);const l={};!ae&&4&t[0]&&(ae=!0,l.value=e[2].settings.address2,w(()=>ae=!1)),ie.$set(l);const i={};!ce&&4&t[0]&&(ce=!0,i.value=e[2].settings.postcode,w(()=>ce=!1)),re.$set(i);const a={};!fe&&4&t[0]&&(fe=!0,a.value=e[2].settings.coordinates,w(()=>fe=!1)),de.$set(a);const u={};!_e&&4&t[0]&&(_e=!0,u.value=e[2].settings.offline,w(()=>_e=!1)),ye.$set(u);const g={};!we&&4&t[0]&&(we=!0,g.value=e[2].settings.short_id,w(()=>we=!1)),ke.$set(g),(!kt||4&t[0])&&St!==(St=e[2].settings.short_id+"")&&p(De,St),(!kt||4&t[0]&&Me!==(Me="https://getorders.app/#"+e[2].settings.short_id))&&o(Ie,"href",Me);const f={};!Ae&&4&t[0]&&(Ae=!0,f.value=e[2].settings.tax,w(()=>Ae=!1)),Ne.$set(f);const m={};!je&&4&t[0]&&(je=!0,m.value=e[2].settings.delivery_fees,w(()=>je=!1)),Pe.$set(m);const y={};!Fe&&4&t[0]&&(Fe=!0,y.value=e[2].settings.phone,w(()=>Fe=!1)),Ue.$set(y);const _={};!ze&&4&t[0]&&(ze=!0,_.value=e[2].settings.announcement,w(()=>ze=!1)),Ge.$set(_);const x={};!We&&4&t[0]&&(We=!0,x.value=e[2].settings.checkout_notes,w(()=>We=!1)),He.$set(x),"no_delivery"!=e[2].settings.order_methods?on?(on.p(e,t),4&t[0]&&$(on,1)):(on=le(e),on.c(),$(on,1),on.m(be,Ke)):on&&(v(),h(on,1,1,()=>{on=null}),b());const k={};4&t[0]&&(k.segments=[{name:"MrSpeedy",value:0,hidden:!0},{name:"Bungkusit",value:1,hidden:!e[2].settings.bungkusit_id}]),!Ye&&4&t[0]&&(Ye=!0,k.value=e[2].settings.delivery_method,w(()=>Ye=!1)),Qe.$set(k);const C={};!Ve&&4&t[0]&&(Ve=!0,C.value=e[2].settings.order_methods,w(()=>Ve=!1)),Je.$set(C);const T={};!tt&&4&t[0]&&(tt=!0,T.value=e[2].settings.list_style,w(()=>tt=!1)),et.$set(T);const M={};!at&&4&t[0]&&(at=!0,M.value=e[2].settings.multiplier,w(()=>at=!1)),it.$set(M);const L={};!ct&&4&t[0]&&(ct=!0,L.value=e[2].settings.rounding,w(()=>ct=!1)),rt.$set(L);const N={};!ft&&4&t[0]&&(ft=!0,N.value=e[2].settings.deduct_presets,w(()=>ft=!1)),dt.$set(N);const A={};!bt&&4&t[0]&&(bt=!0,A.value=e[2].settings.google_analytic_id,w(()=>bt=!1)),ht.$set(A);const P={};!xt&&4&t[0]&&(xt=!0,P.value=e[2].settings.facebook_pixel_id,w(()=>xt=!1)),_t.$set(P)},i(e){kt||($(r.$$.fragment,e),$(te.$$.fragment,e),$(ie.$$.fragment,e),$(re.$$.fragment,e),$(de.$$.fragment,e),$(ye.$$.fragment,e),$(ke.$$.fragment,e),$(Ne.$$.fragment,e),$(Pe.$$.fragment,e),$(Ue.$$.fragment,e),$(Ge.$$.fragment,e),$(He.$$.fragment,e),$(on),$(Qe.$$.fragment,e),$(Je.$$.fragment,e),$(et.$$.fragment,e),$(it.$$.fragment,e),$(rt.$$.fragment,e),$(dt.$$.fragment,e),$(ht.$$.fragment,e),$(_t.$$.fragment,e),kt=!0)},o(e){h(r.$$.fragment,e),h(te.$$.fragment,e),h(ie.$$.fragment,e),h(re.$$.fragment,e),h(de.$$.fragment,e),h(ye.$$.fragment,e),h(ke.$$.fragment,e),h(Ne.$$.fragment,e),h(Pe.$$.fragment,e),h(Ue.$$.fragment,e),h(Ge.$$.fragment,e),h(He.$$.fragment,e),h(on),h(Qe.$$.fragment,e),h(Je.$$.fragment,e),h(et.$$.fragment,e),h(it.$$.fragment,e),h(rt.$$.fragment,e),h(dt.$$.fragment,e),h(ht.$$.fragment,e),h(_t.$$.fragment,e),kt=!1},d(s){s&&f(t),s&&f(n),M(r,s),s&&f(g),s&&f(d),Lt.d(),e[11](null),Nt&&Nt.d(),s&&f(A),s&&f(B),Pt.d(),jt&&jt.d(),s&&f(K),s&&f(Q),s&&f(Y),M(te,s),s&&f(oe),M(ie,s),s&&f(ue),M(re,s),s&&f(ge),M(de,s),s&&f(me),s&&f(pe),s&&f($e),s&&f(ve),s&&f(he),s&&f(be),M(ye),M(ke),M(Ne),M(Pe),M(Ue),M(Ge),M(He),on&&on.d(),M(Qe),M(Je),M(et),s&&f(nt),s&&f(st),s&&f(lt),s&&f(ot),M(it),M(rt),M(dt),s&&f(mt),s&&f(pt),s&&f($t),s&&f(vt),M(ht),M(_t),wt=!1,Ct()}}}function Z(e){let t,n,a;return{c(){t=s("i"),n=l(),a=s("span"),a.textContent="Image Selected",o(t,"class","icon ion-md-cloud-done px-1"),o(a,"class","mt-2 text-base leading-normal")},m(e,s){i(e,t,s),i(e,n,s),i(e,a,s)},d(e){e&&f(t),e&&f(n),e&&f(a)}}}function J(e){let t,n,a;return{c(){t=s("i"),n=l(),a=s("span"),a.textContent="Upload Image",o(t,"class","icon ion-md-cloud-upload px-1"),o(a,"class","mt-2 text-base leading-normal")},m(e,s){i(e,t,s),i(e,n,s),i(e,a,s)},d(e){e&&f(t),e&&f(n),e&&f(a)}}}function V(e){let t;return{c(){t=s("div"),o(t,"class","w-16 h-16 m-1 border bg-cover bg-center"),C(t,"background-image","url("+S+e[2].settings.logo+")")},m(e,n){i(e,t,n)},p(e,n){4&n[0]&&C(t,"background-image","url("+S+e[2].settings.logo+")")},d(e){e&&f(t)}}}function X(e){let t,n,l;return{c(){t=s("p"),t.textContent="No Time Slots Specified. Tap To Add Time Slots.",o(t,"class","text-gray-500 cursor-pointer")},m(s,o){i(s,t,o),n||(l=u(t,"click",e[13]),n=!0)},p:T,d(e){e&&f(t),n=!1,l()}}}function ee(e){let t,n=e[2].settings.timeslots,s=[];for(let t=0;t<n.length;t+=1)s[t]=te(Q(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=L()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);i(e,t,n)},p(e,l){if(68&l[0]){let o;for(n=e[2].settings.timeslots,o=0;o<n.length;o+=1){const i=Q(e,n,o);s[o]?s[o].p(i,l):(s[o]=te(i),s[o].c(),s[o].m(t.parentNode,t))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(e){y(s,e),e&&f(t)}}}function te(e){let t,n,l,r,c,g=ie(e[46])+"";function d(...t){return e[12](e[46],...t)}return{c(){t=s("span"),n=m(g),l=s("i"),o(l,"class","icon ion-md-close pl-2 font-semibold"),o(t,"class","inline-block p-2 rounded-lg text-xs bg-theme text-white m-1")},m(e,s){i(e,t,s),a(t,n),a(t,l),r||(c=u(t,"click",d),r=!0)},p(t,s){e=t,4&s[0]&&g!==(g=ie(e[46])+"")&&p(n,g)},d(e){e&&f(t),r=!1,c()}}}function ne(e){let t,n,a,c,g,d,m,p=e[3],$=[];for(let t=0;t<p.length;t+=1)$[t]=se(K(e,p,t));return{c(){t=s("button"),t.textContent="Clear",n=l(),a=s("button"),a.textContent="Reset",c=l(),g=s("select");for(let e=0;e<$.length;e+=1)$[e].c();o(t,"class","p-1 px-2 bg-theme rounded-lg text-sm text-white mr-2"),o(a,"class","p-1 px-2 bg-theme rounded-lg text-sm text-white mr-2"),void 0===e[0]&&r(()=>e[16].call(g))},m(s,l){i(s,t,l),i(s,n,l),i(s,a,l),i(s,c,l),i(s,g,l);for(let e=0;e<$.length;e+=1)$[e].m(g,null);I(g,e[0]),d||(m=[u(t,"click",e[14]),u(a,"click",e[15]),u(g,"change",e[16]),u(g,"change",e[17])],d=!0)},p(e,t){if(8&t[0]){let n;for(p=e[3],n=0;n<p.length;n+=1){const s=K(e,p,n);$[n]?$[n].p(s,t):($[n]=se(s),$[n].c(),$[n].m(g,null))}for(;n<$.length;n+=1)$[n].d(1);$.length=p.length}9&t[0]&&I(g,e[0])},d(e){e&&f(t),e&&f(n),e&&f(a),e&&f(c),e&&f(g),y($,e),d=!1,D(m)}}}function se(e){let t,n,l,o,u=e[43]+"";return{c(){t=s("option"),n=m(u),l=m(" minutes"),t.__value=o=e[43],t.value=t.__value},m(e,s){i(e,t,s),a(t,n),a(t,l)},p:T,d(e){e&&f(t)}}}function le(e){let t,n,s,o,a,u,r,c,g;function d(t){e[29].call(null,t)}let m={style:e[8],label:"MrSpeedy ID"};function p(t){e[30].call(null,t)}void 0!==e[2].settings.speedy_token&&(m.value=e[2].settings.speedy_token),t=new F({props:m}),j.push(()=>R(t,"value",d));let v={style:e[8],label:"BungkusIt ID"};function b(t){e[31].call(null,t)}void 0!==e[2].settings.bungkusit_id&&(v.value=e[2].settings.bungkusit_id),o=new F({props:v}),j.push(()=>R(o,"value",p));let y={style:e[8],label:"BungkusIt Key"};return void 0!==e[2].settings.bungkusit_key&&(y.value=e[2].settings.bungkusit_key),r=new F({props:y}),j.push(()=>R(r,"value",b)),{c(){_(t.$$.fragment),s=l(),_(o.$$.fragment),u=l(),_(r.$$.fragment)},m(e,n){k(t,e,n),i(e,s,n),k(o,e,n),i(e,u,n),k(r,e,n),g=!0},p(e,s){const l={};!n&&4&s[0]&&(n=!0,l.value=e[2].settings.speedy_token,w(()=>n=!1)),t.$set(l);const i={};!a&&4&s[0]&&(a=!0,i.value=e[2].settings.bungkusit_id,w(()=>a=!1)),o.$set(i);const u={};!c&&4&s[0]&&(c=!0,u.value=e[2].settings.bungkusit_key,w(()=>c=!1)),r.$set(u)},i(e){g||($(t.$$.fragment,e),$(o.$$.fragment,e),$(r.$$.fragment,e),g=!0)},o(e){h(t.$$.fragment,e),h(o.$$.fragment,e),h(r.$$.fragment,e),g=!1},d(e){M(t,e),e&&f(s),M(o,e),e&&f(u),M(r,e)}}}function oe(e){let t,n,s,o;t=new O({props:{class:"border-b border-gray-300",tools:e[4]}}),t.$on("selected",e[5]);let a=e[2].settings&&Y(e);return{c(){_(t.$$.fragment),n=l(),a&&a.c(),s=L()},m(e,l){k(t,e,l),i(e,n,l),a&&a.m(e,l),i(e,s,l),o=!0},p(e,t){e[2].settings?a?(a.p(e,t),4&t[0]&&$(a,1)):(a=Y(e),a.c(),$(a,1),a.m(s.parentNode,s)):a&&(v(),h(a,1,1,()=>{a=null}),b())},i(e){o||($(t.$$.fragment,e),$(a),o=!0)},o(e){h(t.$$.fragment,e),h(a),o=!1},d(e){M(t,e),e&&f(n),a&&a.d(e),e&&f(s)}}}function ie(e){var t=e.split(":"),n="AM",s=parseInt(t);return s>12&&(s-=12,n="PM"),`${s}:${t[1]}${n}`}function ae(e){var t=""+e[1];return e[1]<10&&(t="0"+t),`${e[0]}:${t}`}function ue(e,t,n){let s,l;N(e,A,e=>n(2,s=e)),N(e,B,e=>n(40,l=e));let o,i=[45,30,15,10,5],a=30,u=[8,0],r=[23,30];function c(e){P(A,s.settings.timeslots=s.settings.timeslots.filter(t=>t!=e),s)}function g(e){var t=u.slice();let n=[ae(t)];for(var l=1;l<60&&!(t[0]>=r[0]&&t[1]>=r[1]);l++)t[1]+=e,t[1]>=60&&(t[0]+=1,t[1]=t[1]-60),n=[...n,ae(t)];P(A,s.settings.timeslots=n,s)}console.log(s.settings),s.settings.speedy_token&&P(A,s.setting.delivery_method=0),s.settings.bungkusit_id&&P(A,s.setting.delivery_method=0);return[a,o,s,i,[{name:"Save",icon:"cloud-done",function:"save"}],function(e){switch(e.detail.function){case"save":P(B,l=!0),console.log(s.setting)}},c,g,{container:"p-2 md:w-1/2 flex-none",label:"w-32"},function(){let e=new FileReader;e.readAsDataURL(o.files[0]),e.onload=()=>{let t=e.result;P(A,s.settings.logo_raw=t,s)}},function(e){s.settings.name=e,A.set(s)},function(e){j[e?"unshift":"push"](()=>{o=e,n(1,o)})},e=>c(e),()=>g(a),()=>P(A,s.settings.timeslots=[],s),()=>g(a),function(){a=U(this),n(0,a),n(3,i)},()=>g(a),function(e){s.settings.address=e,A.set(s)},function(e){s.settings.address2=e,A.set(s)},function(e){s.settings.postcode=e,A.set(s)},function(e){s.settings.coordinates=e,A.set(s)},function(e){s.settings.offline=e,A.set(s)},function(e){s.settings.short_id=e,A.set(s)},function(e){s.settings.tax=e,A.set(s)},function(e){s.settings.delivery_fees=e,A.set(s)},function(e){s.settings.phone=e,A.set(s)},function(e){s.settings.announcement=e,A.set(s)},function(e){s.settings.checkout_notes=e,A.set(s)},function(e){s.settings.speedy_token=e,A.set(s)},function(e){s.settings.bungkusit_id=e,A.set(s)},function(e){s.settings.bungkusit_key=e,A.set(s)},function(e){s.settings.delivery_method=e,A.set(s)},function(e){s.settings.order_methods=e,A.set(s)},function(e){s.settings.list_style=e,A.set(s)},function(e){s.settings.multiplier=e,A.set(s)},function(e){s.settings.rounding=e,A.set(s)},function(e){s.settings.deduct_presets=e,A.set(s)},function(e){s.settings.google_analytic_id=e,A.set(s)},function(e){s.settings.facebook_pixel_id=e,A.set(s)}]}export default class extends e{constructor(e){var l;super(),document.getElementById("svelte-1cgd9p3-style")||((l=s("style")).id="svelte-1cgd9p3-style",l.textContent=".sect.svelte-1cgd9p3{font-size:1.25rem;font-weight:700;margin-top:0.75rem}",a(document.head,l)),t(this,e,ue,oe,n,{},[-1,-1])}}
//# sourceMappingURL=Settings-5ec62cd9.js.map
