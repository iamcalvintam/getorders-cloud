import{S as e,i as t,s as n,e as s,a as l,b as i,c as o,d as a,l as u,T as r,ab as c,ac as g,ad as d,h as m,t as p,g as f,k as v,r as $,o as h,u as b,y,j as _,ae as x,m as k,v as w,_ as C,$ as S,U as T,n as D,w as M,x as I,p as N,q as B,z as P,X as A,af as L,C as U,D as R,E as j,F as E,G as O,V as F}from"./Web-0e753209.js";import{T as G}from"./UITextField-626a62ba.js";import{T as H}from"./UIToolbar-40511b9d.js";import{S as z}from"./UISegmented-de73549e.js";import"./dayjs.min-056200c8.js";function K(e,t,n){const s=e.slice();return s[7]=t[n],s[9]=n,s}function W(e){let t,n,p,f,v,$,h,b,y,_;function x(...t){return e[6](e[9],...t)}return{c(){t=s("div"),n=s("input"),f=l(),v=s("button"),v.innerHTML='<i class="icon ion-md-close text-xl"></i>',$=l(),i(n,"type","text"),i(n,"class","flex-grow bg-gray-100 self-center"),i(n,"placeholder",e[2]),n.value=p=e[7],i(v,"class","flex-none ml-2"),i(t,"class","flex rounded-lg bg-gray-100 p-2 my-2")},m(e,s){o(e,t,s),a(t,n),a(t,f),a(t,v),a(t,$),b=!0,y||(_=u(v,"click",x),y=!0)},p(t,s){e=t,(!b||4&s)&&i(n,"placeholder",e[2]),(!b||1&s&&p!==(p=e[7])&&n.value!==p)&&(n.value=p)},i(e){b||(r(()=>{h||(h=c(t,d,{duration:300,easing:g},!0)),h.run(1)}),b=!0)},o(e){h||(h=c(t,d,{duration:300,easing:g},!1)),h.run(0),b=!1},d(e){e&&m(t),e&&h&&h.end(),y=!1,_()}}}function Y(e){let t,n,r,c,g,d,_,x,k,w,C,S=e[0],T=[];for(let t=0;t<S.length;t+=1)T[t]=W(K(e,S,t));const D=e=>h(T[e],1,1,()=>{T[e]=null});return{c(){t=s("div"),n=s("div"),r=s("label"),c=p(e[1]),g=l(),d=s("button"),d.innerHTML='<i class="icon ion-md-add text-xl"></i>',_=l();for(let e=0;e<T.length;e+=1)T[e].c();i(r,"class","flex-grow self-center text-xs uppercase text-gray-500 font-semibold"),i(d,"class","flex-none"),i(n,"class","flex"),i(t,"class",x=e[3].container)},m(s,l){o(s,t,l),a(t,n),a(n,r),a(r,c),a(n,g),a(n,d),a(t,_);for(let e=0;e<T.length;e+=1)T[e].m(t,null);k=!0,w||(C=u(d,"click",e[4]),w=!0)},p(e,[n]){if((!k||2&n)&&f(c,e[1]),37&n){let s;for(S=e[0],s=0;s<S.length;s+=1){const l=K(e,S,s);T[s]?(T[s].p(l,n),v(T[s],1)):(T[s]=W(l),T[s].c(),v(T[s],1),T[s].m(t,null))}for($(),s=S.length;s<T.length;s+=1)D(s);b()}(!k||8&n&&x!==(x=e[3].container))&&i(t,"class",x)},i(e){if(!k){for(let e=0;e<S.length;e+=1)v(T[e]);k=!0}},o(e){T=T.filter(Boolean);for(let e=0;e<T.length;e+=1)h(T[e]);k=!1},d(e){e&&m(t),y(T,e),w=!1,C()}}}function q(e,t,n){let{value:s=[]}=t,{label:l=""}=t,{placeholder:i=""}=t,{style:o={}}=t;function a(e){n(0,s=[...s.slice(0,e),...s.slice(e+1,s.length)])}return e.$$set=e=>{"value"in e&&n(0,s=e.value),"label"in e&&n(1,l=e.label),"placeholder"in e&&n(2,i=e.placeholder),"style"in e&&n(3,o=e.style)},[s,l,i,o,function(){n(0,s=[...s,""])},a,e=>a(e)]}class V extends e{constructor(e){super(),t(this,e,q,Y,n,{value:0,label:1,placeholder:2,style:3})}}function X(e,t,n){const s=e.slice();return s[48]=t[n],s}function J(e,t,n){const s=e.slice();return s[51]=t[n],s}function Q(e){let t,n,r,c,g,d,y,C,S,T,D,M,I,B,P,A,L,U,R,j,F,H,K,W,Y,q,X,J,Q,le,oe,ue,ce,ge,de,me,pe,fe,ve,$e,he,be,ye,_e,xe,ke,we,Ce,Se,Te,De,Me,Ie,Ne,Be,Pe,Ae,Le,Ue,Re,je,Ee,Oe,Fe,Ge,He,ze,Ke,We,Ye,qe,Ve,Xe,Je,Qe,Ze,et,tt,nt,st,lt,it,ot,at,ut,rt,ct,gt,dt,mt,pt,ft,vt,$t,ht,bt,yt,_t,xt,kt,wt,Ct,St,Tt,Dt=e[2].settings.short_id+"";function Mt(t){e[11].call(null,t)}let It={style:e[9],label:"Business Name"};function Nt(e,t){return e[2].settings.logo_raw?Z:ee}void 0!==e[2].settings.name&&(It.value=e[2].settings.name),r=new G({props:It}),E.push(()=>O(r,"value",Mt));let Bt=Nt(e),Pt=Bt(e),At=e[2].settings.logo&&te(e);function Lt(e,t){return e[2].settings.timeslots.length>0?se:ne}let Ut=Lt(e),Rt=Ut(e),jt=e[2].settings.timeslots.length>0&&ie(e);function Et(t){e[19].call(null,t)}let Ot={style:e[9],label:"Address"};function Ft(t){e[20].call(null,t)}void 0!==e[2].settings.address&&(Ot.value=e[2].settings.address),X=new G({props:Ot}),E.push(()=>O(X,"value",Et));let Gt={style:e[9],label:"Address 2"};function Ht(t){e[21].call(null,t)}void 0!==e[2].settings.address2&&(Gt.value=e[2].settings.address2),le=new G({props:Gt}),E.push(()=>O(le,"value",Ft));let zt={style:e[9],label:"Postcode"};function Kt(t){e[22].call(null,t)}void 0!==e[2].settings.postcode&&(zt.value=e[2].settings.postcode),ce=new G({props:zt}),E.push(()=>O(ce,"value",Ht));let Wt={style:e[9],label:"Coordinates",placeholder:"3.123123,4.123231"};function Yt(t){e[23].call(null,t)}void 0!==e[2].settings.coordinates&&(Wt.value=e[2].settings.coordinates),me=new G({props:Wt}),E.push(()=>O(me,"value",Kt));let qt={style:e[9],label:"Status",segments:[{name:"Online",value:!1},{name:"Offline",value:!0}]};function Vt(t){e[24].call(null,t)}void 0!==e[2].settings.offline&&(qt.value=e[2].settings.offline),_e=new z({props:qt}),E.push(()=>O(_e,"value",Yt));let Xt={style:e[9],label:"Identifier"};function Jt(t){e[25].call(null,t)}void 0!==e[2].settings.short_id&&(Xt.value=e[2].settings.short_id),we=new G({props:Xt}),E.push(()=>O(we,"value",Vt));let Qt={style:e[9],label:"SST Tax (%)"};function Zt(t){e[26].call(null,t)}void 0!==e[2].settings.tax&&(Qt.value=e[2].settings.tax),Pe=new G({props:Qt}),E.push(()=>O(Pe,"value",Jt));let en={style:e[9],label:"Delivery Fees"};function tn(t){e[27].call(null,t)}void 0!==e[2].settings.delivery_fees&&(en.value=e[2].settings.delivery_fees),Ue=new G({props:en}),E.push(()=>O(Ue,"value",Zt));let nn={style:e[9],label:"Delivery Cap"};function sn(t){e[28].call(null,t)}void 0!==e[2].settings.delivery_cap&&(nn.value=e[2].settings.delivery_cap),Ee=new G({props:nn}),E.push(()=>O(Ee,"value",tn));let ln={style:e[9],label:"Phone Number"};function on(t){e[29].call(null,t)}void 0!==e[2].settings.phone&&(ln.value=e[2].settings.phone),Ge=new G({props:ln}),E.push(()=>O(Ge,"value",sn));let an={style:e[9],label:"Announcement"};function un(t){e[30].call(null,t)}void 0!==e[2].settings.announcement&&(an.value=e[2].settings.announcement),Ke=new G({props:an}),E.push(()=>O(Ke,"value",on));let rn={style:e[9],label:"Checkout Notes"};void 0!==e[2].settings.checkout_notes&&(rn.value=e[2].settings.checkout_notes),qe=new G({props:rn}),E.push(()=>O(qe,"value",un));let cn="no_delivery"!=e[2].settings.order_methods&&ae(e);function gn(t){e[34].call(null,t)}let dn={style:e[9],label:"Order Methods",segments:[{name:"All",value:""},{name:"No Delivery",value:"no_delivery"},{name:"No Pickup",value:"no_pickup"}]};void 0!==e[2].settings.order_methods&&(dn.value=e[2].settings.order_methods),Qe=new z({props:dn}),E.push(()=>O(Qe,"value",gn));let mn="no_delivery"!==e[2].settings.order_methods&&re(e);function pn(t){e[37].call(null,t)}let fn={style:e[9],label:"List Layout",segments:[{name:"Grid",value:""},{name:"List",value:"list"}]};function vn(t){e[38].call(null,t)}void 0!==e[2].settings.list_style&&(fn.value=e[2].settings.list_style),nt=new z({props:fn}),E.push(()=>O(nt,"value",pn));let $n={style:e[9],label:"Multiplier"};function hn(t){e[39].call(null,t)}void 0!==e[2].settings.multiplier&&($n.value=e[2].settings.multiplier),ut=new G({props:$n}),E.push(()=>O(ut,"value",vn));let bn={style:e[9],label:"Rounding",segments:[{name:"No Rounding",value:""},{name:"Round Down",value:"round_down"},{name:"Round Up",value:"round_up"}]};function yn(t){e[40].call(null,t)}void 0!==e[2].settings.rounding&&(bn.value=e[2].settings.rounding),gt=new z({props:bn}),E.push(()=>O(gt,"value",hn));let _n={style:e[9],label:"Deduction Presets",placeholder:"e.g : 100"};function xn(t){e[41].call(null,t)}void 0!==e[2].settings.deduct_presets&&(_n.value=e[2].settings.deduct_presets),pt=new V({props:_n}),E.push(()=>O(pt,"value",yn));let kn={style:e[9],label:"Google Analytic ID"};function wn(t){e[42].call(null,t)}void 0!==e[2].settings.google_analytic_id&&(kn.value=e[2].settings.google_analytic_id),yt=new G({props:kn}),E.push(()=>O(yt,"value",xn));let Cn={style:e[9],label:"Facebook Pixel ID"};return void 0!==e[2].settings.facebook_pixel_id&&(Cn.value=e[2].settings.facebook_pixel_id),kt=new G({props:Cn}),E.push(()=>O(kt,"value",wn)),{c(){t=s("p"),t.textContent="Your Details",n=l(),_(r.$$.fragment),g=l(),d=s("div"),y=s("label"),y.textContent="Business Logo",C=l(),S=s("label"),Pt.c(),T=l(),D=s("input"),I=l(),At&&At.c(),P=l(),A=s("div"),L=s("label"),U=p("Time\n    Slots"),j=l(),F=s("div"),Rt.c(),H=l(),jt&&jt.c(),W=l(),Y=s("p"),Y.textContent="Pickup Location",q=l(),_(X.$$.fragment),Q=l(),_(le.$$.fragment),ue=l(),_(ce.$$.fragment),de=l(),_(me.$$.fragment),fe=l(),ve=s("p"),ve.textContent="Ensure that the details above is correct, as price estimation and riders\n  depend on the accuracy of this information.",$e=l(),he=s("p"),he.textContent="Orders",be=l(),ye=s("div"),_(_e.$$.fragment),ke=l(),_(we.$$.fragment),Se=l(),Te=s("p"),De=s("a"),Me=p("https://getorders.app/#"),Ie=p(Dt),Be=l(),_(Pe.$$.fragment),Le=l(),_(Ue.$$.fragment),je=l(),_(Ee.$$.fragment),Fe=l(),_(Ge.$$.fragment),ze=l(),_(Ke.$$.fragment),Ye=l(),_(qe.$$.fragment),Xe=l(),cn&&cn.c(),Je=l(),_(Qe.$$.fragment),et=l(),mn&&mn.c(),tt=l(),_(nt.$$.fragment),lt=l(),it=s("p"),it.textContent="Loyalty",ot=l(),at=s("div"),_(ut.$$.fragment),ct=l(),_(gt.$$.fragment),mt=l(),_(pt.$$.fragment),vt=l(),$t=s("p"),$t.textContent="Website",ht=l(),bt=s("div"),_(yt.$$.fragment),xt=l(),_(kt.$$.fragment),i(t,"class","sect text-theme svelte-1cgd9p3"),i(y,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),i(D,"type","file"),i(D,"class","hidden"),i(S,"class",M="p-2 block rounded cursor-pointer border shadow-sm "+(e[2].settings.logo_raw?"bg-theme text-white":"")),i(d,"class",B=x(e[9].container)+" svelte-1cgd9p3"),i(L,"class",R="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 "+e[9].label+" svelte-1cgd9p3"),i(F,"class","border rounded shadow-sm p-2 w-full flex flex-wrap mb-2"),i(A,"class",K=x(e[9].container)+" svelte-1cgd9p3"),i(Y,"class","sect text-theme svelte-1cgd9p3"),i(ve,"class","text-xs px-3 mb-3 font-semibold"),i(he,"class","sect text-theme svelte-1cgd9p3"),i(De,"href",Ne="https://getorders.app/#"+e[2].settings.short_id),i(De,"target","_blank"),i(Te,"class","text-xs px-3 mb-3 font-semibold"),i(it,"class","sect text-theme svelte-1cgd9p3"),i($t,"class","sect text-theme svelte-1cgd9p3")},m(s,l){o(s,t,l),o(s,n,l),k(r,s,l),o(s,g,l),o(s,d,l),a(d,y),a(d,C),a(d,S),Pt.m(S,null),a(S,T),a(S,D),e[12](D),a(d,I),At&&At.m(d,null),o(s,P,l),o(s,A,l),a(A,L),a(L,U),a(A,j),a(A,F),Rt.m(F,null),a(A,H),jt&&jt.m(A,null),o(s,W,l),o(s,Y,l),o(s,q,l),k(X,s,l),o(s,Q,l),k(le,s,l),o(s,ue,l),k(ce,s,l),o(s,de,l),k(me,s,l),o(s,fe,l),o(s,ve,l),o(s,$e,l),o(s,he,l),o(s,be,l),o(s,ye,l),k(_e,ye,null),a(ye,ke),k(we,ye,null),a(ye,Se),a(ye,Te),a(Te,De),a(De,Me),a(De,Ie),a(ye,Be),k(Pe,ye,null),a(ye,Le),k(Ue,ye,null),a(ye,je),k(Ee,ye,null),a(ye,Fe),k(Ge,ye,null),a(ye,ze),k(Ke,ye,null),a(ye,Ye),k(qe,ye,null),a(ye,Xe),cn&&cn.m(ye,null),a(ye,Je),k(Qe,ye,null),a(ye,et),mn&&mn.m(ye,null),a(ye,tt),k(nt,ye,null),o(s,lt,l),o(s,it,l),o(s,ot,l),o(s,at,l),k(ut,at,null),a(at,ct),k(gt,at,null),a(at,mt),k(pt,at,null),o(s,vt,l),o(s,$t,l),o(s,ht,l),o(s,bt,l),k(yt,bt,null),a(bt,xt),k(kt,bt,null),Ct=!0,St||(Tt=u(D,"change",e[10]),St=!0)},p(e,t){const n={};!c&&4&t[0]&&(c=!0,n.value=e[2].settings.name,w(()=>c=!1)),r.$set(n),Bt!==(Bt=Nt(e))&&(Pt.d(1),Pt=Bt(e),Pt&&(Pt.c(),Pt.m(S,T))),(!Ct||4&t[0]&&M!==(M="p-2 block rounded cursor-pointer border shadow-sm "+(e[2].settings.logo_raw?"bg-theme text-white":"")))&&i(S,"class",M),e[2].settings.logo?At?At.p(e,t):(At=te(e),At.c(),At.m(d,null)):At&&(At.d(1),At=null),Ut===(Ut=Lt(e))&&Rt?Rt.p(e,t):(Rt.d(1),Rt=Ut(e),Rt&&(Rt.c(),Rt.m(F,null))),e[2].settings.timeslots.length>0?jt?jt.p(e,t):(jt=ie(e),jt.c(),jt.m(A,null)):jt&&(jt.d(1),jt=null);const s={};!J&&4&t[0]&&(J=!0,s.value=e[2].settings.address,w(()=>J=!1)),X.$set(s);const l={};!oe&&4&t[0]&&(oe=!0,l.value=e[2].settings.address2,w(()=>oe=!1)),le.$set(l);const o={};!ge&&4&t[0]&&(ge=!0,o.value=e[2].settings.postcode,w(()=>ge=!1)),ce.$set(o);const a={};!pe&&4&t[0]&&(pe=!0,a.value=e[2].settings.coordinates,w(()=>pe=!1)),me.$set(a);const u={};!xe&&4&t[0]&&(xe=!0,u.value=e[2].settings.offline,w(()=>xe=!1)),_e.$set(u);const g={};!Ce&&4&t[0]&&(Ce=!0,g.value=e[2].settings.short_id,w(()=>Ce=!1)),we.$set(g),(!Ct||4&t[0])&&Dt!==(Dt=e[2].settings.short_id+"")&&f(Ie,Dt),(!Ct||4&t[0]&&Ne!==(Ne="https://getorders.app/#"+e[2].settings.short_id))&&i(De,"href",Ne);const m={};!Ae&&4&t[0]&&(Ae=!0,m.value=e[2].settings.tax,w(()=>Ae=!1)),Pe.$set(m);const p={};!Re&&4&t[0]&&(Re=!0,p.value=e[2].settings.delivery_fees,w(()=>Re=!1)),Ue.$set(p);const y={};!Oe&&4&t[0]&&(Oe=!0,y.value=e[2].settings.delivery_cap,w(()=>Oe=!1)),Ee.$set(y);const _={};!He&&4&t[0]&&(He=!0,_.value=e[2].settings.phone,w(()=>He=!1)),Ge.$set(_);const x={};!We&&4&t[0]&&(We=!0,x.value=e[2].settings.announcement,w(()=>We=!1)),Ke.$set(x);const k={};!Ve&&4&t[0]&&(Ve=!0,k.value=e[2].settings.checkout_notes,w(()=>Ve=!1)),qe.$set(k),"no_delivery"!=e[2].settings.order_methods?cn?(cn.p(e,t),4&t[0]&&v(cn,1)):(cn=ae(e),cn.c(),v(cn,1),cn.m(ye,Je)):cn&&($(),h(cn,1,1,()=>{cn=null}),b());const C={};!Ze&&4&t[0]&&(Ze=!0,C.value=e[2].settings.order_methods,w(()=>Ze=!1)),Qe.$set(C),"no_delivery"!==e[2].settings.order_methods?mn?(mn.p(e,t),4&t[0]&&v(mn,1)):(mn=re(e),mn.c(),v(mn,1),mn.m(ye,tt)):mn&&($(),h(mn,1,1,()=>{mn=null}),b());const D={};!st&&4&t[0]&&(st=!0,D.value=e[2].settings.list_style,w(()=>st=!1)),nt.$set(D);const I={};!rt&&4&t[0]&&(rt=!0,I.value=e[2].settings.multiplier,w(()=>rt=!1)),ut.$set(I);const N={};!dt&&4&t[0]&&(dt=!0,N.value=e[2].settings.rounding,w(()=>dt=!1)),gt.$set(N);const B={};!ft&&4&t[0]&&(ft=!0,B.value=e[2].settings.deduct_presets,w(()=>ft=!1)),pt.$set(B);const P={};!_t&&4&t[0]&&(_t=!0,P.value=e[2].settings.google_analytic_id,w(()=>_t=!1)),yt.$set(P);const L={};!wt&&4&t[0]&&(wt=!0,L.value=e[2].settings.facebook_pixel_id,w(()=>wt=!1)),kt.$set(L)},i(e){Ct||(v(r.$$.fragment,e),v(X.$$.fragment,e),v(le.$$.fragment,e),v(ce.$$.fragment,e),v(me.$$.fragment,e),v(_e.$$.fragment,e),v(we.$$.fragment,e),v(Pe.$$.fragment,e),v(Ue.$$.fragment,e),v(Ee.$$.fragment,e),v(Ge.$$.fragment,e),v(Ke.$$.fragment,e),v(qe.$$.fragment,e),v(cn),v(Qe.$$.fragment,e),v(mn),v(nt.$$.fragment,e),v(ut.$$.fragment,e),v(gt.$$.fragment,e),v(pt.$$.fragment,e),v(yt.$$.fragment,e),v(kt.$$.fragment,e),Ct=!0)},o(e){h(r.$$.fragment,e),h(X.$$.fragment,e),h(le.$$.fragment,e),h(ce.$$.fragment,e),h(me.$$.fragment,e),h(_e.$$.fragment,e),h(we.$$.fragment,e),h(Pe.$$.fragment,e),h(Ue.$$.fragment,e),h(Ee.$$.fragment,e),h(Ge.$$.fragment,e),h(Ke.$$.fragment,e),h(qe.$$.fragment,e),h(cn),h(Qe.$$.fragment,e),h(mn),h(nt.$$.fragment,e),h(ut.$$.fragment,e),h(gt.$$.fragment,e),h(pt.$$.fragment,e),h(yt.$$.fragment,e),h(kt.$$.fragment,e),Ct=!1},d(s){s&&m(t),s&&m(n),N(r,s),s&&m(g),s&&m(d),Pt.d(),e[12](null),At&&At.d(),s&&m(P),s&&m(A),Rt.d(),jt&&jt.d(),s&&m(W),s&&m(Y),s&&m(q),N(X,s),s&&m(Q),N(le,s),s&&m(ue),N(ce,s),s&&m(de),N(me,s),s&&m(fe),s&&m(ve),s&&m($e),s&&m(he),s&&m(be),s&&m(ye),N(_e),N(we),N(Pe),N(Ue),N(Ee),N(Ge),N(Ke),N(qe),cn&&cn.d(),N(Qe),mn&&mn.d(),N(nt),s&&m(lt),s&&m(it),s&&m(ot),s&&m(at),N(ut),N(gt),N(pt),s&&m(vt),s&&m($t),s&&m(ht),s&&m(bt),N(yt),N(kt),St=!1,Tt()}}}function Z(e){let t,n,a;return{c(){t=s("i"),n=l(),a=s("span"),a.textContent="Image Selected",i(t,"class","icon ion-md-cloud-done px-1"),i(a,"class","mt-2 text-base leading-normal")},m(e,s){o(e,t,s),o(e,n,s),o(e,a,s)},d(e){e&&m(t),e&&m(n),e&&m(a)}}}function ee(e){let t,n,a;return{c(){t=s("i"),n=l(),a=s("span"),a.textContent="Upload Image",i(t,"class","icon ion-md-cloud-upload px-1"),i(a,"class","mt-2 text-base leading-normal")},m(e,s){o(e,t,s),o(e,n,s),o(e,a,s)},d(e){e&&m(t),e&&m(n),e&&m(a)}}}function te(e){let t;return{c(){t=s("div"),i(t,"class","w-16 h-16 m-1 border bg-cover bg-center"),C(t,"background-image","url("+S+e[2].settings.logo+")")},m(e,n){o(e,t,n)},p(e,n){4&n[0]&&C(t,"background-image","url("+S+e[2].settings.logo+")")},d(e){e&&m(t)}}}function ne(e){let t,n,l;return{c(){t=s("p"),t.textContent="No Time Slots Specified. Tap To\n      Add Time Slots.",i(t,"class","text-gray-500 cursor-pointer")},m(s,i){o(s,t,i),n||(l=u(t,"click",e[14]),n=!0)},p:D,d(e){e&&m(t),n=!1,l()}}}function se(e){let t,n=e[2].settings.timeslots,s=[];for(let t=0;t<n.length;t+=1)s[t]=le(J(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=I()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);o(e,t,n)},p(e,l){if(132&l[0]){let i;for(n=e[2].settings.timeslots,i=0;i<n.length;i+=1){const o=J(e,n,i);s[i]?s[i].p(o,l):(s[i]=le(o),s[i].c(),s[i].m(t.parentNode,t))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){y(s,e),e&&m(t)}}}function le(e){let t,n,l,r,c,g=me(e[51])+"";function d(...t){return e[13](e[51],...t)}return{c(){t=s("span"),n=p(g),l=s("i"),i(l,"class","icon ion-md-close pl-2 font-semibold"),i(t,"class","inline-block p-2 rounded-lg text-xs bg-theme text-white m-1")},m(e,s){o(e,t,s),a(t,n),a(t,l),r||(c=u(t,"click",d),r=!0)},p(t,s){e=t,4&s[0]&&g!==(g=me(e[51])+"")&&f(n,g)},d(e){e&&m(t),r=!1,c()}}}function ie(e){let t,n,a,c,g,d,p,f=e[4],v=[];for(let t=0;t<f.length;t+=1)v[t]=oe(X(e,f,t));return{c(){t=s("button"),t.textContent="Clear",n=l(),a=s("button"),a.textContent="Reset",c=l(),g=s("select");for(let e=0;e<v.length;e+=1)v[e].c();i(t,"class","p-1 px-2 bg-theme rounded-lg text-sm text-white mr-2"),i(a,"class","p-1 px-2 bg-theme rounded-lg text-sm text-white mr-2"),void 0===e[0]&&r(()=>e[17].call(g))},m(s,l){o(s,t,l),o(s,n,l),o(s,a,l),o(s,c,l),o(s,g,l);for(let e=0;e<v.length;e+=1)v[e].m(g,null);T(g,e[0]),d||(p=[u(t,"click",e[15]),u(a,"click",e[16]),u(g,"change",e[17]),u(g,"change",e[18])],d=!0)},p(e,t){if(16&t[0]){let n;for(f=e[4],n=0;n<f.length;n+=1){const s=X(e,f,n);v[n]?v[n].p(s,t):(v[n]=oe(s),v[n].c(),v[n].m(g,null))}for(;n<v.length;n+=1)v[n].d(1);v.length=f.length}17&t[0]&&T(g,e[0])},d(e){e&&m(t),e&&m(n),e&&m(a),e&&m(c),e&&m(g),y(v,e),d=!1,M(p)}}}function oe(e){let t,n,l,i,u=e[48]+"";return{c(){t=s("option"),n=p(u),l=p(" minutes"),t.__value=i=e[48],t.value=t.__value},m(e,s){o(e,t,s),a(t,n),a(t,l)},p:D,d(e){e&&m(t)}}}function ae(e){let t,n,a,u,r,c,g,d,p,f,$,b,y;function x(t){e[31].call(null,t)}let C={style:e[9],label:"MrSpeedy ID"};function S(t){e[32].call(null,t)}void 0!==e[2].settings.speedy_token&&(C.value=e[2].settings.speedy_token),t=new G({props:C}),E.push(()=>O(t,"value",x));let T={style:e[9],label:"Bungkusit APP ID"};function D(t){e[33].call(null,t)}void 0!==e[2].settings.bungkusit_id&&(T.value=e[2].settings.bungkusit_id),c=new G({props:T}),E.push(()=>O(c,"value",S));let M={style:e[9],label:"Bungkusit TOKEN KEY"};void 0!==e[2].settings.bungkusit_key&&(M.value=e[2].settings.bungkusit_key),p=new G({props:M}),E.push(()=>O(p,"value",D));let B=e[2].bungkusit_balance&&ue(e);return{c(){_(t.$$.fragment),a=l(),u=s("p"),u.textContent="Ensure the MrSpeedy account has enough credits for delivery.",r=l(),_(c.$$.fragment),d=l(),_(p.$$.fragment),$=l(),B&&B.c(),b=I(),i(u,"class","text-xs px-3 pr-1 mb-1 font-semibold")},m(e,n){k(t,e,n),o(e,a,n),o(e,u,n),o(e,r,n),k(c,e,n),o(e,d,n),k(p,e,n),o(e,$,n),B&&B.m(e,n),o(e,b,n),y=!0},p(e,s){const l={};!n&&4&s[0]&&(n=!0,l.value=e[2].settings.speedy_token,w(()=>n=!1)),t.$set(l);const i={};!g&&4&s[0]&&(g=!0,i.value=e[2].settings.bungkusit_id,w(()=>g=!1)),c.$set(i);const o={};!f&&4&s[0]&&(f=!0,o.value=e[2].settings.bungkusit_key,w(()=>f=!1)),p.$set(o),e[2].bungkusit_balance?B?B.p(e,s):(B=ue(e),B.c(),B.m(b.parentNode,b)):B&&(B.d(1),B=null)},i(e){y||(v(t.$$.fragment,e),v(c.$$.fragment,e),v(p.$$.fragment,e),y=!0)},o(e){h(t.$$.fragment,e),h(c.$$.fragment,e),h(p.$$.fragment,e),y=!1},d(e){N(t,e),e&&m(a),e&&m(u),e&&m(r),N(c,e),e&&m(d),N(p,e),e&&m($),B&&B.d(e),e&&m(b)}}}function ue(e){let t,n,u,r,c,g,d=e[2].bungkusit_balance+"";return{c(){t=s("div"),t.innerHTML='<p class="text-xs px-3 pr-1 mb-1 font-semibold">Please enable cashless payment in the payment setting on Bungkusit Merchant Page.</p> \n    <a href="https://merchant.bungkusit.com.my/" target="_blank" class="text-xs mb-1 font-semibold text-theme">Click here</a>',n=l(),u=s("a"),r=p("Bungkusit Account Balance : RM "),c=p(d),g=p("."),i(t,"class","flex"),i(u,"href","https://merchant.bungkusit.com.my/"),i(u,"class","text-xs px-3 mb-3 font-semibold text-theme")},m(e,s){o(e,t,s),o(e,n,s),o(e,u,s),a(u,r),a(u,c),a(u,g)},p(e,t){4&t[0]&&d!==(d=e[2].bungkusit_balance+"")&&f(c,d)},d(e){e&&m(t),e&&m(n),e&&m(u)}}}function re(e){let t,n,s,i,a,u;function r(t){e[35].call(null,t)}function c(t){e[36].call(null,t)}let g={style:e[9],label:"Delivery Methods"};void 0!==e[3]&&(g.segments=e[3]),void 0!==e[2].settings.delivery_method&&(g.value=e[2].settings.delivery_method),t=new z({props:g}),E.push(()=>O(t,"segments",r)),E.push(()=>O(t,"value",c));let d=e[2].settings.speedy_token&&e[2].settings.bungkusit_key&&e[2].settings.bungkusit_id&&ce();return{c(){_(t.$$.fragment),i=l(),d&&d.c(),a=I()},m(e,n){k(t,e,n),o(e,i,n),d&&d.m(e,n),o(e,a,n),u=!0},p(e,l){const i={};!n&&8&l[0]&&(n=!0,i.segments=e[3],w(()=>n=!1)),!s&&4&l[0]&&(s=!0,i.value=e[2].settings.delivery_method,w(()=>s=!1)),t.$set(i),e[2].settings.speedy_token&&e[2].settings.bungkusit_key&&e[2].settings.bungkusit_id?d||(d=ce(),d.c(),d.m(a.parentNode,a)):d&&(d.d(1),d=null)},i(e){u||(v(t.$$.fragment,e),u=!0)},o(e){h(t.$$.fragment,e),u=!1},d(e){N(t,e),e&&m(i),d&&d.d(e),e&&m(a)}}}function ce(e){let t;return{c(){t=s("p"),t.textContent="User-Choice : Enables customer to choose which delivery method to use",i(t,"class","text-xs px-3 mb-3 font-semibold mt-3")},m(e,n){o(e,t,n)},d(e){e&&m(t)}}}function ge(e){let t,n,s,i;t=new H({props:{class:"border-b border-gray-300",tools:e[5]}}),t.$on("selected",e[6]);let a=e[2].settings&&Q(e);return{c(){_(t.$$.fragment),n=l(),a&&a.c(),s=I()},m(e,l){k(t,e,l),o(e,n,l),a&&a.m(e,l),o(e,s,l),i=!0},p(e,t){e[2].settings?a?(a.p(e,t),4&t[0]&&v(a,1)):(a=Q(e),a.c(),v(a,1),a.m(s.parentNode,s)):a&&($(),h(a,1,1,()=>{a=null}),b())},i(e){i||(v(t.$$.fragment,e),v(a),i=!0)},o(e){h(t.$$.fragment,e),h(a),i=!1},d(e){N(t,e),e&&m(n),a&&a.d(e),e&&m(s)}}}function de(e){return!(!e||""===e)}function me(e){var t=e.split(":"),n="AM",s=parseInt(t);return s>12&&(s-=12,n="PM"),`${s}:${t[1]}${n}`}function pe(e){var t=""+e[1];return e[1]<10&&(t="0"+t),`${e[0]}:${t}`}function fe(e,t,n){let s,l,i;B(e,P,e=>n(2,s=e)),B(e,A,e=>n(43,l=e)),B(e,L,e=>n(3,i=e));let o,a=[45,30,15,10,5],u=30,r=[8,0],c=[23,30];function g(e){console.log(e);let t=de(e.speedy_token),n=de(e.bungkusit_id),o=de(e.bungkusit_key);U(L,i=[{name:"Own Delivery",value:"own_delivery"}]),t&&n&&o?i.push({name:"MrSpeedy",value:"speedy"},{name:"Bungkusit",value:"bungkusit"},{name:"User-Choice",value:"uc"}):t?i.push({name:"MrSpeedy",value:"speedy"}):n&&o?i.push({name:"Bungkusit",value:"bungkusit"}):U(P,s.settings.delivery_method="own_delivery",s),n&&o&&(U(A,l=!0),R(j("/deliver/bungkusit/balance")).then(e=>{U(P,s.bungkusit_balance=e.data.credit_points_balance,s),U(A,l=!1)}).catch(e=>{console.log(e),U(A,l=!1)}))}function d(e){U(P,s.settings.timeslots=s.settings.timeslots.filter(t=>t!=e),s)}function m(e){var t=r.slice();let n=[pe(t)];for(var l=1;l<60&&!(t[0]>=c[0]&&t[1]>=c[1]);l++)t[1]+=e,t[1]>=60&&(t[0]+=1,t[1]=t[1]-60),n=[...n,pe(t)];U(P,s.settings.timeslots=n,s)}g(s.settings);return[u,o,s,i,a,[{name:"Save",icon:"cloud-done",function:"save"}],function(e){switch(e.detail.function){case"save":U(A,l=!0),P&&R(j("/settings"),s.settings).then(e=>{console.log(s.settings),g(s.settings),U(P,s=e),U(A,l=!1)}).catch(e=>{})}},d,m,{container:"p-2 md:w-1/2 flex-none",label:"w-32"},function(){let e=new FileReader;e.readAsDataURL(o.files[0]),e.onload=()=>{let t=e.result;U(P,s.settings.logo_raw=t,s)}},function(e){s.settings.name=e,P.set(s)},function(e){E[e?"unshift":"push"](()=>{o=e,n(1,o)})},e=>d(e),()=>m(u),()=>U(P,s.settings.timeslots=[],s),()=>m(u),function(){u=F(this),n(0,u),n(4,a)},()=>m(u),function(e){s.settings.address=e,P.set(s)},function(e){s.settings.address2=e,P.set(s)},function(e){s.settings.postcode=e,P.set(s)},function(e){s.settings.coordinates=e,P.set(s)},function(e){s.settings.offline=e,P.set(s)},function(e){s.settings.short_id=e,P.set(s)},function(e){s.settings.tax=e,P.set(s)},function(e){s.settings.delivery_fees=e,P.set(s)},function(e){s.settings.delivery_cap=e,P.set(s)},function(e){s.settings.phone=e,P.set(s)},function(e){s.settings.announcement=e,P.set(s)},function(e){s.settings.checkout_notes=e,P.set(s)},function(e){s.settings.speedy_token=e,P.set(s)},function(e){s.settings.bungkusit_id=e,P.set(s)},function(e){s.settings.bungkusit_key=e,P.set(s)},function(e){s.settings.order_methods=e,P.set(s)},function(e){i=e,L.set(i)},function(e){s.settings.delivery_method=e,P.set(s)},function(e){s.settings.list_style=e,P.set(s)},function(e){s.settings.multiplier=e,P.set(s)},function(e){s.settings.rounding=e,P.set(s)},function(e){s.settings.deduct_presets=e,P.set(s)},function(e){s.settings.google_analytic_id=e,P.set(s)},function(e){s.settings.facebook_pixel_id=e,P.set(s)}]}export default class extends e{constructor(e){var l;super(),document.getElementById("svelte-1cgd9p3-style")||((l=s("style")).id="svelte-1cgd9p3-style",l.textContent=".sect.svelte-1cgd9p3{font-size:1.25rem;font-weight:700;margin-top:0.75rem}",a(document.head,l)),t(this,e,fe,ge,n,{},[-1,-1])}}
//# sourceMappingURL=Settings-e4be800f.js.map
