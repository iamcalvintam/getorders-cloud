import{S as e,i as t,s as n,e as s,a as l,b as o,c as a,d as i,l as r,P as c,aa as u,ab as g,ac as d,h as f,t as m,g as p,k as $,r as v,o as h,u as b,y as x,j as y,ad as _,m as w,v as k,Z as C,_ as T,Q as S,n as I,w as D,p as L,x as N,q as A,U as P,z as j,F as M,G as R,C as U,D as F,E as B,T as O}from"./Web-531cadf8.js";import{T as E}from"./UITextField-21781ba2.js";import{T as G}from"./UIToolbar-e99beaea.js";import{S as z}from"./UISegmented-55cf01e5.js";import"./dayjs.min-056200c8.js";function H(e,t,n){const s=e.slice();return s[7]=t[n],s[9]=n,s}function W(e){let t,n,m,p,$,v,h,b,x,y;function _(...t){return e[6](e[9],...t)}return{c(){t=s("div"),n=s("input"),p=l(),$=s("button"),$.innerHTML='<i class="icon ion-md-close text-xl"></i>',v=l(),o(n,"type","text"),o(n,"class","flex-grow bg-gray-100 self-center"),o(n,"placeholder",e[2]),n.value=m=e[7],o($,"class","flex-none ml-2"),o(t,"class","flex rounded-lg bg-gray-100 p-2 my-2")},m(e,s){a(e,t,s),i(t,n),i(t,p),i(t,$),i(t,v),b=!0,x||(y=r($,"click",_),x=!0)},p(t,s){e=t,(!b||4&s)&&o(n,"placeholder",e[2]),(!b||1&s&&m!==(m=e[7])&&n.value!==m)&&(n.value=m)},i(e){b||(c(()=>{h||(h=u(t,d,{duration:300,easing:g},!0)),h.run(1)}),b=!0)},o(e){h||(h=u(t,d,{duration:300,easing:g},!1)),h.run(0),b=!1},d(e){e&&f(t),e&&h&&h.end(),x=!1,y()}}}function q(e){let t,n,c,u,g,d,y,_,w,k,C,T=e[0],S=[];for(let t=0;t<T.length;t+=1)S[t]=W(H(e,T,t));const I=e=>h(S[e],1,1,()=>{S[e]=null});return{c(){t=s("div"),n=s("div"),c=s("label"),u=m(e[1]),g=l(),d=s("button"),d.innerHTML='<i class="icon ion-md-add text-xl"></i>',y=l();for(let e=0;e<S.length;e+=1)S[e].c();o(c,"class","flex-grow self-center text-xs uppercase text-gray-500 font-semibold"),o(d,"class","flex-none"),o(n,"class","flex"),o(t,"class",_=e[3].container)},m(s,l){a(s,t,l),i(t,n),i(n,c),i(c,u),i(n,g),i(n,d),i(t,y);for(let e=0;e<S.length;e+=1)S[e].m(t,null);w=!0,k||(C=r(d,"click",e[4]),k=!0)},p(e,[n]){if((!w||2&n)&&p(u,e[1]),37&n){let s;for(T=e[0],s=0;s<T.length;s+=1){const l=H(e,T,s);S[s]?(S[s].p(l,n),$(S[s],1)):(S[s]=W(l),S[s].c(),$(S[s],1),S[s].m(t,null))}for(v(),s=T.length;s<S.length;s+=1)I(s);b()}(!w||8&n&&_!==(_=e[3].container))&&o(t,"class",_)},i(e){if(!w){for(let e=0;e<T.length;e+=1)$(S[e]);w=!0}},o(e){S=S.filter(Boolean);for(let e=0;e<S.length;e+=1)h(S[e]);w=!1},d(e){e&&f(t),x(S,e),k=!1,C()}}}function Q(e,t,n){let{value:s=[]}=t,{label:l=""}=t,{placeholder:o=""}=t,{style:a={}}=t;function i(e){n(0,s=[...s.slice(0,e),...s.slice(e+1,s.length)])}return e.$$set=e=>{"value"in e&&n(0,s=e.value),"label"in e&&n(1,l=e.label),"placeholder"in e&&n(2,o=e.placeholder),"style"in e&&n(3,a=e.style)},[s,l,o,a,function(){n(0,s=[...s,""])},i,e=>i(e)]}class Y extends e{constructor(e){super(),t(this,e,Q,q,n,{value:0,label:1,placeholder:2,style:3})}}function Z(e,t,n){const s=e.slice();return s[40]=t[n],s}function J(e,t,n){const s=e.slice();return s[43]=t[n],s}function K(e){let t,n,c,u,g,d,x,C,T,S,I,D,N,A,P,j,U,F,B,O,G,H,W,q,Q,Z,J,K,se,oe,ie,re,ce,ue,ge,de,fe,me,pe,$e,ve,he,be,xe,ye,_e,we,ke,Ce,Te,Se,Ie,De,Le,Ne,Ae,Pe,je,Me,Re,Ue,Fe,Be,Oe,Ee,Ge,ze,He,We,qe,Qe,Ye,Ze,Je,Ke,Ve,Xe,et,tt,nt,st,lt,ot,at,it,rt,ct,ut,gt,dt,ft,mt,pt,$t,vt,ht,bt,xt,yt,_t,wt=e[2].settings.short_id+"";function kt(t){e[10].call(null,t)}let Ct={style:e[8],label:"Business Name"};function Tt(e,t){return e[2].settings.logo_raw?V:X}void 0!==e[2].settings.name&&(Ct.value=e[2].settings.name),c=new E({props:Ct}),M.push(()=>R(c,"value",kt));let St=Tt(e),It=St(e),Dt=e[2].settings.logo&&ee(e);function Lt(e,t){return e[2].settings.timeslots.length>0?ne:te}let Nt=Lt(e),At=Nt(e),Pt=e[2].settings.timeslots.length>0&&le(e);function jt(t){e[18].call(null,t)}let Mt={style:e[8],label:"Address"};function Rt(t){e[19].call(null,t)}void 0!==e[2].settings.address&&(Mt.value=e[2].settings.address),J=new E({props:Mt}),M.push(()=>R(J,"value",jt));let Ut={style:e[8],label:"Address 2"};function Ft(t){e[20].call(null,t)}void 0!==e[2].settings.address2&&(Ut.value=e[2].settings.address2),oe=new E({props:Ut}),M.push(()=>R(oe,"value",Rt));let Bt={style:e[8],label:"Postcode"};function Ot(t){e[21].call(null,t)}void 0!==e[2].settings.postcode&&(Bt.value=e[2].settings.postcode),ce=new E({props:Bt}),M.push(()=>R(ce,"value",Ft));let Et={style:e[8],label:"Coordinates",placeholder:"3.123123,4.123231"};function Gt(t){e[22].call(null,t)}void 0!==e[2].settings.coordinates&&(Et.value=e[2].settings.coordinates),de=new E({props:Et}),M.push(()=>R(de,"value",Ot));let zt={style:e[8],label:"Status",segments:[{name:"Online",value:!1},{name:"Offline",value:!0}]};function Ht(t){e[23].call(null,t)}void 0!==e[2].settings.offline&&(zt.value=e[2].settings.offline),xe=new z({props:zt}),M.push(()=>R(xe,"value",Gt));let Wt={style:e[8],label:"Identifier"};function qt(t){e[24].call(null,t)}void 0!==e[2].settings.short_id&&(Wt.value=e[2].settings.short_id),we=new E({props:Wt}),M.push(()=>R(we,"value",Ht));let Qt={style:e[8],label:"SST Tax (%)"};function Yt(t){e[25].call(null,t)}void 0!==e[2].settings.tax&&(Qt.value=e[2].settings.tax),Ae=new E({props:Qt}),M.push(()=>R(Ae,"value",qt));let Zt={style:e[8],label:"Delivery Fees"};function Jt(t){e[26].call(null,t)}void 0!==e[2].settings.delivery_fees&&(Zt.value=e[2].settings.delivery_fees),Me=new E({props:Zt}),M.push(()=>R(Me,"value",Yt));let Kt={style:e[8],label:"Phone Number"};function Vt(t){e[27].call(null,t)}void 0!==e[2].settings.phone&&(Kt.value=e[2].settings.phone),Fe=new E({props:Kt}),M.push(()=>R(Fe,"value",Jt));let Xt={style:e[8],label:"Announcement"};function en(t){e[28].call(null,t)}void 0!==e[2].settings.announcement&&(Xt.value=e[2].settings.announcement),Ee=new E({props:Xt}),M.push(()=>R(Ee,"value",Vt));let tn={style:e[8],label:"Checkout Notes"};void 0!==e[2].settings.checkout_notes&&(tn.value=e[2].settings.checkout_notes),He=new E({props:tn}),M.push(()=>R(He,"value",en));let nn="no_delivery"!=e[2].settings.order_methods&&ae(e);function sn(t){e[30].call(null,t)}let ln={style:e[8],label:"Order Methods",segments:[{name:"All",value:""},{name:"No Delivery",value:"no_delivery"},{name:"No Pickup",value:"no_pickup"}]};function on(t){e[31].call(null,t)}void 0!==e[2].settings.order_methods&&(ln.value=e[2].settings.order_methods),Ye=new z({props:ln}),M.push(()=>R(Ye,"value",sn));let an={style:e[8],label:"List Layout",segments:[{name:"Grid",value:""},{name:"List",value:"list"}]};function rn(t){e[32].call(null,t)}void 0!==e[2].settings.list_style&&(an.value=e[2].settings.list_style),Ke=new z({props:an}),M.push(()=>R(Ke,"value",on));let cn={style:e[8],label:"Multiplier"};function un(t){e[33].call(null,t)}void 0!==e[2].settings.multiplier&&(cn.value=e[2].settings.multiplier),st=new E({props:cn}),M.push(()=>R(st,"value",rn));let gn={style:e[8],label:"Rounding",segments:[{name:"No Rounding",value:""},{name:"Round Down",value:"round_down"},{name:"Round Up",value:"round_up"}]};function dn(t){e[34].call(null,t)}void 0!==e[2].settings.rounding&&(gn.value=e[2].settings.rounding),at=new z({props:gn}),M.push(()=>R(at,"value",un));let fn={style:e[8],label:"Deduction Presets",placeholder:"e.g : 100"};function mn(t){e[35].call(null,t)}void 0!==e[2].settings.deduct_presets&&(fn.value=e[2].settings.deduct_presets),ct=new Y({props:fn}),M.push(()=>R(ct,"value",dn));let pn={style:e[8],label:"Google Analytic ID"};function $n(t){e[36].call(null,t)}void 0!==e[2].settings.google_analytic_id&&(pn.value=e[2].settings.google_analytic_id),pt=new E({props:pn}),M.push(()=>R(pt,"value",mn));let vn={style:e[8],label:"Facebook Pixel ID"};return void 0!==e[2].settings.facebook_pixel_id&&(vn.value=e[2].settings.facebook_pixel_id),ht=new E({props:vn}),M.push(()=>R(ht,"value",$n)),{c(){t=s("p"),t.textContent="Your Details",n=l(),y(c.$$.fragment),g=l(),d=s("div"),x=s("label"),x.textContent="Business Logo",C=l(),T=s("label"),It.c(),S=l(),I=s("input"),N=l(),Dt&&Dt.c(),P=l(),j=s("div"),U=s("label"),F=m("Time Slots"),O=l(),G=s("div"),At.c(),H=l(),Pt&&Pt.c(),q=l(),Q=s("p"),Q.textContent="Pickup Location",Z=l(),y(J.$$.fragment),se=l(),y(oe.$$.fragment),re=l(),y(ce.$$.fragment),ge=l(),y(de.$$.fragment),me=l(),pe=s("p"),pe.textContent="Ensure that the details above is correct, as price estimation and riders depend on the accuracy of this information.",$e=l(),ve=s("p"),ve.textContent="Orders",he=l(),be=s("div"),y(xe.$$.fragment),_e=l(),y(we.$$.fragment),Ce=l(),Te=s("p"),Se=s("a"),Ie=m("https://getorders.app/#"),De=m(wt),Ne=l(),y(Ae.$$.fragment),je=l(),y(Me.$$.fragment),Ue=l(),y(Fe.$$.fragment),Oe=l(),y(Ee.$$.fragment),ze=l(),y(He.$$.fragment),qe=l(),nn&&nn.c(),Qe=l(),y(Ye.$$.fragment),Je=l(),y(Ke.$$.fragment),Xe=l(),et=s("p"),et.textContent="Loyalty",tt=l(),nt=s("div"),y(st.$$.fragment),ot=l(),y(at.$$.fragment),rt=l(),y(ct.$$.fragment),gt=l(),dt=s("p"),dt.textContent="Website",ft=l(),mt=s("div"),y(pt.$$.fragment),vt=l(),y(ht.$$.fragment),o(t,"class","sect text-theme svelte-1cgd9p3"),o(x,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),o(I,"type","file"),o(I,"class","hidden"),o(T,"class",D="p-2 block rounded cursor-pointer border shadow-sm "+(e[2].settings.logo_raw?"bg-theme text-white":"")),o(d,"class",A=_(e[8].container)+" svelte-1cgd9p3"),o(U,"class",B="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 "+e[8].label+" svelte-1cgd9p3"),o(G,"class","border rounded shadow-sm p-2 w-full flex flex-wrap mb-2"),o(j,"class",W=_(e[8].container)+" svelte-1cgd9p3"),o(Q,"class","sect text-theme svelte-1cgd9p3"),o(pe,"class","text-xs px-3 mb-3 font-semibold"),o(ve,"class","sect text-theme svelte-1cgd9p3"),o(Se,"href",Le="https://getorders.app/#"+e[2].settings.short_id),o(Se,"target","_blank"),o(Te,"class","text-xs px-3 mb-3 font-semibold"),o(et,"class","sect text-theme svelte-1cgd9p3"),o(dt,"class","sect text-theme svelte-1cgd9p3")},m(s,l){a(s,t,l),a(s,n,l),w(c,s,l),a(s,g,l),a(s,d,l),i(d,x),i(d,C),i(d,T),It.m(T,null),i(T,S),i(T,I),e[11](I),i(d,N),Dt&&Dt.m(d,null),a(s,P,l),a(s,j,l),i(j,U),i(U,F),i(j,O),i(j,G),At.m(G,null),i(j,H),Pt&&Pt.m(j,null),a(s,q,l),a(s,Q,l),a(s,Z,l),w(J,s,l),a(s,se,l),w(oe,s,l),a(s,re,l),w(ce,s,l),a(s,ge,l),w(de,s,l),a(s,me,l),a(s,pe,l),a(s,$e,l),a(s,ve,l),a(s,he,l),a(s,be,l),w(xe,be,null),i(be,_e),w(we,be,null),i(be,Ce),i(be,Te),i(Te,Se),i(Se,Ie),i(Se,De),i(be,Ne),w(Ae,be,null),i(be,je),w(Me,be,null),i(be,Ue),w(Fe,be,null),i(be,Oe),w(Ee,be,null),i(be,ze),w(He,be,null),i(be,qe),nn&&nn.m(be,null),i(be,Qe),w(Ye,be,null),i(be,Je),w(Ke,be,null),a(s,Xe,l),a(s,et,l),a(s,tt,l),a(s,nt,l),w(st,nt,null),i(nt,ot),w(at,nt,null),i(nt,rt),w(ct,nt,null),a(s,gt,l),a(s,dt,l),a(s,ft,l),a(s,mt,l),w(pt,mt,null),i(mt,vt),w(ht,mt,null),xt=!0,yt||(_t=r(I,"change",e[9]),yt=!0)},p(e,t){const n={};!u&&4&t[0]&&(u=!0,n.value=e[2].settings.name,k(()=>u=!1)),c.$set(n),St!==(St=Tt(e))&&(It.d(1),It=St(e),It&&(It.c(),It.m(T,S))),(!xt||4&t[0]&&D!==(D="p-2 block rounded cursor-pointer border shadow-sm "+(e[2].settings.logo_raw?"bg-theme text-white":"")))&&o(T,"class",D),e[2].settings.logo?Dt?Dt.p(e,t):(Dt=ee(e),Dt.c(),Dt.m(d,null)):Dt&&(Dt.d(1),Dt=null),Nt===(Nt=Lt(e))&&At?At.p(e,t):(At.d(1),At=Nt(e),At&&(At.c(),At.m(G,null))),e[2].settings.timeslots.length>0?Pt?Pt.p(e,t):(Pt=le(e),Pt.c(),Pt.m(j,null)):Pt&&(Pt.d(1),Pt=null);const s={};!K&&4&t[0]&&(K=!0,s.value=e[2].settings.address,k(()=>K=!1)),J.$set(s);const l={};!ie&&4&t[0]&&(ie=!0,l.value=e[2].settings.address2,k(()=>ie=!1)),oe.$set(l);const a={};!ue&&4&t[0]&&(ue=!0,a.value=e[2].settings.postcode,k(()=>ue=!1)),ce.$set(a);const i={};!fe&&4&t[0]&&(fe=!0,i.value=e[2].settings.coordinates,k(()=>fe=!1)),de.$set(i);const r={};!ye&&4&t[0]&&(ye=!0,r.value=e[2].settings.offline,k(()=>ye=!1)),xe.$set(r);const g={};!ke&&4&t[0]&&(ke=!0,g.value=e[2].settings.short_id,k(()=>ke=!1)),we.$set(g),(!xt||4&t[0])&&wt!==(wt=e[2].settings.short_id+"")&&p(De,wt),(!xt||4&t[0]&&Le!==(Le="https://getorders.app/#"+e[2].settings.short_id))&&o(Se,"href",Le);const f={};!Pe&&4&t[0]&&(Pe=!0,f.value=e[2].settings.tax,k(()=>Pe=!1)),Ae.$set(f);const m={};!Re&&4&t[0]&&(Re=!0,m.value=e[2].settings.delivery_fees,k(()=>Re=!1)),Me.$set(m);const x={};!Be&&4&t[0]&&(Be=!0,x.value=e[2].settings.phone,k(()=>Be=!1)),Fe.$set(x);const y={};!Ge&&4&t[0]&&(Ge=!0,y.value=e[2].settings.announcement,k(()=>Ge=!1)),Ee.$set(y);const _={};!We&&4&t[0]&&(We=!0,_.value=e[2].settings.checkout_notes,k(()=>We=!1)),He.$set(_),"no_delivery"!=e[2].settings.order_methods?nn?(nn.p(e,t),4&t[0]&&$(nn,1)):(nn=ae(e),nn.c(),$(nn,1),nn.m(be,Qe)):nn&&(v(),h(nn,1,1,()=>{nn=null}),b());const w={};!Ze&&4&t[0]&&(Ze=!0,w.value=e[2].settings.order_methods,k(()=>Ze=!1)),Ye.$set(w);const C={};!Ve&&4&t[0]&&(Ve=!0,C.value=e[2].settings.list_style,k(()=>Ve=!1)),Ke.$set(C);const I={};!lt&&4&t[0]&&(lt=!0,I.value=e[2].settings.multiplier,k(()=>lt=!1)),st.$set(I);const L={};!it&&4&t[0]&&(it=!0,L.value=e[2].settings.rounding,k(()=>it=!1)),at.$set(L);const N={};!ut&&4&t[0]&&(ut=!0,N.value=e[2].settings.deduct_presets,k(()=>ut=!1)),ct.$set(N);const A={};!$t&&4&t[0]&&($t=!0,A.value=e[2].settings.google_analytic_id,k(()=>$t=!1)),pt.$set(A);const P={};!bt&&4&t[0]&&(bt=!0,P.value=e[2].settings.facebook_pixel_id,k(()=>bt=!1)),ht.$set(P)},i(e){xt||($(c.$$.fragment,e),$(J.$$.fragment,e),$(oe.$$.fragment,e),$(ce.$$.fragment,e),$(de.$$.fragment,e),$(xe.$$.fragment,e),$(we.$$.fragment,e),$(Ae.$$.fragment,e),$(Me.$$.fragment,e),$(Fe.$$.fragment,e),$(Ee.$$.fragment,e),$(He.$$.fragment,e),$(nn),$(Ye.$$.fragment,e),$(Ke.$$.fragment,e),$(st.$$.fragment,e),$(at.$$.fragment,e),$(ct.$$.fragment,e),$(pt.$$.fragment,e),$(ht.$$.fragment,e),xt=!0)},o(e){h(c.$$.fragment,e),h(J.$$.fragment,e),h(oe.$$.fragment,e),h(ce.$$.fragment,e),h(de.$$.fragment,e),h(xe.$$.fragment,e),h(we.$$.fragment,e),h(Ae.$$.fragment,e),h(Me.$$.fragment,e),h(Fe.$$.fragment,e),h(Ee.$$.fragment,e),h(He.$$.fragment,e),h(nn),h(Ye.$$.fragment,e),h(Ke.$$.fragment,e),h(st.$$.fragment,e),h(at.$$.fragment,e),h(ct.$$.fragment,e),h(pt.$$.fragment,e),h(ht.$$.fragment,e),xt=!1},d(s){s&&f(t),s&&f(n),L(c,s),s&&f(g),s&&f(d),It.d(),e[11](null),Dt&&Dt.d(),s&&f(P),s&&f(j),At.d(),Pt&&Pt.d(),s&&f(q),s&&f(Q),s&&f(Z),L(J,s),s&&f(se),L(oe,s),s&&f(re),L(ce,s),s&&f(ge),L(de,s),s&&f(me),s&&f(pe),s&&f($e),s&&f(ve),s&&f(he),s&&f(be),L(xe),L(we),L(Ae),L(Me),L(Fe),L(Ee),L(He),nn&&nn.d(),L(Ye),L(Ke),s&&f(Xe),s&&f(et),s&&f(tt),s&&f(nt),L(st),L(at),L(ct),s&&f(gt),s&&f(dt),s&&f(ft),s&&f(mt),L(pt),L(ht),yt=!1,_t()}}}function V(e){let t,n,i;return{c(){t=s("i"),n=l(),i=s("span"),i.textContent="Image Selected",o(t,"class","icon ion-md-cloud-done px-1"),o(i,"class","mt-2 text-base leading-normal")},m(e,s){a(e,t,s),a(e,n,s),a(e,i,s)},d(e){e&&f(t),e&&f(n),e&&f(i)}}}function X(e){let t,n,i;return{c(){t=s("i"),n=l(),i=s("span"),i.textContent="Upload Image",o(t,"class","icon ion-md-cloud-upload px-1"),o(i,"class","mt-2 text-base leading-normal")},m(e,s){a(e,t,s),a(e,n,s),a(e,i,s)},d(e){e&&f(t),e&&f(n),e&&f(i)}}}function ee(e){let t;return{c(){t=s("div"),o(t,"class","w-16 h-16 m-1 border bg-cover bg-center"),C(t,"background-image","url("+T+e[2].settings.logo+")")},m(e,n){a(e,t,n)},p(e,n){4&n[0]&&C(t,"background-image","url("+T+e[2].settings.logo+")")},d(e){e&&f(t)}}}function te(e){let t,n,l;return{c(){t=s("p"),t.textContent="No Time Slots Specified. Tap To Add Time Slots.",o(t,"class","text-gray-500 cursor-pointer")},m(s,o){a(s,t,o),n||(l=r(t,"click",e[13]),n=!0)},p:I,d(e){e&&f(t),n=!1,l()}}}function ne(e){let t,n=e[2].settings.timeslots,s=[];for(let t=0;t<n.length;t+=1)s[t]=se(J(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=N()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);a(e,t,n)},p(e,l){if(68&l[0]){let o;for(n=e[2].settings.timeslots,o=0;o<n.length;o+=1){const a=J(e,n,o);s[o]?s[o].p(a,l):(s[o]=se(a),s[o].c(),s[o].m(t.parentNode,t))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(e){x(s,e),e&&f(t)}}}function se(e){let t,n,l,c,u,g=re(e[43])+"";function d(...t){return e[12](e[43],...t)}return{c(){t=s("span"),n=m(g),l=s("i"),o(l,"class","icon ion-md-close pl-2 font-semibold"),o(t,"class","inline-block p-2 rounded-lg text-xs bg-theme text-white m-1")},m(e,s){a(e,t,s),i(t,n),i(t,l),c||(u=r(t,"click",d),c=!0)},p(t,s){e=t,4&s[0]&&g!==(g=re(e[43])+"")&&p(n,g)},d(e){e&&f(t),c=!1,u()}}}function le(e){let t,n,i,u,g,d,m,p=e[3],$=[];for(let t=0;t<p.length;t+=1)$[t]=oe(Z(e,p,t));return{c(){t=s("button"),t.textContent="Clear",n=l(),i=s("button"),i.textContent="Reset",u=l(),g=s("select");for(let e=0;e<$.length;e+=1)$[e].c();o(t,"class","p-1 px-2 bg-theme rounded-lg text-sm text-white mr-2"),o(i,"class","p-1 px-2 bg-theme rounded-lg text-sm text-white mr-2"),void 0===e[0]&&c(()=>e[16].call(g))},m(s,l){a(s,t,l),a(s,n,l),a(s,i,l),a(s,u,l),a(s,g,l);for(let e=0;e<$.length;e+=1)$[e].m(g,null);S(g,e[0]),d||(m=[r(t,"click",e[14]),r(i,"click",e[15]),r(g,"change",e[16]),r(g,"change",e[17])],d=!0)},p(e,t){if(8&t[0]){let n;for(p=e[3],n=0;n<p.length;n+=1){const s=Z(e,p,n);$[n]?$[n].p(s,t):($[n]=oe(s),$[n].c(),$[n].m(g,null))}for(;n<$.length;n+=1)$[n].d(1);$.length=p.length}9&t[0]&&S(g,e[0])},d(e){e&&f(t),e&&f(n),e&&f(i),e&&f(u),e&&f(g),x($,e),d=!1,D(m)}}}function oe(e){let t,n,l,o,r=e[40]+"";return{c(){t=s("option"),n=m(r),l=m(" minutes"),t.__value=o=e[40],t.value=t.__value},m(e,s){a(e,t,s),i(t,n),i(t,l)},p:I,d(e){e&&f(t)}}}function ae(e){let t,n,s;function l(t){e[29].call(null,t)}let o={style:e[8],label:"MrSpeedy ID"};return void 0!==e[2].settings.speedy_token&&(o.value=e[2].settings.speedy_token),t=new E({props:o}),M.push(()=>R(t,"value",l)),{c(){y(t.$$.fragment)},m(e,n){w(t,e,n),s=!0},p(e,s){const l={};!n&&4&s[0]&&(n=!0,l.value=e[2].settings.speedy_token,k(()=>n=!1)),t.$set(l)},i(e){s||($(t.$$.fragment,e),s=!0)},o(e){h(t.$$.fragment,e),s=!1},d(e){L(t,e)}}}function ie(e){let t,n,s,o;t=new G({props:{class:"border-b border-gray-300",tools:e[4]}}),t.$on("selected",e[5]);let i=e[2].settings&&K(e);return{c(){y(t.$$.fragment),n=l(),i&&i.c(),s=N()},m(e,l){w(t,e,l),a(e,n,l),i&&i.m(e,l),a(e,s,l),o=!0},p(e,t){e[2].settings?i?(i.p(e,t),4&t[0]&&$(i,1)):(i=K(e),i.c(),$(i,1),i.m(s.parentNode,s)):i&&(v(),h(i,1,1,()=>{i=null}),b())},i(e){o||($(t.$$.fragment,e),$(i),o=!0)},o(e){h(t.$$.fragment,e),h(i),o=!1},d(e){L(t,e),e&&f(n),i&&i.d(e),e&&f(s)}}}function re(e){var t=e.split(":"),n="AM",s=parseInt(t);return s>12&&(s-=12,n="PM"),`${s}:${t[1]}${n}`}function ce(e){var t=""+e[1];return e[1]<10&&(t="0"+t),`${e[0]}:${t}`}function ue(e,t,n){let s,l;A(e,P,e=>n(37,s=e)),A(e,j,e=>n(2,l=e));let o,a=[45,30,15,10,5],i=30,r=[8,0],c=[23,30];function u(e){U(j,l.settings.timeslots=l.settings.timeslots.filter(t=>t!=e),l)}function g(e){var t=r.slice();let n=[ce(t)];for(var s=1;s<60&&!(t[0]>=c[0]&&t[1]>=c[1]);s++)t[1]+=e,t[1]>=60&&(t[0]+=1,t[1]=t[1]-60),n=[...n,ce(t)];U(j,l.settings.timeslots=n,l)}return[i,o,l,a,[{name:"Save",icon:"cloud-done",function:"save"}],function(e){switch(e.detail.function){case"save":U(P,s=!0),F(B("/settings"),l.settings).then(e=>{U(j,l=e),U(P,s=!1)}).catch(e=>{})}},u,g,{container:"p-2 md:w-1/2 flex-none",label:"w-32"},function(){let e=new FileReader;e.readAsDataURL(o.files[0]),e.onload=()=>{let t=e.result;U(j,l.settings.logo_raw=t,l)}},function(e){l.settings.name=e,j.set(l)},function(e){M[e?"unshift":"push"](()=>{o=e,n(1,o)})},e=>u(e),()=>g(i),()=>U(j,l.settings.timeslots=[],l),()=>g(i),function(){i=O(this),n(0,i),n(3,a)},()=>g(i),function(e){l.settings.address=e,j.set(l)},function(e){l.settings.address2=e,j.set(l)},function(e){l.settings.postcode=e,j.set(l)},function(e){l.settings.coordinates=e,j.set(l)},function(e){l.settings.offline=e,j.set(l)},function(e){l.settings.short_id=e,j.set(l)},function(e){l.settings.tax=e,j.set(l)},function(e){l.settings.delivery_fees=e,j.set(l)},function(e){l.settings.phone=e,j.set(l)},function(e){l.settings.announcement=e,j.set(l)},function(e){l.settings.checkout_notes=e,j.set(l)},function(e){l.settings.speedy_token=e,j.set(l)},function(e){l.settings.order_methods=e,j.set(l)},function(e){l.settings.list_style=e,j.set(l)},function(e){l.settings.multiplier=e,j.set(l)},function(e){l.settings.rounding=e,j.set(l)},function(e){l.settings.deduct_presets=e,j.set(l)},function(e){l.settings.google_analytic_id=e,j.set(l)},function(e){l.settings.facebook_pixel_id=e,j.set(l)}]}export default class extends e{constructor(e){var l;super(),document.getElementById("svelte-1cgd9p3-style")||((l=s("style")).id="svelte-1cgd9p3-style",l.textContent=".sect.svelte-1cgd9p3{font-size:1.25rem;font-weight:700;margin-top:0.75rem}",i(document.head,l)),t(this,e,ue,ie,n,{},[-1,-1])}}
//# sourceMappingURL=Settings-33c8f83e.js.map
