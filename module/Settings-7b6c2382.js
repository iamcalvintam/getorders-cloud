import{S as e,i as t,s,e as n,a as l,b as o,c as a,d as i,l as r,a6 as u,a7 as c,a8 as g,a9 as d,h as f,t as m,g as p,k as v,r as $,o as h,u as b,y as x,j as y,aa as w,m as _,v as k,Y as z,Z as C,p as T,x as S,q as L,R as N,z as A,G as I,H as j,n as D,F as R,D as M,E as P}from"./App-2bf82303.js";import{T as U}from"./UITextField-663bf331.js";import{T as B}from"./UIToolbar-6b256b25.js";import{S as F}from"./UISegmented-829160d0.js";import"./dayjs.min-d290c2ff.js";function O(e,t,s){const n=e.slice();return n[7]=t[s],n[9]=s,n}function E(e){let t,s,m,p,v,$,h,b,x;function y(...t){return e[6](e[9],...t)}return{c(){t=n("div"),s=n("input"),p=l(),v=n("button"),v.innerHTML='<i class="icon ion-md-close text-xl"></i>',$=l(),o(s,"type","text"),o(s,"class","flex-grow bg-gray-100 self-center"),o(s,"placeholder",e[2]),s.value=m=e[7],o(v,"class","flex-none ml-2"),o(t,"class","flex rounded-lg bg-gray-100 p-2 my-2")},m(e,n,l){a(e,t,n),i(t,s),i(t,p),i(t,v),i(t,$),b=!0,l&&x(),x=r(v,"click",y)},p(t,n){e=t,(!b||4&n)&&o(s,"placeholder",e[2]),(!b||1&n&&m!==(m=e[7])&&s.value!==m)&&(s.value=m)},i(e){b||(u(()=>{h||(h=c(t,d,{duration:300,easing:g},!0)),h.run(1)}),b=!0)},o(e){h||(h=c(t,d,{duration:300,easing:g},!1)),h.run(0),b=!1},d(e){e&&f(t),e&&h&&h.end(),x()}}}function H(e){let t,s,u,c,g,d,y,w,_,k,z=e[0],C=[];for(let t=0;t<z.length;t+=1)C[t]=E(O(e,z,t));const T=e=>h(C[e],1,1,()=>{C[e]=null});return{c(){t=n("div"),s=n("div"),u=n("label"),c=m(e[1]),g=l(),d=n("button"),d.innerHTML='<i class="icon ion-md-add text-xl"></i>',y=l();for(let e=0;e<C.length;e+=1)C[e].c();o(u,"class","flex-grow self-center text-xs uppercase text-gray-500 font-semibold"),o(d,"class","flex-none"),o(s,"class","flex"),o(t,"class",w=e[3].container)},m(n,l,o){a(n,t,l),i(t,s),i(s,u),i(u,c),i(s,g),i(s,d),i(t,y);for(let e=0;e<C.length;e+=1)C[e].m(t,null);_=!0,o&&k(),k=r(d,"click",e[4])},p(e,[s]){if((!_||2&s)&&p(c,e[1]),37&s){let n;for(z=e[0],n=0;n<z.length;n+=1){const l=O(e,z,n);C[n]?(C[n].p(l,s),v(C[n],1)):(C[n]=E(l),C[n].c(),v(C[n],1),C[n].m(t,null))}for($(),n=z.length;n<C.length;n+=1)T(n);b()}(!_||8&s&&w!==(w=e[3].container))&&o(t,"class",w)},i(e){if(!_){for(let e=0;e<z.length;e+=1)v(C[e]);_=!0}},o(e){C=C.filter(Boolean);for(let e=0;e<C.length;e+=1)h(C[e]);_=!1},d(e){e&&f(t),x(C,e),k()}}}function G(e,t,s){let{value:n=[]}=t,{label:l=""}=t,{placeholder:o=""}=t,{style:a={}}=t;function i(e){s(0,n=[...n.slice(0,e),...n.slice(e+1,n.length)])}return e.$set=e=>{"value"in e&&s(0,n=e.value),"label"in e&&s(1,l=e.label),"placeholder"in e&&s(2,o=e.placeholder),"style"in e&&s(3,a=e.style)},[n,l,o,a,function(){s(0,n=[...n,""])},i,e=>i(e)]}class Y extends e{constructor(e){super(),t(this,e,G,H,s,{value:0,label:1,placeholder:2,style:3})}}function q(e,t,s){const n=e.slice();return n[29]=t[s],n}function Z(e){let t,s,u,c,g,d,$,b,x,z,C,S,L,N,A,D,R,M,P,B,O,E,H,G,q,Z,X,ee,te,se,ne,le,oe,ae,ie,re,ue,ce,ge,de,fe,me,pe,ve,$e,he,be,xe,ye,we,_e,ke,ze,Ce,Te,Se,Le,Ne,Ae,Ie,je,De,Re,Me,Pe,Ue,Be,Fe=e[1].settings.short_id+"";function Oe(t){e[11].call(null,t)}let Ee={style:e[6],label:"Business Name"};void 0!==e[1].settings.name&&(Ee.value=e[1].settings.name);const He=new U({props:Ee});function Ge(e,t){return e[1].settings.logo_raw?J:K}I.push(()=>j(He,"value",Oe));let Ye=Ge(e),qe=Ye(e),Ze=e[1].settings.logo&&Q(e);function Je(e,t){return e[1].settings.timeslots.length>0?W:V}let Ke=Je(e),Qe=Ke(e);function Ve(t){e[15].call(null,t)}let We={style:e[6],label:"Address"};void 0!==e[1].settings.address&&(We.value=e[1].settings.address);const Xe=new U({props:We});function et(t){e[16].call(null,t)}I.push(()=>j(Xe,"value",Ve));let tt={style:e[6],label:"Address 2"};void 0!==e[1].settings.address2&&(tt.value=e[1].settings.address2);const st=new U({props:tt});function nt(t){e[17].call(null,t)}I.push(()=>j(st,"value",et));let lt={style:e[6],label:"Postcode"};void 0!==e[1].settings.postcode&&(lt.value=e[1].settings.postcode);const ot=new U({props:lt});function at(t){e[18].call(null,t)}I.push(()=>j(ot,"value",nt));let it={style:e[6],label:"Status",segments:[{name:"Online",value:!1},{name:"Offline",value:!0}]};void 0!==e[1].settings.offline&&(it.value=e[1].settings.offline);const rt=new F({props:it});function ut(t){e[19].call(null,t)}I.push(()=>j(rt,"value",at));let ct={style:e[6],label:"Identifier"};void 0!==e[1].settings.short_id&&(ct.value=e[1].settings.short_id);const gt=new U({props:ct});function dt(t){e[20].call(null,t)}I.push(()=>j(gt,"value",ut));let ft={style:e[6],label:"Delivery Fees"};void 0!==e[1].settings.delivery_fees&&(ft.value=e[1].settings.delivery_fees);const mt=new U({props:ft});function pt(t){e[21].call(null,t)}I.push(()=>j(mt,"value",dt));let vt={style:e[6],label:"Phone Number"};void 0!==e[1].settings.phone&&(vt.value=e[1].settings.phone);const $t=new U({props:vt});function ht(t){e[22].call(null,t)}I.push(()=>j($t,"value",pt));let bt={style:e[6],label:"Announcement"};void 0!==e[1].settings.announcement&&(bt.value=e[1].settings.announcement);const xt=new U({props:bt});function yt(t){e[23].call(null,t)}I.push(()=>j(xt,"value",ht));let wt={style:e[6],label:"Checkout Notes"};void 0!==e[1].settings.checkout_notes&&(wt.value=e[1].settings.checkout_notes);const _t=new U({props:wt});function kt(t){e[24].call(null,t)}I.push(()=>j(_t,"value",yt));let zt={style:e[6],label:"Order Methods",segments:[{name:"All",value:""},{name:"No Delivery",value:"no_delivery"},{name:"No Pickup",value:"no_pickup"}]};void 0!==e[1].settings.order_methods&&(zt.value=e[1].settings.order_methods);const Ct=new F({props:zt});function Tt(t){e[25].call(null,t)}I.push(()=>j(Ct,"value",kt));let St={style:e[6],label:"List Layout",segments:[{name:"Grid",value:""},{name:"List",value:"list"}]};void 0!==e[1].settings.list_style&&(St.value=e[1].settings.list_style);const Lt=new F({props:St});function Nt(t){e[26].call(null,t)}I.push(()=>j(Lt,"value",Tt));let At={style:e[6],label:"Multiplier"};void 0!==e[1].settings.multiplier&&(At.value=e[1].settings.multiplier);const It=new U({props:At});function jt(t){e[27].call(null,t)}I.push(()=>j(It,"value",Nt));let Dt={style:e[6],label:"Rounding",segments:[{name:"No Rounding",value:""},{name:"Round Down",value:"round_down"},{name:"Round Up",value:"round_up"}]};void 0!==e[1].settings.rounding&&(Dt.value=e[1].settings.rounding);const Rt=new F({props:Dt});function Mt(t){e[28].call(null,t)}I.push(()=>j(Rt,"value",jt));let Pt={style:e[6],label:"Deduction Presets",placeholder:"e.g : 100"};void 0!==e[1].settings.deduct_presets&&(Pt.value=e[1].settings.deduct_presets);const Ut=new Y({props:Pt});return I.push(()=>j(Ut,"value",Mt)),{c(){t=n("p"),t.textContent="Your Details",s=l(),y(He.$$.fragment),c=l(),g=n("div"),d=n("label"),d.textContent="Business Logo",$=l(),b=n("label"),qe.c(),x=l(),z=n("input"),S=l(),Ze&&Ze.c(),N=l(),A=n("div"),D=n("label"),R=m("Time Slots"),P=l(),B=n("div"),Qe.c(),E=l(),H=n("p"),H.textContent="Pickup Location",G=l(),y(Xe.$$.fragment),Z=l(),y(st.$$.fragment),ee=l(),y(ot.$$.fragment),se=l(),ne=n("p"),ne.textContent="Ensure that the details above is correct, as price estimation and riders depend on the accuracy of this information.",le=l(),oe=n("p"),oe.textContent="Orders",ae=l(),ie=n("div"),y(rt.$$.fragment),ue=l(),y(gt.$$.fragment),ge=l(),de=n("p"),fe=n("a"),me=m("https://instant.getorders.app/?m="),pe=m(Fe),$e=l(),y(mt.$$.fragment),be=l(),y($t.$$.fragment),ye=l(),y(xt.$$.fragment),_e=l(),y(_t.$$.fragment),ze=l(),y(Ct.$$.fragment),Te=l(),y(Lt.$$.fragment),Le=l(),Ne=n("p"),Ne.textContent="Loyalty",Ae=l(),Ie=n("div"),y(It.$$.fragment),De=l(),y(Rt.$$.fragment),Me=l(),y(Ut.$$.fragment),o(t,"class","sect text-theme svelte-12rzu9v"),o(d,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),o(z,"type","file"),o(z,"class","hidden"),o(b,"class",C="p-2 block rounded cursor-pointer border shadow-sm "+(e[1].settings.logo_raw?"bg-theme text-white":"")),o(g,"class",L=w(e[6].container)+" svelte-12rzu9v"),o(D,"class",M="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 "+e[6].label+" svelte-12rzu9v"),o(B,"class","border rounded shadow-sm p-2 w-full flex flex-wrap"),o(A,"class",O=w(e[6].container)+" svelte-12rzu9v"),o(H,"class","sect text-theme svelte-12rzu9v"),o(ne,"class","text-xs px-3 mb-3 font-semibold"),o(oe,"class","sect text-theme svelte-12rzu9v"),o(fe,"href",ve="https://instant.getorders.app/?m="+e[1].settings.short_id),o(fe,"target","_blank"),o(de,"class","text-xs px-3 mb-3 font-semibold"),o(Ne,"class","sect text-theme svelte-12rzu9v")},m(n,l,o){a(n,t,l),a(n,s,l),_(He,n,l),a(n,c,l),a(n,g,l),i(g,d),i(g,$),i(g,b),qe.m(b,null),i(b,x),i(b,z),e[12](z),i(g,S),Ze&&Ze.m(g,null),a(n,N,l),a(n,A,l),i(A,D),i(D,R),i(A,P),i(A,B),Qe.m(B,null),a(n,E,l),a(n,H,l),a(n,G,l),_(Xe,n,l),a(n,Z,l),_(st,n,l),a(n,ee,l),_(ot,n,l),a(n,se,l),a(n,ne,l),a(n,le,l),a(n,oe,l),a(n,ae,l),a(n,ie,l),_(rt,ie,null),i(ie,ue),_(gt,ie,null),i(ie,ge),i(ie,de),i(de,fe),i(fe,me),i(fe,pe),i(ie,$e),_(mt,ie,null),i(ie,be),_($t,ie,null),i(ie,ye),_(xt,ie,null),i(ie,_e),_(_t,ie,null),i(ie,ze),_(Ct,ie,null),i(ie,Te),_(Lt,ie,null),a(n,Le,l),a(n,Ne,l),a(n,Ae,l),a(n,Ie,l),_(It,Ie,null),i(Ie,De),_(Rt,Ie,null),i(Ie,Me),_(Ut,Ie,null),Ue=!0,o&&Be(),Be=r(z,"change",e[7])},p(e,t){const s={};!u&&2&t[0]&&(u=!0,s.value=e[1].settings.name,k(()=>u=!1)),He.$set(s),Ye!==(Ye=Ge(e))&&(qe.d(1),qe=Ye(e),qe&&(qe.c(),qe.m(b,x))),(!Ue||2&t[0]&&C!==(C="p-2 block rounded cursor-pointer border shadow-sm "+(e[1].settings.logo_raw?"bg-theme text-white":"")))&&o(b,"class",C),e[1].settings.logo?Ze?Ze.p(e,t):(Ze=Q(e),Ze.c(),Ze.m(g,null)):Ze&&(Ze.d(1),Ze=null),Ke===(Ke=Je(e))&&Qe?Qe.p(e,t):(Qe.d(1),Qe=Ke(e),Qe&&(Qe.c(),Qe.m(B,null)));const n={};!q&&2&t[0]&&(q=!0,n.value=e[1].settings.address,k(()=>q=!1)),Xe.$set(n);const l={};!X&&2&t[0]&&(X=!0,l.value=e[1].settings.address2,k(()=>X=!1)),st.$set(l);const a={};!te&&2&t[0]&&(te=!0,a.value=e[1].settings.postcode,k(()=>te=!1)),ot.$set(a);const i={};!re&&2&t[0]&&(re=!0,i.value=e[1].settings.offline,k(()=>re=!1)),rt.$set(i);const r={};!ce&&2&t[0]&&(ce=!0,r.value=e[1].settings.short_id,k(()=>ce=!1)),gt.$set(r),(!Ue||2&t[0])&&Fe!==(Fe=e[1].settings.short_id+"")&&p(pe,Fe),(!Ue||2&t[0]&&ve!==(ve="https://instant.getorders.app/?m="+e[1].settings.short_id))&&o(fe,"href",ve);const c={};!he&&2&t[0]&&(he=!0,c.value=e[1].settings.delivery_fees,k(()=>he=!1)),mt.$set(c);const d={};!xe&&2&t[0]&&(xe=!0,d.value=e[1].settings.phone,k(()=>xe=!1)),$t.$set(d);const f={};!we&&2&t[0]&&(we=!0,f.value=e[1].settings.announcement,k(()=>we=!1)),xt.$set(f);const m={};!ke&&2&t[0]&&(ke=!0,m.value=e[1].settings.checkout_notes,k(()=>ke=!1)),_t.$set(m);const v={};!Ce&&2&t[0]&&(Ce=!0,v.value=e[1].settings.order_methods,k(()=>Ce=!1)),Ct.$set(v);const $={};!Se&&2&t[0]&&(Se=!0,$.value=e[1].settings.list_style,k(()=>Se=!1)),Lt.$set($);const h={};!je&&2&t[0]&&(je=!0,h.value=e[1].settings.multiplier,k(()=>je=!1)),It.$set(h);const y={};!Re&&2&t[0]&&(Re=!0,y.value=e[1].settings.rounding,k(()=>Re=!1)),Rt.$set(y);const w={};!Pe&&2&t[0]&&(Pe=!0,w.value=e[1].settings.deduct_presets,k(()=>Pe=!1)),Ut.$set(w)},i(e){Ue||(v(He.$$.fragment,e),v(Xe.$$.fragment,e),v(st.$$.fragment,e),v(ot.$$.fragment,e),v(rt.$$.fragment,e),v(gt.$$.fragment,e),v(mt.$$.fragment,e),v($t.$$.fragment,e),v(xt.$$.fragment,e),v(_t.$$.fragment,e),v(Ct.$$.fragment,e),v(Lt.$$.fragment,e),v(It.$$.fragment,e),v(Rt.$$.fragment,e),v(Ut.$$.fragment,e),Ue=!0)},o(e){h(He.$$.fragment,e),h(Xe.$$.fragment,e),h(st.$$.fragment,e),h(ot.$$.fragment,e),h(rt.$$.fragment,e),h(gt.$$.fragment,e),h(mt.$$.fragment,e),h($t.$$.fragment,e),h(xt.$$.fragment,e),h(_t.$$.fragment,e),h(Ct.$$.fragment,e),h(Lt.$$.fragment,e),h(It.$$.fragment,e),h(Rt.$$.fragment,e),h(Ut.$$.fragment,e),Ue=!1},d(n){n&&f(t),n&&f(s),T(He,n),n&&f(c),n&&f(g),qe.d(),e[12](null),Ze&&Ze.d(),n&&f(N),n&&f(A),Qe.d(),n&&f(E),n&&f(H),n&&f(G),T(Xe,n),n&&f(Z),T(st,n),n&&f(ee),T(ot,n),n&&f(se),n&&f(ne),n&&f(le),n&&f(oe),n&&f(ae),n&&f(ie),T(rt),T(gt),T(mt),T($t),T(xt),T(_t),T(Ct),T(Lt),n&&f(Le),n&&f(Ne),n&&f(Ae),n&&f(Ie),T(It),T(Rt),T(Ut),Be()}}}function J(e){let t,s,i;return{c(){t=n("i"),s=l(),i=n("span"),i.textContent="Image Selected",o(t,"class","icon ion-md-cloud-done px-1"),o(i,"class","mt-2 text-base leading-normal")},m(e,n){a(e,t,n),a(e,s,n),a(e,i,n)},d(e){e&&f(t),e&&f(s),e&&f(i)}}}function K(e){let t,s,i;return{c(){t=n("i"),s=l(),i=n("span"),i.textContent="Upload Image",o(t,"class","icon ion-md-cloud-upload px-1"),o(i,"class","mt-2 text-base leading-normal")},m(e,n){a(e,t,n),a(e,s,n),a(e,i,n)},d(e){e&&f(t),e&&f(s),e&&f(i)}}}function Q(e){let t;return{c(){t=n("div"),o(t,"class","w-16 h-16 m-1 border bg-cover bg-center"),z(t,"background-image","url("+C+e[1].settings.logo+")")},m(e,s){a(e,t,s)},p(e,s){2&s[0]&&z(t,"background-image","url("+C+e[1].settings.logo+")")},d(e){e&&f(t)}}}function V(e){let t,s;return{c(){t=n("p"),t.textContent="No Time Slots Specified. Tap To Add Time Slots.",o(t,"class","text-gray-500 cursor-pointer")},m(n,l,o){a(n,t,l),o&&s(),s=r(t,"click",e[14])},p:D,d(e){e&&f(t),s()}}}function W(e){let t,s=e[1].settings.timeslots,n=[];for(let t=0;t<s.length;t+=1)n[t]=X(q(e,s,t));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=S()},m(e,s){for(let t=0;t<n.length;t+=1)n[t].m(e,s);a(e,t,s)},p(e,l){if(18&l[0]){let o;for(s=e[1].settings.timeslots,o=0;o<s.length;o+=1){const a=q(e,s,o);n[o]?n[o].p(a,l):(n[o]=X(a),n[o].c(),n[o].m(t.parentNode,t))}for(;o<n.length;o+=1)n[o].d(1);n.length=s.length}},d(e){x(n,e),e&&f(t)}}}function X(e){let t,s,l,u,c=te(e[29])+"";function g(...t){return e[13](e[29],...t)}return{c(){t=n("span"),s=m(c),l=n("i"),o(l,"class","icon ion-md-close pl-2 font-semibold"),o(t,"class","inline-block p-2 rounded-lg text-xs bg-theme text-white m-1")},m(e,n,o){a(e,t,n),i(t,s),i(t,l),o&&u(),u=r(t,"click",g)},p(t,n){e=t,2&n[0]&&c!==(c=te(e[29])+"")&&p(s,c)},d(e){e&&f(t),u()}}}function ee(e){let t,s,n;const o=new B({props:{class:"border-b border-gray-300",tools:e[2]}});o.$on("selected",e[3]);let i=e[1].settings&&Z(e);return{c(){y(o.$$.fragment),t=l(),i&&i.c(),s=S()},m(e,l){_(o,e,l),a(e,t,l),i&&i.m(e,l),a(e,s,l),n=!0},p(e,t){e[1].settings?i?(i.p(e,t),v(i,1)):(i=Z(e),i.c(),v(i,1),i.m(s.parentNode,s)):i&&($(),h(i,1,1,()=>{i=null}),b())},i(e){n||(v(o.$$.fragment,e),v(i),n=!0)},o(e){h(o.$$.fragment,e),h(i),n=!1},d(e){T(o,e),e&&f(t),i&&i.d(e),e&&f(s)}}}function te(e){var t=e.split(":"),s="AM",n=parseInt(t);return n>12&&(n-=12,s="PM"),`${n}:${t[1]}${s}`}function se(e){var t=`${e[1]}`;return e[1]<10&&(t=`0${t}`),`${e[0]}:${t}`}function ne(e,t,s){let n,l;L(e,N,e=>s(8,n=e)),L(e,A,e=>s(1,l=e));let o,a=[8,30],i=[21,30];function r(e){R(A,l.settings.timeslots=l.settings.timeslots.filter(t=>t!=e),l)}function u(e){var t=a.slice();let s=[se(t)];for(var n=1;n<60&&!(t[0]>=i[0]&&t[1]>=i[1]);n++)t[1]+=e,t[1]>=60&&(t[0]+=1,t[1]=t[1]-60),s=[...s,se(t)];R(A,l.settings.timeslots=s,l)}return[o,l,[{name:"Save",icon:"cloud-done",function:"save"}],function(e){switch(e.detail.function){case"save":R(N,n=!0),M(P("/settings"),l.settings).then(e=>{R(A,l=e),R(N,n=!1)}).catch(e=>{})}},r,u,{container:"p-2 md:w-1/2 flex-none",label:"w-32"},function(){let e=new FileReader;e.readAsDataURL(o.files[0]),e.onload=()=>{let t=e.result;R(A,l.settings.logo_raw=t,l)}},n,a,i,function(e){l.settings.name=e,A.set(l)},function(e){I[e?"unshift":"push"](()=>{s(0,o=e)})},e=>r(e),()=>u(30),function(e){l.settings.address=e,A.set(l)},function(e){l.settings.address2=e,A.set(l)},function(e){l.settings.postcode=e,A.set(l)},function(e){l.settings.offline=e,A.set(l)},function(e){l.settings.short_id=e,A.set(l)},function(e){l.settings.delivery_fees=e,A.set(l)},function(e){l.settings.phone=e,A.set(l)},function(e){l.settings.announcement=e,A.set(l)},function(e){l.settings.checkout_notes=e,A.set(l)},function(e){l.settings.order_methods=e,A.set(l)},function(e){l.settings.list_style=e,A.set(l)},function(e){l.settings.multiplier=e,A.set(l)},function(e){l.settings.rounding=e,A.set(l)},function(e){l.settings.deduct_presets=e,A.set(l)}]}export default class extends e{constructor(e){var l;super(),document.getElementById("svelte-12rzu9v-style")||((l=n("style")).id="svelte-12rzu9v-style",l.textContent=".sect.svelte-12rzu9v{font-size:1.25rem;font-weight:700;margin-top:0.75rem}",i(document.head,l)),t(this,e,ne,ee,s,{},[-1,-1])}}
//# sourceMappingURL=Settings-7b6c2382.js.map
