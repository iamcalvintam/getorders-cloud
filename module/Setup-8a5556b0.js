import{S as t,i as e,s as n,e as s,d as l,M as r,j as a,m as c,k as o,o as i,p as d,q as u,b as p,c as m,r as f,u as g,h as x,a as h,t as b,n as w,v,f as y,w as $,l as k,x as C,g as S,y as _,z as P,B as M,C as E,D as L,E as T,F as A,G as H,L as I,H as O,I as j}from"./App-5bb485df.js";import{T as N}from"./UITextField-e25f7514.js";function q(t,e,n){const s=t.slice();return s[35]=e[n],s}function D(t,e,n){const s=t.slice();return s[38]=e[n],s}function F(t,e,n){const s=t.slice();return s[38]=e[n],s[42]=n,s}function B(t){let e;const n=new I({props:{$$slots:{message:[R]},$$scope:{ctx:t}}});return{c(){a(n.$$.fragment)},m(t,s){c(n,t,s),e=!0},i(t){e||(o(n.$$.fragment,t),e=!0)},o(t){i(n.$$.fragment,t),e=!1},d(t){d(n,t)}}}function R(t){let e;return{c(){e=s("div"),e.textContent="One Moment Please..",p(e,"slot","message")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function Y(t){let e,n,l=t[9]&&B(t);return{c(){e=s("div"),l&&l.c(),p(e,"slot","loader")},m(t,s){m(t,e,s),l&&l.m(e,null),n=!0},p(t,n){t[9]?l?o(l,1):(l=B(t),l.c(),o(l,1),l.m(e,null)):l&&(f(),i(l,1,1,()=>{l=null}),g())},i(t){n||(o(l),n=!0)},o(t){i(l),n=!1},d(t){t&&x(e),l&&l.d()}}}function G(t){let e;return{c(){e=s("div"),e.textContent="Setup",p(e,"slot","title"),p(e,"class","text-center font-semibold text-2xl text-gray-600 m-2 flex")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function z(t){let e;return{c(){e=s("span"),e.innerHTML='<i class="fa fa-check w-full fill-current white"></i>',p(e,"class","text-white text-center w-full")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function J(t){let e;return{c(){e=s("span"),e.innerHTML='<i class="fa fa-ellipsis-h w-full fill-current white"></i>',p(e,"class","text-white text-center w-full")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function U(t){let e;return{c(){e=s("span"),e.innerHTML='<i class="fa fa-check w-full fill-current white"></i>',p(e,"class","text-white text-center w-full")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function W(t){let e,n,r,a,c;function o(t,e){return t[10].settings.step>t[42]+2?U:t[10].settings.step>t[42]+1?J:void 0}let i=o(t),d=i&&i(t);return{c(){e=s("div"),e.innerHTML='<div class="w-full bg-gray-300 rounded items-center align-middle align-center flex-1"><div class="bg-green-light text-xs leading-none py-1 text-center text-grey-darkest rounded w-full"></div></div>',n=h(),r=s("div"),a=s("div"),d&&d.c(),p(e,"class","w-1/6 align-center items-center align-middle content-center flex"),p(a,"class",c="w-10 h-10 bg-"+(t[10].settings.step>t[42]+2?"green":"gray")+"-500 mx-auto rounded-full text-lg text-white flex items-center"),p(r,"class","flex-1")},m(t,s){m(t,e,s),m(t,n,s),m(t,r,s),l(r,a),d&&d.m(a,null)},p(t,e){i!==(i=o(t))&&(d&&d.d(1),d=i&&i(t),d&&(d.c(),d.m(a,null))),1024&e[0]&&c!==(c="w-10 h-10 bg-"+(t[10].settings.step>t[42]+2?"green":"gray")+"-500 mx-auto rounded-full text-lg text-white flex items-center")&&p(a,"class",c)},d(t){t&&x(e),t&&x(n),t&&x(r),d&&d.d()}}}function K(t){let e,n,r,a=t[38]+"";return{c(){e=s("div"),n=b(a),r=h(),p(e,"class","w-1/4")},m(t,s){m(t,e,s),l(e,n),l(e,r)},p:w,d(t){t&&x(e)}}}function Q(t){let e,n,l,r,u,f,g,b;function w(e){t[26].call(null,e)}let y={style:t[14],label:"Company Name"};void 0!==t[10].settings.name&&(y.value=t[10].settings.name);const $=new N({props:y});function k(e){t[27].call(null,e)}H.push(()=>O($,"value",w));let C={style:t[14],label:"Billing Email"};void 0!==t[10].settings.billing_email&&(C.value=t[10].settings.billing_email);const S=new N({props:C});return H.push(()=>O(S,"value",k)),{c(){e=s("div"),e.textContent="Account Info",n=h(),l=s("p"),l.textContent="Fill in your details below to complete your account information.",r=h(),a($.$$.fragment),f=h(),a(S.$$.fragment),p(e,"class","border-b border-gray-300 m-3 text-theme text-xl text-bold"),p(l,"class","text-center text-gray-600 mb-3")},m(t,s){m(t,e,s),m(t,n,s),m(t,l,s),m(t,r,s),c($,t,s),m(t,f,s),c(S,t,s),b=!0},p(t,e){const n={};!u&&1024&e[0]&&(u=!0,n.value=t[10].settings.name,v(()=>u=!1)),$.$set(n);const s={};!g&&1024&e[0]&&(g=!0,s.value=t[10].settings.billing_email,v(()=>g=!1)),S.$set(s)},i(t){b||(o($.$$.fragment,t),o(S.$$.fragment,t),b=!0)},o(t){i($.$$.fragment,t),i(S.$$.fragment,t),b=!1},d(t){t&&x(e),t&&x(n),t&&x(l),t&&x(r),d($,t),t&&x(f),d(S,t)}}}function V(t){let e,n,r,a,c,o,i,d,u,f,g,b,w,v,C,S,_,P,M,E,L,T,A,H;return{c(){e=s("p"),e.textContent="Fill in billing details to proceed. You will not be charged until your subscription starts.",n=h(),r=s("form"),a=s("div"),c=s("div"),o=s("label"),o.textContent="Name",i=h(),d=s("input"),u=h(),f=s("div"),g=s("label"),g.textContent="Email Address",b=h(),w=s("input"),v=h(),C=s("div"),S=s("div"),_=s("label"),_.textContent="Card Details",P=h(),M=s("div"),E=h(),L=s("div"),T=h(),A=s("div"),A.innerHTML='<img alt="Powered by Stripe" style="width:350px;height:60px;" src="https://cdn.glitch.com/6e0f0f76-4d72-45e5-ac7d-1057233d751f%2Fsecure-payments-powered-by-stripe.png?v=1574239488502">',p(e,"class","text-center text-gray-500"),p(o,"for","name"),p(o,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),p(d,"class","w-64 px-3"),p(d,"placeholder","Jenny Rosen"),d.required=!0,p(c,"class","w-full p-3"),p(g,"for","email"),p(g,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),p(w,"class","w-64 px-3"),p(w,"type","email"),p(w,"placeholder","jenny.rosen@example.com"),w.required=!0,p(f,"class","w-full p-3"),p(a,"class","flex flex-wrap -mx-3 mb-6"),p(_,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),p(M,"class","px-3 pt-5"),p(L,"role","alert"),p(A,"class","w-full mt-3"),p(S,"class","w-full px-3"),p(C,"class","flex flex-wrap -mx-3 mb-6"),p(r,"action","/charge"),p(r,"method","post"),p(r,"id","payment-form"),p(r,"class","svelte-r9anwp")},m(s,p,x){m(s,e,p),m(s,n,p),m(s,r,p),l(r,a),l(a,c),l(c,o),l(c,i),l(c,d),y(d,t[2]),l(a,u),l(a,f),l(f,g),l(f,b),l(f,w),y(w,t[3]),l(r,v),l(r,C),l(C,S),l(S,_),l(S,P),l(S,M),t[30](M),l(S,E),l(S,L),t[31](L),l(S,T),l(S,A),x&&$(H),H=[k(d,"input",t[28]),k(w,"input",t[29])]},p(t,e){4&e[0]&&d.value!==t[2]&&y(d,t[2]),8&e[0]&&w.value!==t[3]&&y(w,t[3])},d(s){s&&x(e),s&&x(n),s&&x(r),t[30](null),t[31](null),$(H)}}}function X(t){let e,n,l;function r(t,e){return t[4]?Z:tt}let a=r(t),c=a(t);return{c(){e=s("p"),e.textContent="Select a Subscription Plan.",n=h(),c.c(),l=C(),p(e,"class","text-center text-gray-500")},m(t,s){m(t,e,s),m(t,n,s),c.m(t,s),m(t,l,s)},p(t,e){a===(a=r(t))&&c?c.p(t,e):(c.d(1),c=a(t),c&&(c.c(),c.m(l.parentNode,l)))},d(t){t&&x(e),t&&x(n),c.d(t),t&&x(l)}}}function Z(t){let e,n=t[4],l=[];for(let e=0;e<n.length;e+=1)l[e]=et(q(t,n,e));return{c(){e=s("div");for(let t=0;t<l.length;t+=1)l[t].c();p(e,"class","font-sans container m-auto flex flex-col flex-wrap sm:flex-row justify-center")},m(t,n){m(t,e,n);for(let t=0;t<l.length;t+=1)l[t].m(e,null)},p(t,s){if(48&s[0]){let r;for(n=t[4],r=0;r<n.length;r+=1){const a=q(t,n,r);l[r]?l[r].p(a,s):(l[r]=et(a),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(t){t&&x(e),_(l,t)}}}function tt(t){let e;return{c(){e=b("Loading plans.. One moment.")},m(t,n){m(t,e,n)},p:w,d(t){t&&x(e)}}}function et(t){let e,n,r,a,c,o,i,d,u,f,g,w,v,y,$=t[35].nickname+"",C=j(t[35].metadata.desc)+"",_=t[35].amount/100+"",P=t[35].interval+"";function M(...e){return t[32](t[35],...e)}return{c(){e=s("div"),n=s("h2"),r=b($),a=h(),c=s("p"),o=h(),i=s("p"),d=b("RM"),u=b(_),f=b(" / "),g=b(P),w=h(),p(n,"class","font-bold text-theme text-xl"),p(i,"class","text-gray-500 font-bold"),p(e,"class",v="border mx-3 my-3 p-3 shadow w-1/3 cursor-pointer"+(t[5]==t[35].id?" border-green-500":""))},m(t,s,p){m(t,e,s),l(e,n),l(n,r),l(e,a),l(e,c),c.innerHTML=C,l(e,o),l(e,i),l(i,d),l(i,u),l(i,f),l(i,g),l(e,w),p&&y(),y=k(e,"click",M)},p(n,s){t=n,16&s[0]&&$!==($=t[35].nickname+"")&&S(r,$),16&s[0]&&C!==(C=j(t[35].metadata.desc)+"")&&(c.innerHTML=C),16&s[0]&&_!==(_=t[35].amount/100+"")&&S(u,_),16&s[0]&&P!==(P=t[35].interval+"")&&S(g,P),48&s[0]&&v!==(v="border mx-3 my-3 p-3 shadow w-1/3 cursor-pointer"+(t[5]==t[35].id?" border-green-500":""))&&p(e,"class",v)},d(t){t&&x(e),y()}}}function nt(t){let e,n,r,a,c,o,i,d,u,f,g,b,w,v,C,S=""!=t[6].error&&st(t);return{c(){e=s("p"),e.innerHTML="\n    Your account is almost done! What&#39;s left now is to link <b>GetOrders</b> to a POS Cloud. If you do not need POS integration, press on <b>&#39;Skip&#39;</b> to continue.",n=h(),r=s("form"),a=s("div"),c=s("div"),o=s("label"),o.textContent="Account Email",i=h(),d=s("input"),u=h(),f=s("div"),g=s("label"),g.textContent="Password",b=h(),w=s("input"),v=h(),S&&S.c(),p(e,"class","text-center text-gray-600"),p(o,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),p(d,"class","border rounded shadow w-64 p-3"),p(d,"type","email"),p(d,"placeholder","johnyappleseed@example.com"),d.required=!0,p(c,"class","w-full p-3"),p(g,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),p(w,"class","border rounded shadow w-64 p-3"),p(w,"type","password"),p(w,"placeholder","∙∙∙∙∙∙∙∙∙∙"),w.required=!0,p(f,"class","w-full p-3"),p(a,"class","flex flex-wrap mb-6"),p(r,"action","/login"),p(r,"method","post")},m(s,p,x){m(s,e,p),m(s,n,p),m(s,r,p),l(r,a),l(a,c),l(c,o),l(c,i),l(c,d),y(d,t[6].username),l(a,u),l(a,f),l(f,g),l(f,b),l(f,w),y(w,t[6].password),l(r,v),S&&S.m(r,null),x&&$(C),C=[k(d,"input",t[33]),k(w,"input",t[34])]},p(t,e){64&e[0]&&d.value!==t[6].username&&y(d,t[6].username),64&e[0]&&w.value!==t[6].password&&y(w,t[6].password),""!=t[6].error?S?S.p(t,e):(S=st(t),S.c(),S.m(r,null)):S&&(S.d(1),S=null)},d(t){t&&x(e),t&&x(n),t&&x(r),S&&S.d(),$(C)}}}function st(t){let e,n,r,a,c,o=t[6].error+"";return{c(){e=s("div"),n=s("strong"),n.textContent="Error",r=h(),a=s("span"),c=b(o),p(n,"class","font-bold"),p(a,"class","block sm:inline"),p(e,"class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative"),p(e,"role","alert")},m(t,s){m(t,e,s),l(e,n),l(e,r),l(e,a),l(a,c)},p(t,e){64&e[0]&&o!==(o=t[6].error+"")&&S(c,o)},d(t){t&&x(e)}}}function lt(t){let e,n,r,a,c,o,i,d,u,f,g,b,w,v,y,$,k,C,S;function _(t,e){return t[7]||5!=t[10].settings.step?rt:at}let P=_(t),M=P(t);function E(t,e){return t[7]?t[8]+1<t[7].length?ot:ct:it}let L=E(t),T=L(t);function A(t,e){return t[7]?dt:ut}let H=A(t),I=H(t);function O(t,e){return 5==t[10].settings.step?mt:pt}let j=O(t),N=j(t);return{c(){e=s("div"),e.textContent="Preparing Your Account",n=h(),r=s("div"),a=s("table"),c=s("tbody"),o=s("tr"),i=s("td"),M.c(),d=h(),u=s("span"),u.textContent="Retrieve Outlets Information",f=h(),g=s("tr"),b=s("td"),T.c(),w=h(),v=s("span"),I.c(),y=h(),$=s("tr"),k=s("td"),N.c(),C=h(),S=s("span"),S.textContent="Save Changes",p(e,"class","border-b border-gray-300 m-3 text-theme text-xl text-bold"),p(u,"class","pl-3"),p(i,"class","border px-4 py-2"),p(v,"class","pl-3"),p(b,"class","border px-4 py-2"),p(g,"class","bg-gray-100"),p(S,"class","pl-3"),p(k,"class","border px-4 py-2"),p(a,"class","table-auto"),p(r,"class","p-3")},m(t,s){m(t,e,s),m(t,n,s),m(t,r,s),l(r,a),l(a,c),l(c,o),l(o,i),M.m(i,null),l(i,d),l(i,u),l(c,f),l(c,g),l(g,b),T.m(b,null),l(b,w),l(b,v),I.m(v,null),l(c,y),l(c,$),l($,k),N.m(k,null),l(k,C),l(k,S)},p(t,e){P!==(P=_(t))&&(M.d(1),M=P(t),M&&(M.c(),M.m(i,d))),L!==(L=E(t))&&(T.d(1),T=L(t),T&&(T.c(),T.m(b,w))),H===(H=A(t))&&I?I.p(t,e):(I.d(1),I=H(t),I&&(I.c(),I.m(v,null))),j!==(j=O(t))&&(N.d(1),N=j(t),N&&(N.c(),N.m(k,C)))},d(t){t&&x(e),t&&x(n),t&&x(r),M.d(),T.d(),I.d(),N.d()}}}function rt(t){let e;return{c(){e=s("i"),p(e,"class","fas fa-check-circle text-theme")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function at(t){let e;return{c(){e=s("i"),p(e,"class","fas fa-spinner fa-spin")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function ct(t){let e;return{c(){e=s("i"),p(e,"class","fas fa-check-circle text-theme")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function ot(t){let e;return{c(){e=s("i"),p(e,"class","fas fa-spinner fa-spin")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function it(t){let e;return{c(){e=s("i"),p(e,"class","fas fa-ellipsis-h")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function dt(t){let e,n,r,a,c,o,i,d,u=t[7][t[8]].name+"",p=t[8]+1+"",f=t[7].length+"";return{c(){e=b("Now Syncing "),n=s("b"),r=b(u),a=b(" ("),c=b(p),o=b(" / "),i=b(f),d=b(")")},m(t,s){m(t,e,s),m(t,n,s),l(n,r),m(t,a,s),m(t,c,s),m(t,o,s),m(t,i,s),m(t,d,s)},p(t,e){384&e[0]&&u!==(u=t[7][t[8]].name+"")&&S(r,u),256&e[0]&&p!==(p=t[8]+1+"")&&S(c,p),128&e[0]&&f!==(f=t[7].length+"")&&S(i,f)},d(t){t&&x(e),t&&x(n),t&&x(a),t&&x(c),t&&x(o),t&&x(i),t&&x(d)}}}function ut(t){let e;return{c(){e=b("Sync Outlet Products")},m(t,n){m(t,e,n)},p:w,d(t){t&&x(e)}}}function pt(t){let e;return{c(){e=s("i"),p(e,"class","fas fa-check-circle text-theme")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function mt(t){let e;return{c(){e=s("i"),p(e,"class","fas fa-spinner fa-spin")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function ft(t){let e,n,r,a,c,o=t[10].settings.step>5?"Done":"Next",i=4==t[10].settings.step&&gt(t);return{c(){e=s("div"),n=s("button"),r=b(o),a=h(),i&&i.c(),p(n,"class","rounded bg-theme hover:bg-gray-500 text-white font-bold py-2 px-4 w-1/2 h-12 my-2"),p(n,"type","button"),p(e,"class","text-center w-full")},m(s,o,d){m(s,e,o),l(e,n),l(n,r),l(e,a),i&&i.m(e,null),d&&c(),c=k(n,"click",t[13])},p(t,n){1024&n[0]&&o!==(o=t[10].settings.step>5?"Done":"Next")&&S(r,o),4==t[10].settings.step?i?i.p(t,n):(i=gt(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(t){t&&x(e),i&&i.d(),c()}}}function gt(t){let e,n;return{c(){e=s("button"),e.textContent="Skip",p(e,"class","rounded bg-orange-500 hover:bg-gray-500 text-white font-bold py-2 px-4 w-1/2 h-12 my-2"),p(e,"type","button")},m(s,l,r){m(s,e,l),r&&n(),n=k(e,"click",t[12])},p:w,d(t){t&&x(e),n()}}}function xt(t){let e,n,r,a,c,d,u,b,w,v,y,$,k,C,S,P,M,E,L,T,A,H,I,O=t[10].settings.step>1&&z(),j=t[11],N=[];for(let e=0;e<j.length;e+=1)N[e]=W(F(t,j,e));let q=t[11],B=[];for(let e=0;e<q.length;e+=1)B[e]=K(D(t,q,e));let R=1==t[10].settings.step&&Q(t),Y=2==t[10].settings.step&&V(t),G=3==t[10].settings.step&&X(t),J=4==t[10].settings.step&&nt(t),U=t[10].settings.step>4&&lt(t),Z=5!=t[10].settings.step&&ft(t);return{c(){e=s("div"),n=s("div"),r=s("div"),a=s("div"),c=h(),d=s("div"),u=s("div"),O&&O.c(),w=h();for(let t=0;t<N.length;t+=1)N[t].c();v=h(),y=s("div"),$=h(),k=s("div"),C=s("div"),C.textContent="Setup Profile",S=h();for(let t=0;t<B.length;t+=1)B[t].c();P=h(),M=s("div"),R&&R.c(),E=h(),Y&&Y.c(),L=h(),G&&G.c(),T=h(),J&&J.c(),A=h(),U&&U.c(),H=h(),Z&&Z.c(),p(a,"class","flex-1"),p(u,"class",b="w-10 h-10 bg-"+(t[10].settings.step>1?"green":"gray")+"-500 mx-auto rounded-full text-lg text-white flex items-center"),p(d,"class","flex-1"),p(y,"class","flex-1"),p(r,"class","flex pb-3"),p(C,"class","w-1/4"),p(k,"class","flex text-xs content-center text-center"),p(n,"class","max-w-xl mx-auto my-4 pb-4"),p(M,"class","border mx-3 my-3 p-3 shadow overflow-hidden"),p(e,"slot","content")},m(t,s){m(t,e,s),l(e,n),l(n,r),l(r,a),l(r,c),l(r,d),l(d,u),O&&O.m(u,null),l(r,w);for(let t=0;t<N.length;t+=1)N[t].m(r,null);l(r,v),l(r,y),l(n,$),l(n,k),l(k,C),l(k,S);for(let t=0;t<B.length;t+=1)B[t].m(k,null);l(e,P),l(e,M),R&&R.m(M,null),l(M,E),Y&&Y.m(M,null),l(M,L),G&&G.m(M,null),l(M,T),J&&J.m(M,null),l(M,A),U&&U.m(M,null),l(M,H),Z&&Z.m(M,null),I=!0},p(t,e){if(t[10].settings.step>1?O||(O=z(),O.c(),O.m(u,null)):O&&(O.d(1),O=null),(!I||1024&e[0]&&b!==(b="w-10 h-10 bg-"+(t[10].settings.step>1?"green":"gray")+"-500 mx-auto rounded-full text-lg text-white flex items-center"))&&p(u,"class",b),1024&e[0]){let n;for(j=t[11],n=0;n<j.length;n+=1){const s=F(t,j,n);N[n]?N[n].p(s,e):(N[n]=W(s),N[n].c(),N[n].m(r,v))}for(;n<N.length;n+=1)N[n].d(1);N.length=j.length}if(2048&e[0]){let n;for(q=t[11],n=0;n<q.length;n+=1){const s=D(t,q,n);B[n]?B[n].p(s,e):(B[n]=K(s),B[n].c(),B[n].m(k,null))}for(;n<B.length;n+=1)B[n].d(1);B.length=q.length}1==t[10].settings.step?R?(R.p(t,e),o(R,1)):(R=Q(t),R.c(),o(R,1),R.m(M,E)):R&&(f(),i(R,1,1,()=>{R=null}),g()),2==t[10].settings.step?Y?Y.p(t,e):(Y=V(t),Y.c(),Y.m(M,L)):Y&&(Y.d(1),Y=null),3==t[10].settings.step?G?G.p(t,e):(G=X(t),G.c(),G.m(M,T)):G&&(G.d(1),G=null),4==t[10].settings.step?J?J.p(t,e):(J=nt(t),J.c(),J.m(M,A)):J&&(J.d(1),J=null),t[10].settings.step>4?U?U.p(t,e):(U=lt(t),U.c(),U.m(M,H)):U&&(U.d(1),U=null),5!=t[10].settings.step?Z?Z.p(t,e):(Z=ft(t),Z.c(),Z.m(M,null)):Z&&(Z.d(1),Z=null)},i(t){I||(o(R),I=!0)},o(t){i(R),I=!1},d(t){t&&x(e),O&&O.d(),_(N,t),_(B,t),R&&R.d(),Y&&Y.d(),G&&G.d(),J&&J.d(),U&&U.d(),Z&&Z.d()}}}function ht(t){let e,n;return{c(){e=h(),n=h()},m(t,s){m(t,e,s),m(t,n,s)},p:w,i:w,o:w,d(t){t&&x(e),t&&x(n)}}}function bt(t){let e;const n=new r({props:{dismiss:"false",$$slots:{default:[ht],content:[xt],title:[G],loader:[Y]},$$scope:{ctx:t}}});return{c(){a(n.$$.fragment)},m(t,s){c(n,t,s),e=!0},p(t,e){const s={};2047&e[0]|4096&e[1]&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(o(n.$$.fragment,t),e=!0)},o(t){i(n.$$.fragment,t),e=!1},d(t){d(n,t)}}}function wt(t,e,n){let s,l,r;u(t,P,t=>n(10,s=t)),u(t,M,t=>n(17,l=t)),u(t,E,t=>n(18,r=t));let a,c,o,i,d,p,m="",f="",g=!1,x={username:"",password:"",error:""},h=0,b=!1;function w(){n(9,b=!0),L(T("/plans")).then(t=>{t.errorMessage?w():(n(4,i=t.data.sort((t,e)=>parseInt(t.metadata.sort)-parseInt(e.metadata.sort))),n(9,b=!1))})}function v(t){n(8,h=t);let e=p[t].id;L(T("/accounts/refresh"),{outlet_id:e}).then(e=>{t+1==p.length?y({step:s.settings.step+1}):v(t+1)})}function y(t){(async()=>{n(9,b=!0),await L(T("/settings"),t).then(t=>{A(P,s=t),n(9,b=!1),console.log(t)}).catch(t=>{})})()}return t.$$.update=()=>{64&t.$$.dirty[0]&&""!=x.password&&""!=x.error&&n(6,x.error="",x),66705&t.$$.dirty[0]&&s.settings&&(2==s.settings.step&&!g&&a&&((async()=>{n(9,b=!0),await L(T("/billing/intent"),{customer:s.id}).then(t=>{o=t.client_secret,n(9,b=!1)}).catch(t=>{})})(),n(16,g=!0)),3!=s.settings.step||i||w(),5!=s.settings.step||p||(n(9,b=!0),L(T("/accounts")).then(t=>{n(9,b=!1),A(M,l=t),n(7,p=[]),t.forEach(t=>{n(7,p=[...p,...t.outlets])}),console.log(p),v(0)}).catch(t=>{})))},[a,c,m,f,i,d,x,p,h,b,s,["Provide Billing Details","Select a Plan","Link Account"],function(){y({step:6,skip:"pos"})},function(){switch(s.settings.step){case 1:y({...s.settings,step:s.settings.step+3});case 2:if(g){n(9,b=!0);let t={name:m,email:f};(void 0).confirmCardSetup(o,{payment_method:{card:void 0,billing_details:t}}).then((function(e){n(9,b=!1),console.log(e),e.error||(n(9,b=!0),t.customer=s.id,t.payment_method=e.setupIntent.payment_method,L(T("/billing/confirm"),t).then(t=>{n(9,b=!1),y({step:s.settings.step+1})}).catch(t=>{}))}))}break;case 3:d&&(n(9,b=!0),L(T("/billing/subscribe"),{plan_id:d}).then(t=>{n(9,b=!1),y({step:s.settings.step+1})}).catch(t=>{}));break;case 4:""!=x.username&&""!=x.password&&(n(9,b=!0),L(T("/accounts/link"),x).then(t=>{n(9,b=!1),t.status?y({step:s.settings.step+1}):(n(6,x.password="",x),n(6,x.error=t.error||"An Error Occured. Try Again.",x))}).catch(t=>{}));break;case 6:A(E,r=[])}},{label:"w-32",container:"p-2"},o,g,l,r,void 0,void 0,{content:"overflow-y-scroll scrolling-touch"},w,v,{Account:{name:{desc:"Account name",value:""}},Points:{multiplier:{desc:"Points awarded per spending",value:1},rounding:{desc:"Rounding for spending amount",value:["no_rounding","round_down","round_up"]}}},y,function(t){s.settings.name=t,P.set(s)},function(t){s.settings.billing_email=t,P.set(s)},function(){m=this.value,n(2,m)},function(){f=this.value,n(3,f)},function(t){H[t?"unshift":"push"](()=>{n(0,a=t)})},function(t){H[t?"unshift":"push"](()=>{n(1,c=t)})},t=>n(5,d=t.id),function(){x.username=this.value,n(6,x)},function(){x.password=this.value,n(6,x)}]}export default class extends t{constructor(t){var r;super(),document.getElementById("svelte-r9anwp-style")||((r=s("style")).id="svelte-r9anwp-style",r.textContent="#payment-form.svelte-r9anwp input, .StripeElement{height:40px;color:#32325d;background-color:white;border:1px solid transparent;border-radius:4px;box-shadow:0 1px 3px 0 #e6ebf1;-webkit-transition:box-shadow 150ms ease;transition:box-shadow 150ms ease}#payment-form.svelte-r9anwp input:focus, .StripeElement--focus{box-shadow:0 1px 3px 0 #cfd7df}#payment-form.svelte-r9anwp .StripeElement--invalid{border-color:#fa755a}",l(document.head,r)),e(this,t,wt,bt,n,{},[-1,-1])}}
//# sourceMappingURL=Setup-8a5556b0.js.map
