import{S as e,i as t,s as n,e as s,a as l,b as a,c as o,d as i,l as r,a4 as u,a5 as c,a6 as g,a7 as d,h as f,t as p,g as m,k as $,r as v,o as h,u as y,y as _,j as b,m as x,v as w,p as k,x as j,q as L,R as N,z as R,G as T,H as A,F as D,D as C,E as I}from"./App-5a6eeec0.js";import{T as M}from"./UITextField-e5a90127.js";import{T as P}from"./UIToolbar-f5c62ad2.js";import{S}from"./UISegmented-323d7398.js";function U(e,t,n){const s=e.slice();return s[7]=t[n],s[9]=n,s}function F(e){let t,n,p,m,$,v,h,y,_;function b(...t){return e[6](e[9],...t)}return{c(){t=s("div"),n=s("input"),m=l(),$=s("button"),$.innerHTML='<i class="icon ion-md-close text-xl"></i>',v=l(),a(n,"type","text"),a(n,"class","flex-grow bg-gray-100 self-center"),a(n,"placeholder",e[2]),n.value=p=e[7],a($,"class","flex-none ml-2"),a(t,"class","flex rounded-lg bg-gray-100 p-2 my-2")},m(e,s,l){o(e,t,s),i(t,n),i(t,m),i(t,$),i(t,v),y=!0,l&&_(),_=r($,"click",b)},p(t,s){e=t,(!y||4&s)&&a(n,"placeholder",e[2]),(!y||1&s&&p!==(p=e[7])&&n.value!==p)&&(n.value=p)},i(e){y||(u(()=>{h||(h=c(t,d,{duration:300,easing:g},!0)),h.run(1)}),y=!0)},o(e){h||(h=c(t,d,{duration:300,easing:g},!1)),h.run(0),y=!1},d(e){e&&f(t),e&&h&&h.end(),_()}}}function H(e){let t,n,u,c,g,d,b,x,w,k,j=e[0],L=[];for(let t=0;t<j.length;t+=1)L[t]=F(U(e,j,t));const N=e=>h(L[e],1,1,()=>{L[e]=null});return{c(){t=s("div"),n=s("div"),u=s("label"),c=p(e[1]),g=l(),d=s("button"),d.innerHTML='<i class="icon ion-md-add text-xl"></i>',b=l();for(let e=0;e<L.length;e+=1)L[e].c();a(u,"class","flex-grow self-center text-xs uppercase text-gray-500 font-semibold"),a(d,"class","flex-none"),a(n,"class","flex"),a(t,"class",x=e[3].container)},m(s,l,a){o(s,t,l),i(t,n),i(n,u),i(u,c),i(n,g),i(n,d),i(t,b);for(let e=0;e<L.length;e+=1)L[e].m(t,null);w=!0,a&&k(),k=r(d,"click",e[4])},p(e,[n]){if((!w||2&n)&&m(c,e[1]),37&n){let s;for(j=e[0],s=0;s<j.length;s+=1){const l=U(e,j,s);L[s]?(L[s].p(l,n),$(L[s],1)):(L[s]=F(l),L[s].c(),$(L[s],1),L[s].m(t,null))}for(v(),s=j.length;s<L.length;s+=1)N(s);y()}(!w||8&n&&x!==(x=e[3].container))&&a(t,"class",x)},i(e){if(!w){for(let e=0;e<j.length;e+=1)$(L[e]);w=!0}},o(e){L=L.filter(Boolean);for(let e=0;e<L.length;e+=1)h(L[e]);w=!1},d(e){e&&f(t),_(L,e),k()}}}function G(e,t,n){let{value:s=[]}=t,{label:l=""}=t,{placeholder:a=""}=t,{style:o={}}=t;function i(e){n(0,s=[...s.slice(0,e),...s.slice(e+1,s.length)])}return e.$set=e=>{"value"in e&&n(0,s=e.value),"label"in e&&n(1,l=e.label),"placeholder"in e&&n(2,a=e.placeholder),"style"in e&&n(3,o=e.style)},[s,l,a,o,function(){n(0,s=[...s,""])},i,e=>i(e)]}class O extends e{constructor(e){super(),t(this,e,G,H,n,{value:0,label:1,placeholder:2,style:3})}}function q(e){let t,n,r,u,c,g,d,v,y,_,j,L,N,R,D,C,I,P,U,F,H,G,q,z,B,E,J,K,Q,V,W,X,Y,Z,ee=e[0].settings.short_id+"";function te(t){e[6].call(null,t)}let ne={style:e[3],label:"Name"};void 0!==e[0].settings.name&&(ne.value=e[0].settings.name);const se=new M({props:ne});function le(t){e[7].call(null,t)}T.push(()=>A(se,"value",te));let ae={style:e[3],label:"Identifier"};void 0!==e[0].settings.short_id&&(ae.value=e[0].settings.short_id);const oe=new M({props:ae});function ie(t){e[8].call(null,t)}T.push(()=>A(oe,"value",le));let re={style:e[3],label:"Delivery Fees"};void 0!==e[0].settings.delivery_fees&&(re.value=e[0].settings.delivery_fees);const ue=new M({props:re});function ce(t){e[9].call(null,t)}T.push(()=>A(ue,"value",ie));let ge={style:e[3],label:"Phone Number"};void 0!==e[0].settings.phone&&(ge.value=e[0].settings.phone);const de=new M({props:ge});function fe(t){e[10].call(null,t)}T.push(()=>A(de,"value",ce));let pe={style:e[3],label:"Checkout Notes"};void 0!==e[0].settings.checkout_notes&&(pe.value=e[0].settings.checkout_notes);const me=new M({props:pe});function $e(t){e[11].call(null,t)}T.push(()=>A(me,"value",fe));let ve={style:e[3],label:"Order Methods",segments:[{name:"All",value:""},{name:"No Delivery",value:"no_delivery"}]};void 0!==e[0].settings.order_methods&&(ve.value=e[0].settings.order_methods);const he=new S({props:ve});function ye(t){e[12].call(null,t)}T.push(()=>A(he,"value",$e));let _e={style:e[3],label:"List Layout",segments:[{name:"Grid",value:""},{name:"List",value:"list"}]};void 0!==e[0].settings.list_style&&(_e.value=e[0].settings.list_style);const be=new S({props:_e});function xe(t){e[13].call(null,t)}T.push(()=>A(be,"value",ye));let we={style:e[3],label:"Multiplier"};void 0!==e[0].settings.multiplier&&(we.value=e[0].settings.multiplier);const ke=new M({props:we});function je(t){e[14].call(null,t)}T.push(()=>A(ke,"value",xe));let Le={style:e[3],label:"Rounding",segments:[{name:"No Rounding",value:""},{name:"Round Down",value:"round_down"},{name:"Round Up",value:"round_up"}]};void 0!==e[0].settings.rounding&&(Le.value=e[0].settings.rounding);const Ne=new S({props:Le});function Re(t){e[15].call(null,t)}T.push(()=>A(Ne,"value",je));let Te={style:e[3],label:"Deduction Presets",placeholder:"e.g : 100"};void 0!==e[0].settings.deduct_presets&&(Te.value=e[0].settings.deduct_presets);const Ae=new O({props:Te});return T.push(()=>A(Ae,"value",Re)),{c(){t=s("p"),t.textContent="Account",n=l(),b(se.$$.fragment),u=l(),c=s("p"),c.textContent="Orders",g=l(),d=s("div"),b(oe.$$.fragment),y=l(),_=s("p"),j=s("a"),L=p("https://instant.getorders.app/?m="),N=p(ee),D=l(),b(ue.$$.fragment),I=l(),b(de.$$.fragment),U=l(),b(me.$$.fragment),H=l(),b(he.$$.fragment),q=l(),b(be.$$.fragment),B=l(),E=s("p"),E.textContent="Loyalty",J=l(),K=s("div"),b(ke.$$.fragment),V=l(),b(Ne.$$.fragment),X=l(),b(Ae.$$.fragment),a(t,"class","text-xl font-bold mt-3"),a(c,"class","text-xl font-bold mt-3"),a(j,"href",R="https://instant.getorders.app/?m="+e[0].settings.short_id),a(j,"target","_blank"),a(_,"class","text-xs px-3 mb-3 font-semibold"),a(E,"class","text-xl font-bold mt-3")},m(e,s){o(e,t,s),o(e,n,s),x(se,e,s),o(e,u,s),o(e,c,s),o(e,g,s),o(e,d,s),x(oe,d,null),i(d,y),i(d,_),i(_,j),i(j,L),i(j,N),i(d,D),x(ue,d,null),i(d,I),x(de,d,null),i(d,U),x(me,d,null),i(d,H),x(he,d,null),i(d,q),x(be,d,null),o(e,B,s),o(e,E,s),o(e,J,s),o(e,K,s),x(ke,K,null),i(K,V),x(Ne,K,null),i(K,X),x(Ae,K,null),Z=!0},p(e,t){const n={};!r&&1&t&&(r=!0,n.value=e[0].settings.name,w(()=>r=!1)),se.$set(n);const s={};!v&&1&t&&(v=!0,s.value=e[0].settings.short_id,w(()=>v=!1)),oe.$set(s),(!Z||1&t)&&ee!==(ee=e[0].settings.short_id+"")&&m(N,ee),(!Z||1&t&&R!==(R="https://instant.getorders.app/?m="+e[0].settings.short_id))&&a(j,"href",R);const l={};!C&&1&t&&(C=!0,l.value=e[0].settings.delivery_fees,w(()=>C=!1)),ue.$set(l);const o={};!P&&1&t&&(P=!0,o.value=e[0].settings.phone,w(()=>P=!1)),de.$set(o);const i={};!F&&1&t&&(F=!0,i.value=e[0].settings.checkout_notes,w(()=>F=!1)),me.$set(i);const u={};!G&&1&t&&(G=!0,u.value=e[0].settings.order_methods,w(()=>G=!1)),he.$set(u);const c={};!z&&1&t&&(z=!0,c.value=e[0].settings.list_style,w(()=>z=!1)),be.$set(c);const g={};!Q&&1&t&&(Q=!0,g.value=e[0].settings.multiplier,w(()=>Q=!1)),ke.$set(g);const d={};!W&&1&t&&(W=!0,d.value=e[0].settings.rounding,w(()=>W=!1)),Ne.$set(d);const f={};!Y&&1&t&&(Y=!0,f.value=e[0].settings.deduct_presets,w(()=>Y=!1)),Ae.$set(f)},i(e){Z||($(se.$$.fragment,e),$(oe.$$.fragment,e),$(ue.$$.fragment,e),$(de.$$.fragment,e),$(me.$$.fragment,e),$(he.$$.fragment,e),$(be.$$.fragment,e),$(ke.$$.fragment,e),$(Ne.$$.fragment,e),$(Ae.$$.fragment,e),Z=!0)},o(e){h(se.$$.fragment,e),h(oe.$$.fragment,e),h(ue.$$.fragment,e),h(de.$$.fragment,e),h(me.$$.fragment,e),h(he.$$.fragment,e),h(be.$$.fragment,e),h(ke.$$.fragment,e),h(Ne.$$.fragment,e),h(Ae.$$.fragment,e),Z=!1},d(e){e&&f(t),e&&f(n),k(se,e),e&&f(u),e&&f(c),e&&f(g),e&&f(d),k(oe),k(ue),k(de),k(me),k(he),k(be),e&&f(B),e&&f(E),e&&f(J),e&&f(K),k(ke),k(Ne),k(Ae)}}}function z(e){let t,n,s;const a=new P({props:{class:"border-b border-gray-300",tools:e[1]}});a.$on("selected",e[2]);let i=e[0].settings&&q(e);return{c(){b(a.$$.fragment),t=l(),i&&i.c(),n=j()},m(e,l){x(a,e,l),o(e,t,l),i&&i.m(e,l),o(e,n,l),s=!0},p(e,[t]){e[0].settings?i?(i.p(e,t),$(i,1)):(i=q(e),i.c(),$(i,1),i.m(n.parentNode,n)):i&&(v(),h(i,1,1,()=>{i=null}),y())},i(e){s||($(a.$$.fragment,e),$(i),s=!0)},o(e){h(a.$$.fragment,e),h(i),s=!1},d(e){k(a,e),e&&f(t),i&&i.d(e),e&&f(n)}}}function B(e,t,n){let s,l;L(e,N,e=>n(4,s=e)),L(e,R,e=>n(0,l=e));return[l,[{name:"Save",icon:"cloud-done",function:"save"}],function(e){switch(e.detail.function){case"save":D(N,s=!0),fetch(C("/settings"),I(l.settings)).then(e=>e.json()).then(e=>{D(R,l=e),D(N,s=!1)}).catch(e=>{})}},{container:"p-2 md:w-1/2 flex-none",label:"w-32"},s,{Account:{name:{desc:"Account name",value:"",key:"name"}},Points:{multiplier:{desc:"Points awarded per spending",value:1,key:"multiplier"},rounding:{desc:"Rounding for spending amount",value:["no_rounding","round_down","round_up"],key:"rounding"}}},function(e){l.settings.name=e,R.set(l)},function(e){l.settings.short_id=e,R.set(l)},function(e){l.settings.delivery_fees=e,R.set(l)},function(e){l.settings.phone=e,R.set(l)},function(e){l.settings.checkout_notes=e,R.set(l)},function(e){l.settings.order_methods=e,R.set(l)},function(e){l.settings.list_style=e,R.set(l)},function(e){l.settings.multiplier=e,R.set(l)},function(e){l.settings.rounding=e,R.set(l)},function(e){l.settings.deduct_presets=e,R.set(l)}]}export default class extends e{constructor(e){super(),t(this,e,B,z,n,{})}}
//# sourceMappingURL=Settings-cf429aed.js.map
