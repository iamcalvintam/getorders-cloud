import{S as e,i as t,s as n,e as s,a as l,b as o,c as a,d as i,l as r,P as c,aa as u,ab as g,ac as d,h as f,t as m,g as p,k as $,r as v,o as h,u as b,y as x,j as y,ad as _,m as w,v as k,Z as C,_ as T,Q as S,n as I,w as D,p as L,x as N,q as A,U as P,z as j,F as R,G as U,C as M,D as F,E as B,T as O}from"./Web-e295f046.js";import{T as E}from"./UITextField-99997e85.js";import{T as G}from"./UIToolbar-5535454f.js";import{S as z}from"./UISegmented-8e6dd59f.js";import"./dayjs.min-056200c8.js";function H(e,t,n){const s=e.slice();return s[7]=t[n],s[9]=n,s}function W(e){let t,n,m,p,$,v,h,b,x,y;function _(...t){return e[6](e[9],...t)}return{c(){t=s("div"),n=s("input"),p=l(),$=s("button"),$.innerHTML='<i class="icon ion-md-close text-xl"></i>',v=l(),o(n,"type","text"),o(n,"class","flex-grow bg-gray-100 self-center"),o(n,"placeholder",e[2]),n.value=m=e[7],o($,"class","flex-none ml-2"),o(t,"class","flex rounded-lg bg-gray-100 p-2 my-2")},m(e,s){a(e,t,s),i(t,n),i(t,p),i(t,$),i(t,v),b=!0,x||(y=r($,"click",_),x=!0)},p(t,s){e=t,(!b||4&s)&&o(n,"placeholder",e[2]),(!b||1&s&&m!==(m=e[7])&&n.value!==m)&&(n.value=m)},i(e){b||(c(()=>{h||(h=u(t,d,{duration:300,easing:g},!0)),h.run(1)}),b=!0)},o(e){h||(h=u(t,d,{duration:300,easing:g},!1)),h.run(0),b=!1},d(e){e&&f(t),e&&h&&h.end(),x=!1,y()}}}function q(e){let t,n,c,u,g,d,y,_,w,k,C,T=e[0],S=[];for(let t=0;t<T.length;t+=1)S[t]=W(H(e,T,t));const I=e=>h(S[e],1,1,()=>{S[e]=null});return{c(){t=s("div"),n=s("div"),c=s("label"),u=m(e[1]),g=l(),d=s("button"),d.innerHTML='<i class="icon ion-md-add text-xl"></i>',y=l();for(let e=0;e<S.length;e+=1)S[e].c();o(c,"class","flex-grow self-center text-xs uppercase text-gray-500 font-semibold"),o(d,"class","flex-none"),o(n,"class","flex"),o(t,"class",_=e[3].container)},m(s,l){a(s,t,l),i(t,n),i(n,c),i(c,u),i(n,g),i(n,d),i(t,y);for(let e=0;e<S.length;e+=1)S[e].m(t,null);w=!0,k||(C=r(d,"click",e[4]),k=!0)},p(e,[n]){if((!w||2&n)&&p(u,e[1]),37&n){let s;for(T=e[0],s=0;s<T.length;s+=1){const l=H(e,T,s);S[s]?(S[s].p(l,n),$(S[s],1)):(S[s]=W(l),S[s].c(),$(S[s],1),S[s].m(t,null))}for(v(),s=T.length;s<S.length;s+=1)I(s);b()}(!w||8&n&&_!==(_=e[3].container))&&o(t,"class",_)},i(e){if(!w){for(let e=0;e<T.length;e+=1)$(S[e]);w=!0}},o(e){S=S.filter(Boolean);for(let e=0;e<S.length;e+=1)h(S[e]);w=!1},d(e){e&&f(t),x(S,e),k=!1,C()}}}function Q(e,t,n){let{value:s=[]}=t,{label:l=""}=t,{placeholder:o=""}=t,{style:a={}}=t;function i(e){n(0,s=[...s.slice(0,e),...s.slice(e+1,s.length)])}return e.$$set=e=>{"value"in e&&n(0,s=e.value),"label"in e&&n(1,l=e.label),"placeholder"in e&&n(2,o=e.placeholder),"style"in e&&n(3,a=e.style)},[s,l,o,a,function(){n(0,s=[...s,""])},i,e=>i(e)]}class Y extends e{constructor(e){super(),t(this,e,Q,q,n,{value:0,label:1,placeholder:2,style:3})}}function Z(e,t,n){const s=e.slice();return s[39]=t[n],s}function J(e,t,n){const s=e.slice();return s[42]=t[n],s}function K(e){let t,n,c,u,g,d,v,b,x,C,T,S,I,D,N,A,P,j,M,F,B,O,G,H,W,q,Q,Z,J,K,se,oe,ae,ie,re,ce,ue,ge,de,fe,me,pe,$e,ve,he,be,xe,ye,_e,we,ke,Ce,Te,Se,Ie,De,Le,Ne,Ae,Pe,je,Re,Ue,Me,Fe,Be,Oe,Ee,Ge,ze,He,We,qe,Qe,Ye,Ze,Je,Ke,Ve,Xe,et,tt,nt,st,lt,ot,at,it,rt,ct,ut,gt,dt,ft,mt,pt,$t,vt,ht,bt=e[2].settings.short_id+"";function xt(t){e[10].call(null,t)}let yt={style:e[8],label:"Business Name"};function _t(e,t){return e[2].settings.logo_raw?V:X}void 0!==e[2].settings.name&&(yt.value=e[2].settings.name),c=new E({props:yt}),R.push(()=>U(c,"value",xt));let wt=_t(e),kt=wt(e),Ct=e[2].settings.logo&&ee(e);function Tt(e,t){return e[2].settings.timeslots.length>0?ne:te}let St=Tt(e),It=St(e),Dt=e[2].settings.timeslots.length>0&&le(e);function Lt(t){e[18].call(null,t)}let Nt={style:e[8],label:"Address"};function At(t){e[19].call(null,t)}void 0!==e[2].settings.address&&(Nt.value=e[2].settings.address),Q=new E({props:Nt}),R.push(()=>U(Q,"value",Lt));let Pt={style:e[8],label:"Address 2"};function jt(t){e[20].call(null,t)}void 0!==e[2].settings.address2&&(Pt.value=e[2].settings.address2),K=new E({props:Pt}),R.push(()=>U(K,"value",At));let Rt={style:e[8],label:"Postcode"};function Ut(t){e[21].call(null,t)}void 0!==e[2].settings.postcode&&(Rt.value=e[2].settings.postcode),ae=new E({props:Rt}),R.push(()=>U(ae,"value",jt));let Mt={style:e[8],label:"Coordinates",placeholder:"3.123123,4.123231"};function Ft(t){e[22].call(null,t)}void 0!==e[2].settings.coordinates&&(Mt.value=e[2].settings.coordinates),ce=new E({props:Mt}),R.push(()=>U(ce,"value",Ut));let Bt={style:e[8],label:"Status",segments:[{name:"Online",value:!1},{name:"Offline",value:!0}]};function Ot(t){e[23].call(null,t)}void 0!==e[2].settings.offline&&(Bt.value=e[2].settings.offline),ve=new z({props:Bt}),R.push(()=>U(ve,"value",Ft));let Et={style:e[8],label:"Identifier"};function Gt(t){e[24].call(null,t)}void 0!==e[2].settings.short_id&&(Et.value=e[2].settings.short_id),xe=new E({props:Et}),R.push(()=>U(xe,"value",Ot));let zt={style:e[8],label:"SST Tax (%)"};function Ht(t){e[25].call(null,t)}void 0!==e[2].settings.tax&&(zt.value=e[2].settings.tax),De=new E({props:zt}),R.push(()=>U(De,"value",Gt));let Wt={style:e[8],label:"Delivery Fees"};function qt(t){e[26].call(null,t)}void 0!==e[2].settings.delivery_fees&&(Wt.value=e[2].settings.delivery_fees),Ae=new E({props:Wt}),R.push(()=>U(Ae,"value",Ht));let Qt={style:e[8],label:"Phone Number"};function Yt(t){e[27].call(null,t)}void 0!==e[2].settings.phone&&(Qt.value=e[2].settings.phone),Re=new E({props:Qt}),R.push(()=>U(Re,"value",qt));let Zt={style:e[8],label:"Announcement"};function Jt(t){e[28].call(null,t)}void 0!==e[2].settings.announcement&&(Zt.value=e[2].settings.announcement),Fe=new E({props:Zt}),R.push(()=>U(Fe,"value",Yt));let Kt={style:e[8],label:"Checkout Notes"};function Vt(t){e[29].call(null,t)}void 0!==e[2].settings.checkout_notes&&(Kt.value=e[2].settings.checkout_notes),Ee=new E({props:Kt}),R.push(()=>U(Ee,"value",Jt));let Xt={style:e[8],label:"Order Methods",segments:[{name:"All",value:""},{name:"No Delivery",value:"no_delivery"},{name:"No Pickup",value:"no_pickup"}]};function en(t){e[30].call(null,t)}void 0!==e[2].settings.order_methods&&(Xt.value=e[2].settings.order_methods),He=new z({props:Xt}),R.push(()=>U(He,"value",Vt));let tn={style:e[8],label:"List Layout",segments:[{name:"Grid",value:""},{name:"List",value:"list"}]};function nn(t){e[31].call(null,t)}void 0!==e[2].settings.list_style&&(tn.value=e[2].settings.list_style),Qe=new z({props:tn}),R.push(()=>U(Qe,"value",en));let sn={style:e[8],label:"Multiplier"};function ln(t){e[32].call(null,t)}void 0!==e[2].settings.multiplier&&(sn.value=e[2].settings.multiplier),Xe=new E({props:sn}),R.push(()=>U(Xe,"value",nn));let on={style:e[8],label:"Rounding",segments:[{name:"No Rounding",value:""},{name:"Round Down",value:"round_down"},{name:"Round Up",value:"round_up"}]};function an(t){e[33].call(null,t)}void 0!==e[2].settings.rounding&&(on.value=e[2].settings.rounding),nt=new z({props:on}),R.push(()=>U(nt,"value",ln));let rn={style:e[8],label:"Deduction Presets",placeholder:"e.g : 100"};function cn(t){e[34].call(null,t)}void 0!==e[2].settings.deduct_presets&&(rn.value=e[2].settings.deduct_presets),ot=new Y({props:rn}),R.push(()=>U(ot,"value",an));let un={style:e[8],label:"Google Analytic ID"};function gn(t){e[35].call(null,t)}void 0!==e[2].settings.google_analytic_id&&(un.value=e[2].settings.google_analytic_id),gt=new E({props:un}),R.push(()=>U(gt,"value",cn));let dn={style:e[8],label:"Facebook Pixel ID"};return void 0!==e[2].settings.facebook_pixel_id&&(dn.value=e[2].settings.facebook_pixel_id),mt=new E({props:dn}),R.push(()=>U(mt,"value",gn)),{c(){t=s("p"),t.textContent="Your Details",n=l(),y(c.$$.fragment),g=l(),d=s("div"),v=s("label"),v.textContent="Business Logo",b=l(),x=s("label"),kt.c(),C=l(),T=s("input"),I=l(),Ct&&Ct.c(),N=l(),A=s("div"),P=s("label"),j=m("Time Slots"),F=l(),B=s("div"),It.c(),O=l(),Dt&&Dt.c(),H=l(),W=s("p"),W.textContent="Pickup Location",q=l(),y(Q.$$.fragment),J=l(),y(K.$$.fragment),oe=l(),y(ae.$$.fragment),re=l(),y(ce.$$.fragment),ge=l(),de=s("p"),de.textContent="Ensure that the details above is correct, as price estimation and riders depend on the accuracy of this information.",fe=l(),me=s("p"),me.textContent="Orders",pe=l(),$e=s("div"),y(ve.$$.fragment),be=l(),y(xe.$$.fragment),_e=l(),we=s("p"),ke=s("a"),Ce=m("https://getorders.app/#"),Te=m(bt),Ie=l(),y(De.$$.fragment),Ne=l(),y(Ae.$$.fragment),je=l(),y(Re.$$.fragment),Me=l(),y(Fe.$$.fragment),Oe=l(),y(Ee.$$.fragment),ze=l(),y(He.$$.fragment),qe=l(),y(Qe.$$.fragment),Ze=l(),Je=s("p"),Je.textContent="Loyalty",Ke=l(),Ve=s("div"),y(Xe.$$.fragment),tt=l(),y(nt.$$.fragment),lt=l(),y(ot.$$.fragment),it=l(),rt=s("p"),rt.textContent="Website",ct=l(),ut=s("div"),y(gt.$$.fragment),ft=l(),y(mt.$$.fragment),o(t,"class","sect text-theme svelte-1cgd9p3"),o(v,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),o(T,"type","file"),o(T,"class","hidden"),o(x,"class",S="p-2 block rounded cursor-pointer border shadow-sm "+(e[2].settings.logo_raw?"bg-theme text-white":"")),o(d,"class",D=_(e[8].container)+" svelte-1cgd9p3"),o(P,"class",M="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 "+e[8].label+" svelte-1cgd9p3"),o(B,"class","border rounded shadow-sm p-2 w-full flex flex-wrap mb-2"),o(A,"class",G=_(e[8].container)+" svelte-1cgd9p3"),o(W,"class","sect text-theme svelte-1cgd9p3"),o(de,"class","text-xs px-3 mb-3 font-semibold"),o(me,"class","sect text-theme svelte-1cgd9p3"),o(ke,"href",Se="https://getorders.app/#"+e[2].settings.short_id),o(ke,"target","_blank"),o(we,"class","text-xs px-3 mb-3 font-semibold"),o(Je,"class","sect text-theme svelte-1cgd9p3"),o(rt,"class","sect text-theme svelte-1cgd9p3")},m(s,l){a(s,t,l),a(s,n,l),w(c,s,l),a(s,g,l),a(s,d,l),i(d,v),i(d,b),i(d,x),kt.m(x,null),i(x,C),i(x,T),e[11](T),i(d,I),Ct&&Ct.m(d,null),a(s,N,l),a(s,A,l),i(A,P),i(P,j),i(A,F),i(A,B),It.m(B,null),i(A,O),Dt&&Dt.m(A,null),a(s,H,l),a(s,W,l),a(s,q,l),w(Q,s,l),a(s,J,l),w(K,s,l),a(s,oe,l),w(ae,s,l),a(s,re,l),w(ce,s,l),a(s,ge,l),a(s,de,l),a(s,fe,l),a(s,me,l),a(s,pe,l),a(s,$e,l),w(ve,$e,null),i($e,be),w(xe,$e,null),i($e,_e),i($e,we),i(we,ke),i(ke,Ce),i(ke,Te),i($e,Ie),w(De,$e,null),i($e,Ne),w(Ae,$e,null),i($e,je),w(Re,$e,null),i($e,Me),w(Fe,$e,null),i($e,Oe),w(Ee,$e,null),i($e,ze),w(He,$e,null),i($e,qe),w(Qe,$e,null),a(s,Ze,l),a(s,Je,l),a(s,Ke,l),a(s,Ve,l),w(Xe,Ve,null),i(Ve,tt),w(nt,Ve,null),i(Ve,lt),w(ot,Ve,null),a(s,it,l),a(s,rt,l),a(s,ct,l),a(s,ut,l),w(gt,ut,null),i(ut,ft),w(mt,ut,null),$t=!0,vt||(ht=r(T,"change",e[9]),vt=!0)},p(e,t){const n={};!u&&4&t[0]&&(u=!0,n.value=e[2].settings.name,k(()=>u=!1)),c.$set(n),wt!==(wt=_t(e))&&(kt.d(1),kt=wt(e),kt&&(kt.c(),kt.m(x,C))),(!$t||4&t[0]&&S!==(S="p-2 block rounded cursor-pointer border shadow-sm "+(e[2].settings.logo_raw?"bg-theme text-white":"")))&&o(x,"class",S),e[2].settings.logo?Ct?Ct.p(e,t):(Ct=ee(e),Ct.c(),Ct.m(d,null)):Ct&&(Ct.d(1),Ct=null),St===(St=Tt(e))&&It?It.p(e,t):(It.d(1),It=St(e),It&&(It.c(),It.m(B,null))),e[2].settings.timeslots.length>0?Dt?Dt.p(e,t):(Dt=le(e),Dt.c(),Dt.m(A,null)):Dt&&(Dt.d(1),Dt=null);const s={};!Z&&4&t[0]&&(Z=!0,s.value=e[2].settings.address,k(()=>Z=!1)),Q.$set(s);const l={};!se&&4&t[0]&&(se=!0,l.value=e[2].settings.address2,k(()=>se=!1)),K.$set(l);const a={};!ie&&4&t[0]&&(ie=!0,a.value=e[2].settings.postcode,k(()=>ie=!1)),ae.$set(a);const i={};!ue&&4&t[0]&&(ue=!0,i.value=e[2].settings.coordinates,k(()=>ue=!1)),ce.$set(i);const r={};!he&&4&t[0]&&(he=!0,r.value=e[2].settings.offline,k(()=>he=!1)),ve.$set(r);const g={};!ye&&4&t[0]&&(ye=!0,g.value=e[2].settings.short_id,k(()=>ye=!1)),xe.$set(g),(!$t||4&t[0])&&bt!==(bt=e[2].settings.short_id+"")&&p(Te,bt),(!$t||4&t[0]&&Se!==(Se="https://getorders.app/#"+e[2].settings.short_id))&&o(ke,"href",Se);const f={};!Le&&4&t[0]&&(Le=!0,f.value=e[2].settings.tax,k(()=>Le=!1)),De.$set(f);const m={};!Pe&&4&t[0]&&(Pe=!0,m.value=e[2].settings.delivery_fees,k(()=>Pe=!1)),Ae.$set(m);const $={};!Ue&&4&t[0]&&(Ue=!0,$.value=e[2].settings.phone,k(()=>Ue=!1)),Re.$set($);const v={};!Be&&4&t[0]&&(Be=!0,v.value=e[2].settings.announcement,k(()=>Be=!1)),Fe.$set(v);const h={};!Ge&&4&t[0]&&(Ge=!0,h.value=e[2].settings.checkout_notes,k(()=>Ge=!1)),Ee.$set(h);const b={};!We&&4&t[0]&&(We=!0,b.value=e[2].settings.order_methods,k(()=>We=!1)),He.$set(b);const y={};!Ye&&4&t[0]&&(Ye=!0,y.value=e[2].settings.list_style,k(()=>Ye=!1)),Qe.$set(y);const _={};!et&&4&t[0]&&(et=!0,_.value=e[2].settings.multiplier,k(()=>et=!1)),Xe.$set(_);const w={};!st&&4&t[0]&&(st=!0,w.value=e[2].settings.rounding,k(()=>st=!1)),nt.$set(w);const T={};!at&&4&t[0]&&(at=!0,T.value=e[2].settings.deduct_presets,k(()=>at=!1)),ot.$set(T);const I={};!dt&&4&t[0]&&(dt=!0,I.value=e[2].settings.google_analytic_id,k(()=>dt=!1)),gt.$set(I);const D={};!pt&&4&t[0]&&(pt=!0,D.value=e[2].settings.facebook_pixel_id,k(()=>pt=!1)),mt.$set(D)},i(e){$t||($(c.$$.fragment,e),$(Q.$$.fragment,e),$(K.$$.fragment,e),$(ae.$$.fragment,e),$(ce.$$.fragment,e),$(ve.$$.fragment,e),$(xe.$$.fragment,e),$(De.$$.fragment,e),$(Ae.$$.fragment,e),$(Re.$$.fragment,e),$(Fe.$$.fragment,e),$(Ee.$$.fragment,e),$(He.$$.fragment,e),$(Qe.$$.fragment,e),$(Xe.$$.fragment,e),$(nt.$$.fragment,e),$(ot.$$.fragment,e),$(gt.$$.fragment,e),$(mt.$$.fragment,e),$t=!0)},o(e){h(c.$$.fragment,e),h(Q.$$.fragment,e),h(K.$$.fragment,e),h(ae.$$.fragment,e),h(ce.$$.fragment,e),h(ve.$$.fragment,e),h(xe.$$.fragment,e),h(De.$$.fragment,e),h(Ae.$$.fragment,e),h(Re.$$.fragment,e),h(Fe.$$.fragment,e),h(Ee.$$.fragment,e),h(He.$$.fragment,e),h(Qe.$$.fragment,e),h(Xe.$$.fragment,e),h(nt.$$.fragment,e),h(ot.$$.fragment,e),h(gt.$$.fragment,e),h(mt.$$.fragment,e),$t=!1},d(s){s&&f(t),s&&f(n),L(c,s),s&&f(g),s&&f(d),kt.d(),e[11](null),Ct&&Ct.d(),s&&f(N),s&&f(A),It.d(),Dt&&Dt.d(),s&&f(H),s&&f(W),s&&f(q),L(Q,s),s&&f(J),L(K,s),s&&f(oe),L(ae,s),s&&f(re),L(ce,s),s&&f(ge),s&&f(de),s&&f(fe),s&&f(me),s&&f(pe),s&&f($e),L(ve),L(xe),L(De),L(Ae),L(Re),L(Fe),L(Ee),L(He),L(Qe),s&&f(Ze),s&&f(Je),s&&f(Ke),s&&f(Ve),L(Xe),L(nt),L(ot),s&&f(it),s&&f(rt),s&&f(ct),s&&f(ut),L(gt),L(mt),vt=!1,ht()}}}function V(e){let t,n,i;return{c(){t=s("i"),n=l(),i=s("span"),i.textContent="Image Selected",o(t,"class","icon ion-md-cloud-done px-1"),o(i,"class","mt-2 text-base leading-normal")},m(e,s){a(e,t,s),a(e,n,s),a(e,i,s)},d(e){e&&f(t),e&&f(n),e&&f(i)}}}function X(e){let t,n,i;return{c(){t=s("i"),n=l(),i=s("span"),i.textContent="Upload Image",o(t,"class","icon ion-md-cloud-upload px-1"),o(i,"class","mt-2 text-base leading-normal")},m(e,s){a(e,t,s),a(e,n,s),a(e,i,s)},d(e){e&&f(t),e&&f(n),e&&f(i)}}}function ee(e){let t;return{c(){t=s("div"),o(t,"class","w-16 h-16 m-1 border bg-cover bg-center"),C(t,"background-image","url("+T+e[2].settings.logo+")")},m(e,n){a(e,t,n)},p(e,n){4&n[0]&&C(t,"background-image","url("+T+e[2].settings.logo+")")},d(e){e&&f(t)}}}function te(e){let t,n,l;return{c(){t=s("p"),t.textContent="No Time Slots Specified. Tap To Add Time Slots.",o(t,"class","text-gray-500 cursor-pointer")},m(s,o){a(s,t,o),n||(l=r(t,"click",e[13]),n=!0)},p:I,d(e){e&&f(t),n=!1,l()}}}function ne(e){let t,n=e[2].settings.timeslots,s=[];for(let t=0;t<n.length;t+=1)s[t]=se(J(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=N()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);a(e,t,n)},p(e,l){if(68&l[0]){let o;for(n=e[2].settings.timeslots,o=0;o<n.length;o+=1){const a=J(e,n,o);s[o]?s[o].p(a,l):(s[o]=se(a),s[o].c(),s[o].m(t.parentNode,t))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(e){x(s,e),e&&f(t)}}}function se(e){let t,n,l,c,u,g=ie(e[42])+"";function d(...t){return e[12](e[42],...t)}return{c(){t=s("span"),n=m(g),l=s("i"),o(l,"class","icon ion-md-close pl-2 font-semibold"),o(t,"class","inline-block p-2 rounded-lg text-xs bg-theme text-white m-1")},m(e,s){a(e,t,s),i(t,n),i(t,l),c||(u=r(t,"click",d),c=!0)},p(t,s){e=t,4&s[0]&&g!==(g=ie(e[42])+"")&&p(n,g)},d(e){e&&f(t),c=!1,u()}}}function le(e){let t,n,i,u,g,d,m,p=e[3],$=[];for(let t=0;t<p.length;t+=1)$[t]=oe(Z(e,p,t));return{c(){t=s("button"),t.textContent="Clear",n=l(),i=s("button"),i.textContent="Reset",u=l(),g=s("select");for(let e=0;e<$.length;e+=1)$[e].c();o(t,"class","p-1 px-2 bg-theme rounded-lg text-sm text-white mr-2"),o(i,"class","p-1 px-2 bg-theme rounded-lg text-sm text-white mr-2"),void 0===e[0]&&c(()=>e[16].call(g))},m(s,l){a(s,t,l),a(s,n,l),a(s,i,l),a(s,u,l),a(s,g,l);for(let e=0;e<$.length;e+=1)$[e].m(g,null);S(g,e[0]),d||(m=[r(t,"click",e[14]),r(i,"click",e[15]),r(g,"change",e[16]),r(g,"change",e[17])],d=!0)},p(e,t){if(8&t[0]){let n;for(p=e[3],n=0;n<p.length;n+=1){const s=Z(e,p,n);$[n]?$[n].p(s,t):($[n]=oe(s),$[n].c(),$[n].m(g,null))}for(;n<$.length;n+=1)$[n].d(1);$.length=p.length}9&t[0]&&S(g,e[0])},d(e){e&&f(t),e&&f(n),e&&f(i),e&&f(u),e&&f(g),x($,e),d=!1,D(m)}}}function oe(e){let t,n,l,o,r=e[39]+"";return{c(){t=s("option"),n=m(r),l=m(" minutes"),t.__value=o=e[39],t.value=t.__value},m(e,s){a(e,t,s),i(t,n),i(t,l)},p:I,d(e){e&&f(t)}}}function ae(e){let t,n,s,o;t=new G({props:{class:"border-b border-gray-300",tools:e[4]}}),t.$on("selected",e[5]);let i=e[2].settings&&K(e);return{c(){y(t.$$.fragment),n=l(),i&&i.c(),s=N()},m(e,l){w(t,e,l),a(e,n,l),i&&i.m(e,l),a(e,s,l),o=!0},p(e,t){e[2].settings?i?(i.p(e,t),4&t[0]&&$(i,1)):(i=K(e),i.c(),$(i,1),i.m(s.parentNode,s)):i&&(v(),h(i,1,1,()=>{i=null}),b())},i(e){o||($(t.$$.fragment,e),$(i),o=!0)},o(e){h(t.$$.fragment,e),h(i),o=!1},d(e){L(t,e),e&&f(n),i&&i.d(e),e&&f(s)}}}function ie(e){var t=e.split(":"),n="AM",s=parseInt(t);return s>12&&(s-=12,n="PM"),`${s}:${t[1]}${n}`}function re(e){var t=""+e[1];return e[1]<10&&(t="0"+t),`${e[0]}:${t}`}function ce(e,t,n){let s,l;A(e,P,e=>n(36,s=e)),A(e,j,e=>n(2,l=e));let o,a=[45,30,15,10,5],i=30,r=[8,0],c=[23,30];function u(e){M(j,l.settings.timeslots=l.settings.timeslots.filter(t=>t!=e),l)}function g(e){var t=r.slice();let n=[re(t)];for(var s=1;s<60&&!(t[0]>=c[0]&&t[1]>=c[1]);s++)t[1]+=e,t[1]>=60&&(t[0]+=1,t[1]=t[1]-60),n=[...n,re(t)];M(j,l.settings.timeslots=n,l)}return[i,o,l,a,[{name:"Save",icon:"cloud-done",function:"save"}],function(e){switch(e.detail.function){case"save":M(P,s=!0),F(B("/settings"),l.settings).then(e=>{M(j,l=e),M(P,s=!1)}).catch(e=>{})}},u,g,{container:"p-2 md:w-1/2 flex-none",label:"w-32"},function(){let e=new FileReader;e.readAsDataURL(o.files[0]),e.onload=()=>{let t=e.result;M(j,l.settings.logo_raw=t,l)}},function(e){l.settings.name=e,j.set(l)},function(e){R[e?"unshift":"push"](()=>{o=e,n(1,o)})},e=>u(e),()=>g(i),()=>M(j,l.settings.timeslots=[],l),()=>g(i),function(){i=O(this),n(0,i),n(3,a)},()=>g(i),function(e){l.settings.address=e,j.set(l)},function(e){l.settings.address2=e,j.set(l)},function(e){l.settings.postcode=e,j.set(l)},function(e){l.settings.coordinates=e,j.set(l)},function(e){l.settings.offline=e,j.set(l)},function(e){l.settings.short_id=e,j.set(l)},function(e){l.settings.tax=e,j.set(l)},function(e){l.settings.delivery_fees=e,j.set(l)},function(e){l.settings.phone=e,j.set(l)},function(e){l.settings.announcement=e,j.set(l)},function(e){l.settings.checkout_notes=e,j.set(l)},function(e){l.settings.order_methods=e,j.set(l)},function(e){l.settings.list_style=e,j.set(l)},function(e){l.settings.multiplier=e,j.set(l)},function(e){l.settings.rounding=e,j.set(l)},function(e){l.settings.deduct_presets=e,j.set(l)},function(e){l.settings.google_analytic_id=e,j.set(l)},function(e){l.settings.facebook_pixel_id=e,j.set(l)}]}export default class extends e{constructor(e){var l;super(),document.getElementById("svelte-1cgd9p3-style")||((l=s("style")).id="svelte-1cgd9p3-style",l.textContent=".sect.svelte-1cgd9p3{font-size:1.25rem;font-weight:700;margin-top:0.75rem}",i(document.head,l)),t(this,e,ce,ae,n,{},[-1,-1])}}
//# sourceMappingURL=Settings-f715950a.js.map
