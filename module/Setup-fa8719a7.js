import{S as t,i as e,s as n,e as s,d as l,M as r,j as a,m as i,k as c,o,p as u,q as d,b as p,c as m,r as f,u as g,h as x,a as h,t as b,n as w,v as y,f as v,l as $,w as k,x as C,g as S,y as M,z as E,A as L,B as P,C as T,D as _,E as H,F as A,L as I,G as O,H as j}from"./Web-f665e459.js";import{T as N}from"./UITextField-17a4870d.js";function q(t,e,n){const s=t.slice();return s[35]=e[n],s}function D(t,e,n){const s=t.slice();return s[38]=e[n],s}function F(t,e,n){const s=t.slice();return s[38]=e[n],s[42]=n,s}function B(t){let e,n;return e=new I({props:{$$slots:{message:[R]},$$scope:{ctx:t}}}),{c(){a(e.$$.fragment)},m(t,s){i(e,t,s),n=!0},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){o(e.$$.fragment,t),n=!1},d(t){u(e,t)}}}function R(t){let e;return{c(){e=s("div"),e.textContent="One Moment Please..",p(e,"slot","message")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function Y(t){let e,n,l=t[9]&&B(t);return{c(){e=s("div"),l&&l.c(),p(e,"slot","loader")},m(t,s){m(t,e,s),l&&l.m(e,null),n=!0},p(t,n){t[9]?l?512&n[0]&&c(l,1):(l=B(t),l.c(),c(l,1),l.m(e,null)):l&&(f(),o(l,1,1,()=>{l=null}),g())},i(t){n||(c(l),n=!0)},o(t){o(l),n=!1},d(t){t&&x(e),l&&l.d()}}}function G(t){let e;return{c(){e=s("div"),e.textContent="Setup",p(e,"slot","title"),p(e,"class","text-center font-semibold text-2xl text-gray-600 m-2 flex")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function W(t){let e;return{c(){e=s("span"),e.innerHTML='<i class="fa fa-check w-full fill-current white"></i>',p(e,"class","text-white text-center w-full")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function z(t){let e;return{c(){e=s("span"),e.innerHTML='<i class="fa fa-ellipsis-h w-full fill-current white"></i>',p(e,"class","text-white text-center w-full")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function J(t){let e;return{c(){e=s("span"),e.innerHTML='<i class="fa fa-check w-full fill-current white"></i>',p(e,"class","text-white text-center w-full")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function U(t){let e,n,r,a,i;function c(t,e){return t[10].settings.step>t[42]+2?J:t[10].settings.step>t[42]+1?z:void 0}let o=c(t),u=o&&o(t);return{c(){e=s("div"),e.innerHTML='<div class="w-full bg-gray-300 rounded items-center align-middle align-center flex-1"><div class="bg-green-light text-xs leading-none py-1 text-center text-grey-darkest rounded w-full"></div></div>',n=h(),r=s("div"),a=s("div"),u&&u.c(),p(e,"class","w-1/6 align-center items-center align-middle content-center flex"),p(a,"class",i="w-10 h-10 bg-"+(t[10].settings.step>t[42]+2?"green":"gray")+"-500 mx-auto rounded-full text-lg text-white flex items-center"),p(r,"class","flex-1")},m(t,s){m(t,e,s),m(t,n,s),m(t,r,s),l(r,a),u&&u.m(a,null)},p(t,e){o!==(o=c(t))&&(u&&u.d(1),u=o&&o(t),u&&(u.c(),u.m(a,null))),1024&e[0]&&i!==(i="w-10 h-10 bg-"+(t[10].settings.step>t[42]+2?"green":"gray")+"-500 mx-auto rounded-full text-lg text-white flex items-center")&&p(a,"class",i)},d(t){t&&x(e),t&&x(n),t&&x(r),u&&u.d()}}}function K(t){let e,n,r,a=t[38]+"";return{c(){e=s("div"),n=b(a),r=h(),p(e,"class","w-1/4")},m(t,s){m(t,e,s),l(e,n),l(e,r)},p:w,d(t){t&&x(e)}}}function Q(t){let e,n,l,r,d,f,g,b,w,v;function $(e){t[15].call(null,e)}let k={style:t[14],label:"Company Name"};function C(e){t[16].call(null,e)}void 0!==t[10].settings.name&&(k.value=t[10].settings.name),d=new N({props:k}),A.push(()=>O(d,"value",$));let S={style:t[14],label:"Billing Email"};return void 0!==t[10].settings.billing_email&&(S.value=t[10].settings.billing_email),b=new N({props:S}),A.push(()=>O(b,"value",C)),{c(){e=s("div"),e.textContent="Account Info",n=h(),l=s("p"),l.textContent="Fill in your details below to complete your account information.",r=h(),a(d.$$.fragment),g=h(),a(b.$$.fragment),p(e,"class","border-b border-gray-300 m-3 text-theme text-xl text-bold"),p(l,"class","text-center text-gray-600 mb-3")},m(t,s){m(t,e,s),m(t,n,s),m(t,l,s),m(t,r,s),i(d,t,s),m(t,g,s),i(b,t,s),v=!0},p(t,e){const n={};!f&&1024&e[0]&&(f=!0,n.value=t[10].settings.name,y(()=>f=!1)),d.$set(n);const s={};!w&&1024&e[0]&&(w=!0,s.value=t[10].settings.billing_email,y(()=>w=!1)),b.$set(s)},i(t){v||(c(d.$$.fragment,t),c(b.$$.fragment,t),v=!0)},o(t){o(d.$$.fragment,t),o(b.$$.fragment,t),v=!1},d(t){t&&x(e),t&&x(n),t&&x(l),t&&x(r),u(d,t),t&&x(g),u(b,t)}}}function V(t){let e,n,r,a,i,c,o,u,d,f,g,b,w,y,C,S,M,E,L,P,T,_,H,A,I;return{c(){e=s("p"),e.textContent="Fill in billing details to proceed. You will not be charged until your subscription starts.",n=h(),r=s("form"),a=s("div"),i=s("div"),c=s("label"),c.textContent="Name",o=h(),u=s("input"),d=h(),f=s("div"),g=s("label"),g.textContent="Email Address",b=h(),w=s("input"),y=h(),C=s("div"),S=s("div"),M=s("label"),M.textContent="Card Details",E=h(),L=s("div"),P=h(),T=s("div"),_=h(),H=s("div"),H.innerHTML='<img alt="Powered by Stripe" style="width:350px;height:60px;" src="https://cdn.glitch.com/6e0f0f76-4d72-45e5-ac7d-1057233d751f%2Fsecure-payments-powered-by-stripe.png?v=1574239488502"/>',p(e,"class","text-center text-gray-500"),p(c,"for","name"),p(c,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),p(u,"class","w-64 px-3"),p(u,"placeholder","Jenny Rosen"),u.required=!0,p(i,"class","w-full p-3"),p(g,"for","email"),p(g,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),p(w,"class","w-64 px-3"),p(w,"type","email"),p(w,"placeholder","jenny.rosen@example.com"),w.required=!0,p(f,"class","w-full p-3"),p(a,"class","flex flex-wrap -mx-3 mb-6"),p(M,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),p(L,"class","px-3 pt-5"),p(T,"role","alert"),p(H,"class","w-full mt-3"),p(S,"class","w-full px-3"),p(C,"class","flex flex-wrap -mx-3 mb-6"),p(r,"action","/charge"),p(r,"method","post"),p(r,"id","payment-form"),p(r,"class","svelte-7gaomy")},m(s,p){m(s,e,p),m(s,n,p),m(s,r,p),l(r,a),l(a,i),l(i,c),l(i,o),l(i,u),v(u,t[2]),l(a,d),l(a,f),l(f,g),l(f,b),l(f,w),v(w,t[3]),l(r,y),l(r,C),l(C,S),l(S,M),l(S,E),l(S,L),t[19](L),l(S,P),l(S,T),t[20](T),l(S,_),l(S,H),A||(I=[$(u,"input",t[17]),$(w,"input",t[18])],A=!0)},p(t,e){4&e[0]&&u.value!==t[2]&&v(u,t[2]),8&e[0]&&w.value!==t[3]&&v(w,t[3])},d(s){s&&x(e),s&&x(n),s&&x(r),t[19](null),t[20](null),A=!1,k(I)}}}function X(t){let e,n,l;function r(t,e){return t[4]?Z:tt}let a=r(t),i=a(t);return{c(){e=s("p"),e.textContent="Select a Subscription Plan.",n=h(),i.c(),l=C(),p(e,"class","text-center text-gray-500")},m(t,s){m(t,e,s),m(t,n,s),i.m(t,s),m(t,l,s)},p(t,e){a===(a=r(t))&&i?i.p(t,e):(i.d(1),i=a(t),i&&(i.c(),i.m(l.parentNode,l)))},d(t){t&&x(e),t&&x(n),i.d(t),t&&x(l)}}}function Z(t){let e,n=t[4],l=[];for(let e=0;e<n.length;e+=1)l[e]=et(q(t,n,e));return{c(){e=s("div");for(let t=0;t<l.length;t+=1)l[t].c();p(e,"class","font-sans container m-auto flex flex-col flex-wrap sm:flex-row justify-center")},m(t,n){m(t,e,n);for(let t=0;t<l.length;t+=1)l[t].m(e,null)},p(t,s){if(48&s[0]){let r;for(n=t[4],r=0;r<n.length;r+=1){const a=q(t,n,r);l[r]?l[r].p(a,s):(l[r]=et(a),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(t){t&&x(e),M(l,t)}}}function tt(t){let e;return{c(){e=b("Loading plans.. One moment.")},m(t,n){m(t,e,n)},p:w,d(t){t&&x(e)}}}function et(t){let e,n,r,a,i,c,o,u,d,f,g,w,y,v,k,C=t[35].nickname+"",M=j(t[35].metadata.desc)+"",E=t[35].amount/100+"",L=t[35].interval+"";function P(...e){return t[21](t[35],...e)}return{c(){e=s("div"),n=s("h2"),r=b(C),a=h(),i=s("p"),c=h(),o=s("p"),u=b("RM"),d=b(E),f=b(" / "),g=b(L),w=h(),p(n,"class","font-bold text-theme text-xl"),p(o,"class","text-gray-500 font-bold"),p(e,"class",y="border mx-3 my-3 p-3 shadow w-1/3 cursor-pointer"+(t[5]==t[35].id?" border-green-500":""))},m(t,s){m(t,e,s),l(e,n),l(n,r),l(e,a),l(e,i),i.innerHTML=M,l(e,c),l(e,o),l(o,u),l(o,d),l(o,f),l(o,g),l(e,w),v||(k=$(e,"click",P),v=!0)},p(n,s){t=n,16&s[0]&&C!==(C=t[35].nickname+"")&&S(r,C),16&s[0]&&M!==(M=j(t[35].metadata.desc)+"")&&(i.innerHTML=M),16&s[0]&&E!==(E=t[35].amount/100+"")&&S(d,E),16&s[0]&&L!==(L=t[35].interval+"")&&S(g,L),48&s[0]&&y!==(y="border mx-3 my-3 p-3 shadow w-1/3 cursor-pointer"+(t[5]==t[35].id?" border-green-500":""))&&p(e,"class",y)},d(t){t&&x(e),v=!1,k()}}}function nt(t){let e,n,r,a,i,c,o,u,d,f,g,b,w,y,C,S,M=""!=t[6].error&&st(t);return{c(){e=s("p"),e.innerHTML="Your account is almost done! What&#39;s left now is to link <b>GetOrders</b> to a POS Cloud. If you do not need POS integration, press on <b>&#39;Skip&#39;</b> to continue.",n=h(),r=s("form"),a=s("div"),i=s("div"),c=s("label"),c.textContent="Account Email",o=h(),u=s("input"),d=h(),f=s("div"),g=s("label"),g.textContent="Password",b=h(),w=s("input"),y=h(),M&&M.c(),p(e,"class","text-center text-gray-600"),p(c,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),p(u,"class","border rounded shadow w-64 p-3"),p(u,"type","email"),p(u,"placeholder","johnyappleseed@example.com"),u.required=!0,p(i,"class","w-full p-3"),p(g,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),p(w,"class","border rounded shadow w-64 p-3"),p(w,"type","password"),p(w,"placeholder","∙∙∙∙∙∙∙∙∙∙"),w.required=!0,p(f,"class","w-full p-3"),p(a,"class","flex flex-wrap mb-6"),p(r,"action","/login"),p(r,"method","post")},m(s,p){m(s,e,p),m(s,n,p),m(s,r,p),l(r,a),l(a,i),l(i,c),l(i,o),l(i,u),v(u,t[6].username),l(a,d),l(a,f),l(f,g),l(f,b),l(f,w),v(w,t[6].password),l(r,y),M&&M.m(r,null),C||(S=[$(u,"input",t[22]),$(w,"input",t[23])],C=!0)},p(t,e){64&e[0]&&u.value!==t[6].username&&v(u,t[6].username),64&e[0]&&w.value!==t[6].password&&v(w,t[6].password),""!=t[6].error?M?M.p(t,e):(M=st(t),M.c(),M.m(r,null)):M&&(M.d(1),M=null)},d(t){t&&x(e),t&&x(n),t&&x(r),M&&M.d(),C=!1,k(S)}}}function st(t){let e,n,r,a,i,c=t[6].error+"";return{c(){e=s("div"),n=s("strong"),n.textContent="Error",r=h(),a=s("span"),i=b(c),p(n,"class","font-bold"),p(a,"class","block sm:inline"),p(e,"class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative"),p(e,"role","alert")},m(t,s){m(t,e,s),l(e,n),l(e,r),l(e,a),l(a,i)},p(t,e){64&e[0]&&c!==(c=t[6].error+"")&&S(i,c)},d(t){t&&x(e)}}}function lt(t){let e,n,r,a,i,c,o,u,d,f,g,b,w,y,v,$,k,C,S;function M(t,e){return t[7]||5!=t[10].settings.step?rt:at}let E=M(t),L=E(t);function P(t,e){return t[7]?t[8]+1<t[7].length?ct:it:ot}let T=P(t),_=T(t);function H(t,e){return t[7]?ut:dt}let A=H(t),I=A(t);function O(t,e){return 5==t[10].settings.step?mt:pt}let j=O(t),N=j(t);return{c(){e=s("div"),e.textContent="Preparing Your Account",n=h(),r=s("div"),a=s("table"),i=s("tbody"),c=s("tr"),o=s("td"),L.c(),u=h(),d=s("span"),d.textContent="Retrieve Outlets Information",f=h(),g=s("tr"),b=s("td"),_.c(),w=h(),y=s("span"),I.c(),v=h(),$=s("tr"),k=s("td"),N.c(),C=h(),S=s("span"),S.textContent="Save Changes",p(e,"class","border-b border-gray-300 m-3 text-theme text-xl text-bold"),p(d,"class","pl-3"),p(o,"class","border px-4 py-2"),p(y,"class","pl-3"),p(b,"class","border px-4 py-2"),p(g,"class","bg-gray-100"),p(S,"class","pl-3"),p(k,"class","border px-4 py-2"),p(a,"class","table-auto"),p(r,"class","p-3")},m(t,s){m(t,e,s),m(t,n,s),m(t,r,s),l(r,a),l(a,i),l(i,c),l(c,o),L.m(o,null),l(o,u),l(o,d),l(i,f),l(i,g),l(g,b),_.m(b,null),l(b,w),l(b,y),I.m(y,null),l(i,v),l(i,$),l($,k),N.m(k,null),l(k,C),l(k,S)},p(t,e){E!==(E=M(t))&&(L.d(1),L=E(t),L&&(L.c(),L.m(o,u))),T!==(T=P(t))&&(_.d(1),_=T(t),_&&(_.c(),_.m(b,w))),A===(A=H(t))&&I?I.p(t,e):(I.d(1),I=A(t),I&&(I.c(),I.m(y,null))),j!==(j=O(t))&&(N.d(1),N=j(t),N&&(N.c(),N.m(k,C)))},d(t){t&&x(e),t&&x(n),t&&x(r),L.d(),_.d(),I.d(),N.d()}}}function rt(t){let e;return{c(){e=s("i"),p(e,"class","fas fa-check-circle text-theme")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function at(t){let e;return{c(){e=s("i"),p(e,"class","fas fa-spinner fa-spin")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function it(t){let e;return{c(){e=s("i"),p(e,"class","fas fa-check-circle text-theme")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function ct(t){let e;return{c(){e=s("i"),p(e,"class","fas fa-spinner fa-spin")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function ot(t){let e;return{c(){e=s("i"),p(e,"class","fas fa-ellipsis-h")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function ut(t){let e,n,r,a,i,c,o,u,d=t[7][t[8]].name+"",p=t[8]+1+"",f=t[7].length+"";return{c(){e=b("Now Syncing "),n=s("b"),r=b(d),a=b(" ("),i=b(p),c=b(" / "),o=b(f),u=b(")")},m(t,s){m(t,e,s),m(t,n,s),l(n,r),m(t,a,s),m(t,i,s),m(t,c,s),m(t,o,s),m(t,u,s)},p(t,e){384&e[0]&&d!==(d=t[7][t[8]].name+"")&&S(r,d),256&e[0]&&p!==(p=t[8]+1+"")&&S(i,p),128&e[0]&&f!==(f=t[7].length+"")&&S(o,f)},d(t){t&&x(e),t&&x(n),t&&x(a),t&&x(i),t&&x(c),t&&x(o),t&&x(u)}}}function dt(t){let e;return{c(){e=b("Sync Outlet Products")},m(t,n){m(t,e,n)},p:w,d(t){t&&x(e)}}}function pt(t){let e;return{c(){e=s("i"),p(e,"class","fas fa-check-circle text-theme")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function mt(t){let e;return{c(){e=s("i"),p(e,"class","fas fa-spinner fa-spin")},m(t,n){m(t,e,n)},d(t){t&&x(e)}}}function ft(t){let e,n,r,a,i,c,o=t[10].settings.step>5?"Done":"Next",u=4==t[10].settings.step&&gt(t);return{c(){e=s("div"),n=s("button"),r=b(o),a=h(),u&&u.c(),p(n,"class","rounded bg-theme hover:bg-gray-500 text-white font-bold py-2 px-4 w-1/2 h-12 my-2"),p(n,"type","button"),p(e,"class","text-center w-full")},m(s,o){m(s,e,o),l(e,n),l(n,r),l(e,a),u&&u.m(e,null),i||(c=$(n,"click",t[13]),i=!0)},p(t,n){1024&n[0]&&o!==(o=t[10].settings.step>5?"Done":"Next")&&S(r,o),4==t[10].settings.step?u?u.p(t,n):(u=gt(t),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(t){t&&x(e),u&&u.d(),i=!1,c()}}}function gt(t){let e,n,l;return{c(){e=s("button"),e.textContent="Skip",p(e,"class","rounded bg-orange-500 hover:bg-gray-500 text-white font-bold py-2 px-4 w-1/2 h-12 my-2"),p(e,"type","button")},m(s,r){m(s,e,r),n||(l=$(e,"click",t[12]),n=!0)},p:w,d(t){t&&x(e),n=!1,l()}}}function xt(t){let e,n,r,a,i,u,d,b,w,y,v,$,k,C,S,E,L,P,T,_,H,A,I,O=t[10].settings.step>1&&W(),j=t[11],N=[];for(let e=0;e<j.length;e+=1)N[e]=U(F(t,j,e));let q=t[11],B=[];for(let e=0;e<q.length;e+=1)B[e]=K(D(t,q,e));let R=1==t[10].settings.step&&Q(t),Y=2==t[10].settings.step&&V(t),G=3==t[10].settings.step&&X(t),z=4==t[10].settings.step&&nt(t),J=t[10].settings.step>4&&lt(t),Z=5!=t[10].settings.step&&ft(t);return{c(){e=s("div"),n=s("div"),r=s("div"),a=s("div"),i=h(),u=s("div"),d=s("div"),O&&O.c(),w=h();for(let t=0;t<N.length;t+=1)N[t].c();y=h(),v=s("div"),$=h(),k=s("div"),C=s("div"),C.textContent="Setup Profile",S=h();for(let t=0;t<B.length;t+=1)B[t].c();E=h(),L=s("div"),R&&R.c(),P=h(),Y&&Y.c(),T=h(),G&&G.c(),_=h(),z&&z.c(),H=h(),J&&J.c(),A=h(),Z&&Z.c(),p(a,"class","flex-1"),p(d,"class",b="w-10 h-10 bg-"+(t[10].settings.step>1?"green":"gray")+"-500 mx-auto rounded-full text-lg text-white flex items-center"),p(u,"class","flex-1"),p(v,"class","flex-1"),p(r,"class","flex pb-3"),p(C,"class","w-1/4"),p(k,"class","flex text-xs content-center text-center"),p(n,"class","max-w-xl mx-auto my-4 pb-4"),p(L,"class","border mx-3 my-3 p-3 shadow overflow-hidden"),p(e,"slot","content")},m(t,s){m(t,e,s),l(e,n),l(n,r),l(r,a),l(r,i),l(r,u),l(u,d),O&&O.m(d,null),l(r,w);for(let t=0;t<N.length;t+=1)N[t].m(r,null);l(r,y),l(r,v),l(n,$),l(n,k),l(k,C),l(k,S);for(let t=0;t<B.length;t+=1)B[t].m(k,null);l(e,E),l(e,L),R&&R.m(L,null),l(L,P),Y&&Y.m(L,null),l(L,T),G&&G.m(L,null),l(L,_),z&&z.m(L,null),l(L,H),J&&J.m(L,null),l(L,A),Z&&Z.m(L,null),I=!0},p(t,e){if(t[10].settings.step>1?O||(O=W(),O.c(),O.m(d,null)):O&&(O.d(1),O=null),(!I||1024&e[0]&&b!==(b="w-10 h-10 bg-"+(t[10].settings.step>1?"green":"gray")+"-500 mx-auto rounded-full text-lg text-white flex items-center"))&&p(d,"class",b),1024&e[0]){let n;for(j=t[11],n=0;n<j.length;n+=1){const s=F(t,j,n);N[n]?N[n].p(s,e):(N[n]=U(s),N[n].c(),N[n].m(r,y))}for(;n<N.length;n+=1)N[n].d(1);N.length=j.length}if(2048&e[0]){let n;for(q=t[11],n=0;n<q.length;n+=1){const s=D(t,q,n);B[n]?B[n].p(s,e):(B[n]=K(s),B[n].c(),B[n].m(k,null))}for(;n<B.length;n+=1)B[n].d(1);B.length=q.length}1==t[10].settings.step?R?(R.p(t,e),1024&e[0]&&c(R,1)):(R=Q(t),R.c(),c(R,1),R.m(L,P)):R&&(f(),o(R,1,1,()=>{R=null}),g()),2==t[10].settings.step?Y?Y.p(t,e):(Y=V(t),Y.c(),Y.m(L,T)):Y&&(Y.d(1),Y=null),3==t[10].settings.step?G?G.p(t,e):(G=X(t),G.c(),G.m(L,_)):G&&(G.d(1),G=null),4==t[10].settings.step?z?z.p(t,e):(z=nt(t),z.c(),z.m(L,H)):z&&(z.d(1),z=null),t[10].settings.step>4?J?J.p(t,e):(J=lt(t),J.c(),J.m(L,A)):J&&(J.d(1),J=null),5!=t[10].settings.step?Z?Z.p(t,e):(Z=ft(t),Z.c(),Z.m(L,null)):Z&&(Z.d(1),Z=null)},i(t){I||(c(R),I=!0)},o(t){o(R),I=!1},d(t){t&&x(e),O&&O.d(),M(N,t),M(B,t),R&&R.d(),Y&&Y.d(),G&&G.d(),z&&z.d(),J&&J.d(),Z&&Z.d()}}}function ht(t){let e,n;return{c(){e=h(),n=h()},m(t,s){m(t,e,s),m(t,n,s)},p:w,i:w,o:w,d(t){t&&x(e),t&&x(n)}}}function bt(t){let e,n;return e=new r({props:{dismiss:"false",$$slots:{default:[ht],content:[xt],title:[G],loader:[Y]},$$scope:{ctx:t}}}),{c(){a(e.$$.fragment)},m(t,s){i(e,t,s),n=!0},p(t,n){const s={};2047&n[0]|4096&n[1]&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){o(e.$$.fragment,t),n=!1},d(t){u(e,t)}}}function wt(t,e,n){let s,l,r;d(t,E,t=>n(10,s=t)),d(t,L,t=>n(26,l=t)),d(t,P,t=>n(27,r=t));let a,i,c,o,u,p,m="",f="",g=!1,x={username:"",password:"",error:""},h=0,b=!1;function w(t){(async()=>{n(9,b=!0),await _(H("/settings"),t).then(t=>{T(E,s=t),n(9,b=!1),console.log(t)}).catch(t=>{})})()}return t.$$.update=()=>{64&t.$$.dirty[0]&&""!=x.password&&""!=x.error&&n(6,x.error="",x),33555601&t.$$.dirty[0]&&s.settings&&(2==s.settings.step&&!g&&a&&((async()=>{n(9,b=!0),await _(H("/billing/intent"),{customer:s.id}).then(t=>{c=t.client_secret,n(9,b=!1)}).catch(t=>{})})(),n(25,g=!0)),3!=s.settings.step||o||function t(){n(9,b=!0),_(H("/plans")).then(e=>{e.errorMessage?t():(n(4,o=e.data.sort((t,e)=>parseInt(t.metadata.sort)-parseInt(e.metadata.sort))),n(9,b=!1))})}(),5!=s.settings.step||p||(n(9,b=!0),_(H("/accounts")).then(t=>{n(9,b=!1),T(L,l=t),n(7,p=[]),t.forEach(t=>{n(7,p=[...p,...t.outlets])}),console.log(p),function t(e){n(8,h=e);let l=p[e].id;_(H("/accounts/refresh"),{outlet_id:l}).then(n=>{e+1==p.length?w({step:s.settings.step+1}):t(e+1)})}(0)}).catch(t=>{})))},[a,i,m,f,o,u,x,p,h,b,s,["Provide Billing Details","Select a Plan","Link Account"],function(){w({step:6,skip:"pos"})},function(){switch(s.settings.step){case 1:w({...s.settings,step:s.settings.step+3});case 2:if(g){n(9,b=!0);let t={name:m,email:f};(void 0).confirmCardSetup(c,{payment_method:{card:void 0,billing_details:t}}).then((function(e){n(9,b=!1),console.log(e),e.error||(n(9,b=!0),t.customer=s.id,t.payment_method=e.setupIntent.payment_method,_(H("/billing/confirm"),t).then(t=>{n(9,b=!1),w({step:s.settings.step+1})}).catch(t=>{}))}))}break;case 3:u&&(n(9,b=!0),_(H("/billing/subscribe"),{plan_id:u}).then(t=>{n(9,b=!1),w({step:s.settings.step+1})}).catch(t=>{}));break;case 4:""!=x.username&&""!=x.password&&(n(9,b=!0),_(H("/accounts/link"),x).then(t=>{n(9,b=!1),t.status?w({step:s.settings.step+1}):(n(6,x.password="",x),n(6,x.error=t.error||"An Error Occured. Try Again.",x))}).catch(t=>{}));break;case 6:T(P,r=[])}},{label:"w-32",container:"p-2"},function(t){s.settings.name=t,E.set(s)},function(t){s.settings.billing_email=t,E.set(s)},function(){m=this.value,n(2,m)},function(){f=this.value,n(3,f)},function(t){A[t?"unshift":"push"](()=>{a=t,n(0,a)})},function(t){A[t?"unshift":"push"](()=>{i=t,n(1,i)})},t=>n(5,u=t.id),function(){x.username=this.value,n(6,x)},function(){x.password=this.value,n(6,x)}]}export default class extends t{constructor(t){var r;super(),document.getElementById("svelte-7gaomy-style")||((r=s("style")).id="svelte-7gaomy-style",r.textContent="#payment-form.svelte-7gaomy input, .StripeElement{height:40px;color:#32325d;background-color:white;border:1px solid transparent;border-radius:4px;box-shadow:0 1px 3px 0 #e6ebf1;-webkit-transition:box-shadow 150ms ease;transition:box-shadow 150ms ease}#payment-form.svelte-7gaomy input:focus, .StripeElement--focus{box-shadow:0 1px 3px 0 #cfd7df}#payment-form.svelte-7gaomy .StripeElement--invalid{border-color:#fa755a}",l(document.head,r)),e(this,t,wt,bt,n,{},[-1,-1])}}
//# sourceMappingURL=Setup-fa8719a7.js.map
